(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[31],{2217:(G,$,b)=>{"use strict";b.d($,{z:()=>e});var p=b(4893),D=b(257),R=b(2382),M=b(6166),T=b(9808);function u(Z,F){if(1&Z&&p._UZ(0,"ngx-datatable-column",8),2&Z){const v=F.$implicit;p.Q6J("name",v.cNombre)("prop",v.cPropiedad)}}let e=(()=>{class Z{constructor(v,C){this.activeModal=v,this.modalService=C,this.data=[],this.dataTemp=[],this.props=[],this.valueBuscador=""}ngOnInit(){}ngAfterViewChecked(){window.dispatchEvent(new Event("resize"))}close(v=this){v.activeModal.close({})}filterDatatable(v){if(this.data=this.dataTemp,""===v.target.value)this.data=this.dataTemp;else{const C=v.target.value.toLowerCase(),q=this.data.filter(N=>-1!==N[Object.keys(N)[0]].toString().toLowerCase().indexOf(C)||!C||-1!==N[Object.keys(N)[1]].toLowerCase().indexOf(C)||!C);this.data=q}}onClick(v){"click"==v.type&&(this.selectedRow&&this.selectedRow[Object.keys(this.selectedRow)[0]]==v.row[Object.keys(v.row)[0]]?this.activeModal.close({id:this.selectedRow[Object.keys(this.selectedRow)[0]],cDescripcion:this.selectedRow[Object.keys(this.selectedRow)[1]]}):this.selectedRow=v.row)}}return Z.\u0275fac=function(v){return new(v||Z)(p.Y36(D.Kz),p.Y36(D.FF))},Z.\u0275cmp=p.Xpm({type:Z,selectors:[["app-busqueda-modal"]],inputs:{titulo:"titulo",data:"data",dataTemp:"dataTemp",props:"props"},decls:10,vars:12,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["type","text","matInput","","placeholder","Buscar ...",3,"ngModel","keyup","ngModelChange"],[1,"material","shadow-none",3,"rows","loadingIndicator","columnMode","headerHeight","footerHeight","rowHeight","reorderable","limit","scrollbarH","activate"],[3,"name","prop",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"name","prop"]],template:function(v,C){1&v&&(p.TgZ(0,"div",0)(1,"h5",1),p._uU(2),p.qZA()(),p.TgZ(3,"div",2)(4,"input",3),p.NdJ("keyup",function(N){return C.filterDatatable(N)})("ngModelChange",function(N){return C.valueBuscador=N}),p.qZA(),p.TgZ(5,"ngx-datatable",4),p.NdJ("activate",function(N){return C.onClick(N)}),p.YNc(6,u,1,2,"ngx-datatable-column",5),p.qZA()(),p.TgZ(7,"div",6)(8,"button",7),p.NdJ("click",function(){return C.close()}),p._uU(9," Cerrar "),p.qZA()()),2&v&&(p.xp6(2),p.Oqu(C.titulo),p.xp6(2),p.Q6J("ngModel",C.valueBuscador),p.xp6(1),p.Q6J("rows",C.data)("loadingIndicator",C.loadingIndicator)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("reorderable",C.reorderable)("limit",10)("scrollbarH",!0),p.xp6(1),p.Q6J("ngForOf",C.props))},directives:[R.Fj,R.JJ,R.On,M.nE,T.sg,M.UC],styles:[""]}),Z})()},2031:(G,$,b)=>{"use strict";b.r($),b.d($,{TripsToReceiveModule:()=>se});var p=b(9808),D=b(9560),R=b(5886),M=b(6166),T=b(5861),u=b(2382),e=b(4893),Z=b(257),F=b(1969),v=b(9378),C=b(5835);function q(r,g){if(1&r&&(e.TgZ(0,"tr")(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",21),e._uU(4),e.qZA(),e.TgZ(5,"th",21),e._uU(6),e.qZA(),e.TgZ(7,"td",21),e._uU(8),e.ALo(9,"number"),e.qZA(),e.TgZ(10,"td",21),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td",21),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td",21),e._uU(17),e.ALo(18,"number"),e.qZA()()),2&r){const t=g.$implicit;e.xp6(2),e.Oqu(t.cFactura),e.xp6(2),e.Oqu(t.dFechaCompra),e.xp6(2),e.Oqu(t.cAlmacen),e.xp6(2),e.Oqu(e.xi3(9,7,t.nlitrosComprados,"1.4-4")),e.xp6(3),e.Oqu(e.xi3(12,10,t.nlitrosComprados-t.nLitrosPendientes,"1.4-4")),e.xp6(3),e.Oqu(e.xi3(15,13,t.nLitrosPendientes-t.nLitrosRestantes,"1.4-4")),e.xp6(3),e.Oqu(e.xi3(18,16,t.nLitrosRestantes,"1.4-4"))}}function N(r,g){if(1&r&&(e.TgZ(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e._uU(4,"Nro.Factura"),e.qZA(),e.TgZ(5,"th",21),e._uU(6,"Fecha de movimiento"),e.qZA(),e.TgZ(7,"th",21),e._uU(8,"Almacen destino"),e.qZA(),e.TgZ(9,"th",21),e._uU(10,"Litros comprados"),e.qZA(),e.TgZ(11,"th",21),e._uU(12,"Litros recibidos previamente"),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Litros a recibir"),e.qZA(),e.TgZ(15,"th",21),e._uU(16,"Litros pendientes de recibir"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,q,19,19,"tr",22),e.qZA()()),2&r){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.compras)}}const te=function(){return{prefix:"",thousands:",",decimal:".",precision:2}},oe=function(r){return{"has-error":r}};let W=(()=>{class r{constructor(t,o,n,i,d){this.activeModal=t,this.formBuilder=o,this.util=n,this.service=i,this.datePipe=d,this.data=[],this.dataTemp=[],this.valueBuscador="",this.maxDate=new Date,this.minDate=new Date}ngOnInit(){this.dataTemp=[],this.data=[],this.minDate=new Date(new Date(this.compra.dFechaCompraOrigen).toISOString().split("T")[0]),this.minDate.setMinutes(this.minDate.getMinutes()+this.minDate.getTimezoneOffset());let t=!1;this.compras&&(t=!0),this.compra.nLitrosARecibir||(this.compra.nLitrosARecibir=this.compra.nlitrosComprados),this.form=this.formBuilder.group({nLitrosComprados:[{value:this.compra.nlitrosComprados,disabled:!0},u.kI.required],nLitrosRecibidos:[{value:this.compra.nLitrosARecibir,disabled:t},[u.kI.required,u.kI.min(.01)]],dFechaRecepcion:[this.datePipe.transform(new Date,"yyyy-MM-dd")],cObservaciones:[""]})}get nLitrosComprados(){var t,o;return null!==(o=null===(t=this.form.get("nLitrosComprados"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get nLitrosRecibidos(){var t,o;return null!==(o=null===(t=this.form.get("nLitrosRecibidos"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get dFechaRecepcion(){var t;return null===(t=this.form.get("dFechaRecepcion"))||void 0===t?void 0:t.value}get cObservaciones(){var t,o;return null!==(o=null===(t=this.form.get("cObservaciones"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}close(t=this){t.activeModal.close({})}guardar(){var t=this;return(0,T.Z)(function*(){t.nLitrosRecibidos>t.nLitrosComprados?t.util.dialogError("La cantidad de litros recibidos no puede ser mayor a los litros comprados."):t.compras?t.compras.forEach(function(){var o=(0,T.Z)(function*(n){let i=0,d=3,a=new Date(n.dFechaCompraOrigen).toISOString().split("T")[0],Y=new Date(t.dFechaRecepcion).toISOString().split("T")[0],L=new Date(a),P=new Date(Y);if(i=Number(n.nLitrosPendientes)-Number(n.nLitrosRestantes),P.getTime()<L.getTime())throw t.util.dialogError("La fecha de la recepcion no puede ser menor a la fecha del movimiento."),"La fecha de la recepcion no puede ser menor a la fecha del movimiento.";n.nLitrosPendientes!==n.nLitrosRestantes&&(n.nLitrosRestantes>0&&(d=5),yield t.service.confirmarCompra({nCompra:n.nCompra,nLitrosRecepcion:Number(i),dFechaRecepcion:new Date(t.dFechaRecepcion).toISOString().split("T")[0],cObervaciones:t.cObservaciones,nEstatus:d,cFuller:t.compra.cFuller}).subscribe(function(){var ie=(0,T.Z)(function*(ae){ae&&(t.util.dialogSuccess("Compra guardada correctamente."),t.activeModal.close(t.compras))});return function(ae){return ie.apply(this,arguments)}}(),ie=>{t.util.dialogError("Error al confirmar la compra.")}))});return function(n){return o.apply(this,arguments)}}()):yield t.service.confirmarCompra({nCompra:t.compra.nCompra,nLitrosRecepcion:Number(t.nLitrosRecibidos),dFechaRecepcion:new Date(t.dFechaRecepcion).toISOString().split("T")[0],cObervaciones:t.cObservaciones,nEstatus:3,cFuller:t.compra.cFuller}).subscribe(function(){var o=(0,T.Z)(function*(n){n&&(t.util.dialogSuccess("Compra guardada correctamente."),t.compra.nLitrosRecibidos=t.nLitrosRecibidos,t.compra.nEstatus=3,t.compra.cMotivoCancelacion=t.cObservaciones,t.activeModal.close(t.compra))});return function(n){return o.apply(this,arguments)}}(),o=>{t.util.dialogError("Error al confirmar la compra.")})})()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.Kz),e.Y36(u.qu),e.Y36(F.F),e.Y36(v.K),e.Y36(p.uU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-confirmacion-recepcion-pedidos"]],inputs:{compra:"compra",compras:"compras"},features:[e._Bn([p.uU])],decls:45,vars:21,consts:[[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["name","form",3,"formGroup"],[1,"my-4"],[1,"col-sm-12"],[1,"form-label","col-sm-4","col-form-label","text-end"],[1,"col-sm-4"],[1,"input-group"],["type","text","currencyMask","","id","nLitrosComprados","formControlName","nLitrosComprados","maxlength","20",1,"form-control","form-control-sm",3,"options"],["type","text","currencyMask","","id","nLitrosRecibidos","onfocus","this.select()","formControlName","nLitrosRecibidos","maxlength","20",1,"form-control","form-control-sm",3,"options","ngClass"],["type","date","id","dFechaRecepcion","onfocus","this.select()","formControlName","dFechaRecepcion",1,"form-control","form-control-sm","justify-content-center",3,"min","max"],[1,"col-sm-6"],["type","text","formControlName","cObservaciones","maxlength","200",1,"form-control","form-control-lg"],["class","table table",4,"ngIf"],[1,"d-flex","justify-content-center","my-4"],["type","button",1,"btn","btn-dark","mx-2",3,"click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"],[1,"table","table"],[1,"th-border"],[4,"ngFor","ngForOf"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),e._uU(5,"Confirmaci\xf3n de recepci\xf3n"),e.qZA(),e.TgZ(6,"form",5)(7,"div",6)(8,"div",0)(9,"div",7)(10,"div",0)(11,"label",8),e._uU(12,"Litros comprados"),e.qZA(),e.TgZ(13,"div",9)(14,"div",10),e._UZ(15,"input",11),e.qZA()()()(),e.TgZ(16,"div",7)(17,"div",0)(18,"label",8),e._uU(19,"Litros recibidos"),e.qZA(),e.TgZ(20,"div",9)(21,"div",10),e._UZ(22,"input",12),e.qZA()()()(),e.TgZ(23,"div",7)(24,"div",0)(25,"label",8),e._uU(26,"Fecha recepci\xf3n"),e.qZA(),e.TgZ(27,"div",9)(28,"div",10),e._UZ(29,"input",13),e.ALo(30,"date"),e.ALo(31,"date"),e.qZA()()()(),e.TgZ(32,"div",7)(33,"div",0)(34,"label",8),e._uU(35,"Observaciones"),e.qZA(),e.TgZ(36,"div",14)(37,"div",10),e._UZ(38,"input",15),e.qZA()()()()()()(),e.YNc(39,N,19,1,"table",16),e.qZA()()(),e.TgZ(40,"div",17)(41,"button",18),e.NdJ("click",function(){return o.close()}),e._uU(42,"Cerrar"),e.qZA(),e.TgZ(43,"button",19),e.NdJ("click",function(){return o.guardar()}),e._uU(44,"Guardar"),e.qZA()()()),2&t){let n,i;e.xp6(6),e.Q6J("formGroup",o.form),e.xp6(9),e.Q6J("options",e.DdM(15,te)),e.xp6(7),e.Q6J("options",e.DdM(16,te))("ngClass",e.VKq(17,oe,null==(n=o.form.get("nLitrosRecibidos"))?null:n.hasError("required")))("ngClass",e.VKq(19,oe,null==(i=o.form.get("nLitrosRecibidos"))?null:i.hasError("min"))),e.xp6(7),e.s9C("min",e.xi3(30,9,o.minDate,"yyyy-MM-dd")),e.s9C("max",e.xi3(31,12,o.maxDate,"yyyy-MM-dd")),e.xp6(10),e.Q6J("ngIf",o.compras),e.xp6(4),e.Q6J("disabled",o.form.invalid)}},directives:[u._Y,u.JL,u.sg,u.Fj,C.g1,u.JJ,u.u,u.nD,p.mk,p.O5,p.sg],pipes:[p.uU,p.JJ],styles:[""]}),r})();var X=b(1764);let B=(()=>{class r{constructor(t,o,n,i){this.activeModal=t,this.formBuilder=o,this.util=n,this.service=i,this.data=[],this.dataTemp=[],this.valueBuscador="",this.maxDate=new Date}ngOnInit(){this.dataTemp=[],this.data=[];let t=X((new Date).toISOString().split("T")[0]).format("YYYY-MM-DD");console.log(t),this.form=this.formBuilder.group({cMotivoCancelacion:[this.compra.cMotivoCancelacion,u.kI.required]})}get cMotivoCancelacion(){var t,o;return null!==(o=null===(t=this.form.get("cMotivoCancelacion"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}close(t=this){t.activeModal.close({})}guardar(){var t=this;return(0,T.Z)(function*(){yield t.service.actualizarEstatusCompra({nCompra:t.compra.nCompra,cMotivoCancelacion:t.cMotivoCancelacion,nEstatus:t.compra.nEstatus}).subscribe(function(){var o=(0,T.Z)(function*(n){n&&(t.util.dialogSuccess(4==t.compra.nEstatus?"Recepci\xf3n de compra cancelada correctamente.":"Cambio de estatus de recepci\xf3n de compra  correctamente."),t.compra.cMotivoCancelacion=t.cMotivoCancelacion,t.activeModal.close(t.compra))});return function(n){return o.apply(this,arguments)}}(),o=>{t.util.dialogError(4==t.compra.nEstatus?"Error al cancelar la recepci\xf3n de la compra.":"Error al cambiar el estatus de la recepci\xf3n de compra.")})})()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.Kz),e.Y36(u.qu),e.Y36(F.F),e.Y36(v.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-cambio-estatus-recepcion-pedidos"]],inputs:{compra:"compra"},decls:20,vars:3,consts:[[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["name","form",3,"formGroup"],[1,"my-4"],[1,"col-sm-12"],[1,"form-label","col-sm-4","col-form-label","text-end"],[1,"col-sm-8"],[1,"input-group"],["type","text","formControlName","cMotivoCancelacion","maxlength","200",1,"form-control","form-control-lg"],[1,"d-flex","justify-content-center","my-4"],["type","button",1,"btn","btn-dark","mx-2",3,"click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),e._uU(5),e.qZA(),e.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",0)(10,"label",8),e._uU(11,"Observaciones"),e.qZA(),e.TgZ(12,"div",9)(13,"div",10),e._UZ(14,"input",11),e.qZA()()()()()()()()(),e.TgZ(15,"div",12)(16,"button",13),e.NdJ("click",function(){return o.close()}),e._uU(17,"Cerrar"),e.qZA(),e.TgZ(18,"button",14),e.NdJ("click",function(){return o.guardar()}),e._uU(19,"Guardar"),e.qZA()()()),2&t&&(e.xp6(5),e.hij(" ",4==o.compra.nEstatus?"Cancelaci\xf3n":"Cambio de estatus"," de recepci\xf3n de compra"),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(12),e.Q6J("disabled",o.form.invalid))},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,u.nD],styles:[""]}),r})();var J=b(2217),ee=b(3723),z=b(2111),y=b(72);function A(r,g){1&r&&(e.ynx(0),e._uU(1,"\n                  "),e.TgZ(2,"label",14),e._uU(3,"Litros recibidos"),e.qZA(),e._uU(4,"\n                  "),e.TgZ(5,"div",15),e._uU(6,"\n                    "),e.TgZ(7,"div",16),e._uU(8,"\n                      "),e._UZ(9,"input",47),e._uU(10,"\n                    "),e.qZA(),e._uU(11,"\n                  "),e.qZA(),e._uU(12,"\n\n                  "),e.TgZ(13,"label",14),e._uU(14,"Fuller"),e.qZA(),e._uU(15,"\n                  "),e.TgZ(16,"div",15),e._uU(17,"\n                    "),e.TgZ(18,"div",16),e._uU(19,"\n                      "),e._UZ(20,"input",48),e._uU(21,"\n                    "),e.qZA(),e._uU(22,"\n                  "),e.qZA(),e._uU(23,"\n                "),e.BQk()),2&r&&(e.xp6(9),e.Q6J("min",.01))}function K(r,g){if(1&r){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().guardar()}),e._uU(1,"Guardar"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}function ne(r,g){if(1&r){const t=e.EpF();e.TgZ(0,"label",50),e._uU(1,"\n            "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"\n            "),e.TgZ(5,"input",51),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.status=n})("change",function(n){const d=e.CHM(t).$implicit;return e.oxw().changeStatus(d.nEstatus,n)}),e.qZA(),e._uU(6,"\n          "),e.qZA()}if(2&r){const t=g.$implicit;e.xp6(3),e.hij(" ",t.cEstatus," "),e.xp6(2),e.Q6J("checked",t.status)("ngModel",t.status)}}function _(r,g){if(1&r){const t=e.EpF();e.TgZ(0,"input",54),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().row.bRecibir=n}),e.qZA()}if(2&r){const t=e.oxw().row;e.Q6J("ngModel",t.bRecibir)}}function l(r,g){if(1&r&&(e._uU(0,"\n                  "),e.YNc(1,_,1,1,"input",53),e._uU(2,"\n\n              ")),2&r){const t=g.row;e.xp6(1),e.Q6J("ngIf",t.nLitrosPendientes>0)}}function s(r,g){1&r&&(e.TgZ(0,"ngx-datatable-column",52),e._uU(1,"\n              "),e.YNc(2,l,3,1,"ng-template",38),e._uU(3,"\n          "),e.qZA()),2&r&&e.Q6J("width",80)}function m(r,g){1&r&&e._uU(0),2&r&&e.hij("\n                ",g.value,"\n              ")}function c(r,g){1&r&&e._uU(0),2&r&&e.hij("\n                ",g.value,"\n              ")}function f(r,g){1&r&&(e._uU(0),e.ALo(1,"currency")),2&r&&e.hij("\n                ",e.lcZ(1,1,g.value),"\n              ")}function h(r,g){1&r&&(e._uU(0),e.ALo(1,"number")),2&r&&e.hij("\n                ",e.xi3(1,1,g.value,"1.2-4"),"\n              ")}function U(r,g){1&r&&(e._uU(0),e.ALo(1,"number")),2&r&&e.hij("\n                ",e.xi3(1,1,g.value,"1.2-4"),"\n              ")}function x(r,g){1&r&&(e._uU(0),e.ALo(1,"number")),2&r&&e.hij("\n                ",e.xi3(1,1,g.value,"1.2-4"),"\n              ")}function w(r,g){1&r&&(e._uU(0),e.ALo(1,"currency")),2&r&&e.hij("\n                ",e.lcZ(1,1,g.value),"\n              ")}function O(r,g){if(1&r&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&r){const t=g.$implicit;e.s9C("value",t.nEstatus),e.xp6(1),e.hij(" ",t.cEstatus,"\n                  ")}}function k(r,g){if(1&r){const t=e.EpF();e._uU(0,"\n                "),e.TgZ(1,"select",55),e.NdJ("ngModelChange",function(n){return e.CHM(t).row.nEstatus=n})("change",function(){const i=e.CHM(t).row;return e.oxw().onChange(i)}),e._uU(2,"\n                  "),e.YNc(3,O,2,2,"option",56),e._uU(4,"\n                "),e.qZA(),e._uU(5,"\n              ")}if(2&r){const t=g.row,o=e.oxw();e.xp6(1),e.Q6J("ngModel",t.nEstatus)("disabled",1!==o.bNacional||"Importaci\xf3n"===t.cTipoCompraLarga||3===t.nEstatus||4===t.nEstatus),e.xp6(2),e.Q6J("ngForOf",o.estatus)}}const S=function(){return{prop:"dFechaCompra",dir:"asc"}},H=function(){return{prop:"cEmpresa",dir:"asc"}},j=function(){return{prop:"cProveedor",dir:"asc"}},Q=function(){return{prop:"cArticulo",dir:"asc"}},E=function(){return{prop:"nCompra",dir:"asc"}},I=function(r,g,t,o,n){return[r,g,t,o,n]},V=[{path:"",component:(()=>{class r{constructor(t,o,n,i,d,a,Y){this.service=t,this.datePipe=o,this.modalService=n,this.util=i,this.serviceProveedor=d,this.serviceArticulo=a,this.spinner=Y,this.valueBuscador="",this.reorderable=!1,this.loadingIndicator=!1,this.data=[],this.dataTemp=[],this.estatus=[{nEstatus:1,cEstatus:"En Tr\xe1nsito",status:!0},{nEstatus:2,cEstatus:"En Aduana",status:!0},{nEstatus:5,cEstatus:"Parcial",status:!0},{nEstatus:3,cEstatus:"Recibido",status:!1},{nEstatus:4,cEstatus:"Cancelado",status:!1}]}ngOnInit(){var t=this;return(0,T.Z)(function*(){t.form=new u.cw({nProveedor:new u.NI("",u.kI.required),cProveedor:new u.NI({value:"",disabled:!0},[]),nArticulo:new u.NI("",u.kI.required),cArticulo:new u.NI({value:"",disabled:!0},[]),nLitrosRecibidos:new u.NI(0,[]),cFuller:new u.NI("",u.kI.required),bNacional:new u.NI(1,[])}),yield t.obtenerCompras()})()}get nProveedor(){var t,o,n;return(null===(t=this.form.get("nProveedor"))||void 0===t?void 0:t.value)&&""!=(null===(o=this.form.get("nProveedor"))||void 0===o?void 0:o.value)?null===(n=this.form.get("nProveedor"))||void 0===n?void 0:n.value:0}get cProveedor(){var t,o;return null!==(o=null===(t=this.form.get("cProveedor"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get nArticulo(){var t,o,n;return(null===(t=this.form.get("nArticulo"))||void 0===t?void 0:t.value)&&""!=(null===(o=this.form.get("nArticulo"))||void 0===o?void 0:o.value)?null===(n=this.form.get("nArticulo"))||void 0===n?void 0:n.value:0}get cArticulo(){var t,o;return null!==(o=null===(t=this.form.get("cArticulo"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get nLitrosRecibidos(){var t,o;return null!==(o=null===(t=this.form.get("nLitrosRecibidos"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get cFuller(){var t,o;return null!==(o=null===(t=this.form.get("cFuller"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get bNacional(){var t,o;return null!==(o=null===(t=this.form.get("bNacional"))||void 0===t?void 0:t.value)&&void 0!==o?o:1}obtenerCompras(){var t=this;return(0,T.Z)(function*(){const o=[];t.spinner.show(),yield t.service.obtenerCompras(0).subscribe(i=>{for(const a of i.data){let Y=0;a.dFechaCompra=a.dFechaCompra.replace("T00:00:00.000Z","T06:00:00.000Z");let L=new Date(a.dFechaCompra);a.nLitrosCompra>0&&a.nCostoTotal>0&&(Y=a.nCostoTotal/a.nLitrosCompra),a.dFechaRecepcion=a.dFechaRecepcion?X(new Date(a.dFechaRecepcion).toISOString().split("T")[0]).format("DD/MM/YYYY"):"",a.dFechaCompra?(a.dFechaCompraOrigen=a.dFechaCompra,a.dFechaCompra=X(new Date(a.dFechaCompra).toISOString().split("T")[0]).format("DD/MM/YYYY")):(a.dFechaCompra="",a.dFechaCompraOrigen=""),a.cMotivoCancelacion||(a.cMotivoCancelacion=""),a.cFactura||(a.cFactura=""),Number(a.nLitrosCompra)-Number(a.nLitrosRecepcion)==0&&(a.nEstatus=3),o.push({nCompra:a.nCompra,cTipoCompraLarga:a.cTipoCompraLarga,cEmpresa:a.cEmpresa,cAlmacen:a.cAlmacen,cProveedor:a.cProveedor,cFactura:a.cFactura,nlitrosComprados:parseFloat(a.nLitrosCompra).toFixed(4),nCostoxLitro:Y,dFechaCompra:a.dFechaCompra,nCostoTotal:a.nCostoTotal,nLitrosRecibidos:Number(a.nLitrosRecepcion),nEstatus:a.nEstatus,cArticulo:a.cArticulo,nEstatusOriginal:a.nEstatus,dFechaRecepcion:a.dFechaRecepcion,cMotivoCancelacion:a.cMotivoCancelacion,dFechaCompraOrigen:a.dFechaCompraOrigen,nLitrosPendientes:Number(a.nLitrosCompra)-Number(a.nLitrosRecepcion),bRecibir:0,dFechaCompraDate:L})}t.dataTemp=[...o];const d=t.dataTemp.filter(a=>-1!==String(a.nEstatus).toLowerCase().indexOf("1")||-1!==String(a.nEstatus).toLowerCase().indexOf("2")||-1!==String(a.nEstatus).toLowerCase().indexOf("5"));t.data=[...d],console.log(t.data),t.spinner.hide()})})()}filterDatatable(t){let o=[],n=[];for(const i of this.estatus)if(i.status){let d=this.dataTemp.filter(a=>-1!==String(a.nEstatus).toLowerCase().indexOf(String(i.nEstatus)));o=[...o,...d]}if(this.data=o,n=""!==this.cProveedor.toLowerCase()&&""!==this.cArticulo.toLowerCase()?this.data.filter(i=>-1!==i.cProveedor.toLowerCase().indexOf(this.cProveedor.toLowerCase())&&-1!==i.cArticulo.toLowerCase().indexOf(this.cArticulo.toLowerCase())):""!==this.cProveedor.toLowerCase()&&""===this.cArticulo.toLowerCase()?this.data.filter(i=>-1!==i.cProveedor.toLowerCase().indexOf(this.cProveedor.toLowerCase())):""===this.cProveedor.toLowerCase()&&""!==this.cArticulo.toLowerCase()?this.data.filter(i=>-1!==i.cArticulo.toLowerCase().indexOf(this.cArticulo.toLowerCase())):this.dataTemp,this.data=n,""===t.target.value)this.data=o;else{const i=t.target.value.toLowerCase(),d=this.data.filter(a=>-1!==a.cTipoCompraLarga.toLowerCase().indexOf(i)||-1!==a.cEmpresa.toLowerCase().indexOf(i)||-1!==a.cAlmacen.toLowerCase().indexOf(i)||-1!==a.cProveedor.toLowerCase().indexOf(i)||-1!==a.cFactura.toLowerCase().indexOf(i)||-1!==a.nlitrosComprados.toLowerCase().indexOf(i)||-1!==String(a.nCostoxLitro).toLowerCase().indexOf(i)||-1!==a.dFechaCompra.toLowerCase().indexOf(i)||-1!==a.dFechaRecepcion.toLowerCase().indexOf(i)||-1!==String(a.nCostoTotal).toLowerCase().indexOf(i)||-1!==String(a.nLitrosRecibidos).toLowerCase().indexOf(i)||-1!==a.cArticulo.toLowerCase().indexOf(i)||-1!==a.cMotivoCancelacion.toLowerCase().indexOf(i));this.data=d}}filterDatatableProveedorArticulo(){let t=[];for(const n of this.estatus)if(n.status){let i=this.dataTemp.filter(d=>-1!==String(d.nEstatus).toLowerCase().indexOf(String(n.nEstatus)));t=[...t,...i]}let o=[];this.data=t,o=""!==this.cProveedor.toLowerCase()&&""!==this.cArticulo.toLowerCase()?this.data.filter(n=>-1!==n.cProveedor.toLowerCase().indexOf(this.cProveedor.toLowerCase())&&-1!==n.cArticulo.toLowerCase().indexOf(this.cArticulo.toLowerCase())):""!==this.cProveedor.toLowerCase()&&""===this.cArticulo.toLowerCase()?this.data.filter(n=>-1!==n.cProveedor.toLowerCase().indexOf(this.cProveedor.toLowerCase())):""===this.cProveedor.toLowerCase()&&""!==this.cArticulo.toLowerCase()?this.data.filter(n=>-1!==n.cArticulo.toLowerCase().indexOf(this.cArticulo.toLowerCase())):this.dataTemp,this.data=o}onChange(t){var o=this;return(0,T.Z)(function*(){if(3==t.nEstatus){const n=o.modalService.open(W,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-mediano"});let i=t;i.cFuller="",n.componentInstance.compra=i,n.closed.subscribe(d=>{d.nEstatus?(t=d).nEstatusOriginal=d.nEstatus:t.nEstatus=t.nEstatusOriginal,o.filerWithStatus()})}else{const n=o.modalService.open(B,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-mediano"});n.componentInstance.compra=t,n.closed.subscribe(i=>{i.nEstatus?((t=i).nEstatusOriginal=i.nEstatus,t.cMotivoCancelacion=i.cMotivoCancelacion):t.nEstatus=t.nEstatusOriginal,o.filerWithStatus()})}})()}changeStatus(t,o){this.filerWithStatus()}filerWithStatus(){let t=[],o=[];o=""!==this.cProveedor.toLowerCase()&&""!==this.cArticulo.toLowerCase()?this.dataTemp.filter(n=>-1!==n.cProveedor.toLowerCase().indexOf(this.cProveedor.toLowerCase())&&-1!==n.cArticulo.toLowerCase().indexOf(this.cArticulo.toLowerCase())):""!==this.cProveedor.toLowerCase()&&""===this.cArticulo.toLowerCase()?this.dataTemp.filter(n=>-1!==n.cProveedor.toLowerCase().indexOf(this.cProveedor.toLowerCase())):""===this.cProveedor.toLowerCase()&&""!==this.cArticulo.toLowerCase()?this.dataTemp.filter(n=>-1!==n.cArticulo.toLowerCase().indexOf(this.cArticulo.toLowerCase())):this.dataTemp;for(const n of this.estatus)if(n.status){let i=o.filter(d=>-1!==String(d.nEstatus).toLowerCase().indexOf(String(n.nEstatus)));t=[...t,...i]}this.data=t}openModalArticulos(){var t=this;return(0,T.Z)(function*(){const o=t.modalService.open(J.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de art\xedculos",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nArticulo"},{cNombre:"Art\xedculo",cPropiedad:"cDescripcion"}];const i=(yield t.serviceArticulo.obtenerArticulos(0,t.bNacional).toPromise()).data.map(d=>({nArticulo:d.nArticulo,cDescripcion:d.cDescripcionLarga}));o.componentInstance.data=i,o.componentInstance.dataTemp=i,o.closed.subscribe(d=>{console.log("value:",d),d&&d.id&&(t.asignarArticulo(d),o.close())})})()}openModalProveedores(){var t=this;return(0,T.Z)(function*(){const o=t.modalService.open(J.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de proveedores",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nProveedor"},{cNombre:"Proveedor",cPropiedad:"cDescripcion"}];const i=(yield t.serviceProveedor.obtenerProveedores(0,-1).toPromise()).data.map(d=>({nProveedor:d.nProveedor,cDescripcion:d.cNombreProveedor}));o.componentInstance.data=i,o.componentInstance.dataTemp=i,o.closed.subscribe(d=>{console.log("value:",d),d&&d.id&&(t.asignarProveedor(d),o.close())})})()}asignarProveedor(t){var o=this;return(0,T.Z)(function*(){const n=yield o.serviceProveedor.obtenerProveedores(t.id,-1).toPromise();o.form.controls.cProveedor.setValue(t.cDescripcion),o.form.controls.nProveedor.setValue(t.id),o.form.controls.bNacional.setValue(n.data[0].bNacional),o.filterDatatableProveedorArticulo()})()}asignarArticulo(t){this.form.controls.cArticulo.setValue(t.cDescripcion),this.form.controls.nArticulo.setValue(t.id),this.filterDatatableProveedorArticulo()}guardar(){var t=this;try{let o=this.data.filter(i=>!0===i.bRecibir);if(o.length>1)throw this.util.dialogWarning("No se puede recibir mas de un viaje a la vez."),"";if(o.reduce((i,d)=>i+Number(d.nLitrosPendientes).toFixed(2),0)<Number(this.nLitrosRecibidos))this.util.dialogWarning("La cantidad de litros recibidos no puede ser mayor a los litros pendientes por recibir.");else if(0===o.length)this.util.dialogWarning("Es necesario seleccionar almenos un pedido para realizar la recepci\xf3n.");else{o=o.sort((L,P)=>L.dFechaCompraDate.getTime()-P.dFechaCompraDate.getTime()||P.nLitrosRecibidos-L.nLitrosRecibidos);const i=this.modalService.open(W,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-grande"});i.componentInstance.compra={nlitrosComprados:this.nLitrosRecibidos,dFechaCompraOrigen:o[0].dFechaCompraOrigen,cFuller:this.cFuller};let d=this.nLitrosRecibidos,a=[],Y=0;o.forEach(L=>{let P=0;P=L.nLitrosPendientes,d<P?(P-=d,d=0):(d-=P,P=0),Y+=Number(L.nlitrosComprados),a.push({nCompra:L.nCompra,cTipoCompraLarga:L.cTipoCompraLarga,cEmpresa:L.cEmpresa,cAlmacen:L.cAlmacen,cProveedor:L.cProveedor,cFactura:L.cFactura,nlitrosComprados:Number(L.nlitrosComprados),nCostoxLitro:L.nCostoxLitro,dFechaCompra:L.dFechaCompra,nCostoTotal:L.nCostoTotal,nLitrosRecibidos:L.nLitrosRecepcion,nEstatus:L.nEstatus,cArticulo:L.cArticulo,nEstatusOriginal:L.nEstatus,dFechaRecepcion:L.dFechaRecepcion,cMotivoCancelacion:L.cMotivoCancelacion,dFechaCompraOrigen:L.dFechaCompraOrigen,nLitrosPendientes:L.nLitrosPendientes,nLitrosRestantes:Number(P),bRecibir:1})}),i.componentInstance.compra={nlitrosComprados:Y,nLitrosARecibir:this.nLitrosRecibidos,dFechaCompraOrigen:o[0].dFechaCompraOrigen,cFuller:this.cFuller},console.log("compras",a),i.componentInstance.compras=a,i.closed.subscribe(function(){var L=(0,T.Z)(function*(P){P.length>0&&(t.form.controls.nLitrosRecibidos.setValue(0),t.form.controls.cFuller.setValue(""),t.limpiar(),t.filterDatatableProveedorArticulo())});return function(P){return L.apply(this,arguments)}}())}}catch(o){}}limpiar(){var t=this;return(0,T.Z)(function*(){t.form.reset(),yield t.obtenerCompras(),t.data=t.dataTemp,t.estatus=[{nEstatus:1,cEstatus:"En Tr\xe1nsito",status:!0},{nEstatus:2,cEstatus:"En Aduana",status:!0},{nEstatus:5,cEstatus:"Parcial",status:!0},{nEstatus:3,cEstatus:"Recibido",status:!1},{nEstatus:4,cEstatus:"Cancelado",status:!1}]})()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v.K),e.Y36(p.uU),e.Y36(Z.FF),e.Y36(F.F),e.Y36(ee.z),e.Y36(z.N),e.Y36(y.t2))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trips-to-receive"]],features:[e._Bn([p.uU])],decls:166,vars:41,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"col-7"],[1,"card-title"],["name","form",3,"formGroup"],[1,"row","mt-4"],[1,"col-sm-5"],[1,"form-label","col-sm-5","col-form-label","text-end"],[1,"col-sm-7"],[1,"input-group","mb-1"],["type","text","formControlName","cProveedor","onfocus","this.select()",1,"form-control","form-control-sm","border-end-0"],[1,"input-group-text","border-start-0","bg-white"],[1,"feather","icon-search",3,"click"],["type","text","formControlName","cArticulo","onfocus","this.select()",1,"form-control","form-control-sm","border-end-0",3,"disabled"],[4,"ngIf"],[1,"col-mt-6"],[1,"form-label","col-sm-4","col-form-label"],["type","button",1,"btn","btn-warning",3,"click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"table-responsive","my-5"],["type","text","matInput","","placeholder","Buscar",3,"ngModel","keyup","ngModelChange"],["style","padding: 10px;",4,"ngFor","ngForOf"],[1,"material","shadow-none","striped","table","table-bordered",3,"rows","loadingIndicator","columnMode","headerHeight","footerHeight","rowHeight","limit","scrollbarH","sorts"],["name","Recibir","prop","id",3,"width",4,"ngIf"],["name","Mercado","prop","cTipoCompraLarga",3,"width"],["name","Comprador","prop","cEmpresa",3,"width"],["name","Almac\xe9n destino","prop","cAlmacen",3,"width"],["name","Proveedor","prop","cProveedor",3,"width"],["name","Producto","prop","cArticulo",3,"width"],["name","Nro.Factura","prop","cFactura",3,"width"],["name","Fecha de compra","prop","dFechaCompra",3,"width"],["ngx-datatable-cell-template",""],["name","Fecha de recepci\xf3n","prop","dFechaRecepcion",3,"width"],["name","Costo x lt","prop","nCostoxLitro",3,"width"],["name","Litros comprados","prop","nlitrosComprados",3,"width"],["name","Litros recibidos","prop","nLitrosRecibidos",3,"width"],["name","Litros pendientes","prop","nLitrosPendientes",3,"width"],["name","Total compra origen","prop","nCostoTotal",3,"width"],["name","Estatus","prop","nEstatus",3,"width"],["name","Observaciones","prop","cMotivoCancelacion"],["type","number","formControlName","nLitrosRecibidos","onfocus","this.select()","mask","separator.4","thousandSeparator",",",1,"form-control","form-control-sm","captura-derecha",3,"min"],["type","text","formControlName","cFuller","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[2,"padding","10px"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],["name","Recibir","prop","id",3,"width"],["type","checkbox","class","form-check-input","id","authCheck",3,"ngModel","ngModelChange",4,"ngIf"],["type","checkbox","id","authCheck",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-control","form-control-sm",2,"z-index","1000",3,"ngModel","disabled","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e._uU(0,"\n"),e.TgZ(1,"nav",0),e._uU(2,"\n  "),e.TgZ(3,"ol",1),e._uU(4,"\n    "),e.TgZ(5,"li",2)(6,"a",3),e._uU(7,"Recibo"),e.qZA()(),e._uU(8,"\n    "),e.TgZ(9,"li",4),e._uU(10,"Recepci\xf3n de Combustible"),e.qZA(),e._uU(11,"\n  "),e.qZA(),e._uU(12,"\n"),e.qZA(),e._uU(13,"\n\n"),e._uU(14,"\n"),e._uU(15,"\n\n\n\n"),e._uU(16,"\n"),e.TgZ(17,"div",5),e._uU(18,"\n  "),e.TgZ(19,"div",6),e._uU(20,"\n    "),e.TgZ(21,"div",7),e._uU(22,"\n      "),e.TgZ(23,"div",8),e._uU(24,"\n        "),e.TgZ(25,"div",5),e._uU(26,"\n          "),e.TgZ(27,"div",9),e._uU(28,"\n            "),e.TgZ(29,"h6",10),e._uU(30,"Tablero de Viajes por Recibir"),e.qZA(),e._uU(31,"\n          "),e.qZA(),e._uU(32,"\n          "),e._uU(33,"\n        "),e.qZA(),e._uU(34,"\n        "),e.TgZ(35,"form",11),e._uU(36,"\n\n          "),e.TgZ(37,"div",12),e._uU(38,"\n            "),e.TgZ(39,"div",13),e._uU(40,"\n\n              "),e.TgZ(41,"div",5),e._uU(42,"\n                "),e.TgZ(43,"label",14),e._uU(44,"Proveedor"),e.qZA(),e._uU(45,"\n                "),e.TgZ(46,"div",15),e._uU(47,"\n                  "),e.TgZ(48,"div",16),e._uU(49,"\n                    "),e._UZ(50,"input",17),e._uU(51,"\n                    "),e.TgZ(52,"span",18),e._uU(53,"\n                      "),e.TgZ(54,"i",19),e.NdJ("click",function(){return o.openModalProveedores()}),e.qZA(),e._uU(55,"\n                    "),e.qZA(),e._uU(56,"\n                  "),e.qZA(),e._uU(57,"\n                "),e.qZA(),e._uU(58,"\n\n                "),e.TgZ(59,"label",14),e._uU(60,"Producto"),e.qZA(),e._uU(61,"\n                "),e.TgZ(62,"div",15),e._uU(63,"\n                  "),e.TgZ(64,"div",16),e._uU(65,"\n                    "),e._UZ(66,"input",20),e._uU(67,"\n                    "),e.TgZ(68,"span",18),e._uU(69,"\n                      "),e.TgZ(70,"i",19),e.NdJ("click",function(){return o.openModalArticulos()}),e.qZA(),e._uU(71,"\n                    "),e.qZA(),e._uU(72,"\n                  "),e.qZA(),e._uU(73,"\n                "),e.qZA(),e._uU(74,"\n\n                "),e.YNc(75,A,24,1,"ng-container",21),e._uU(76,"\n              "),e.qZA(),e._uU(77,"\n            "),e.qZA(),e._uU(78,"\n\n\n\n\n            "),e._uU(79,"\n          "),e.qZA(),e._uU(80,"\n        "),e.qZA(),e._uU(81,"\n        "),e.TgZ(82,"div",22),e._uU(83,"\n          "),e._UZ(84,"label",23),e._uU(85,"\n          "),e.TgZ(86,"button",24),e.NdJ("click",function(){return o.limpiar()}),e._uU(87,"Limpiar"),e.qZA(),e._uU(88,"\n          "),e._uU(89,"\n          "),e.YNc(90,K,2,1,"button",25),e._uU(91,"\n        "),e.qZA(),e._uU(92,"\n        "),e.TgZ(93,"div",26),e._uU(94,"\n          "),e._uU(95,"\n\n          "),e.TgZ(96,"input",27),e.NdJ("keyup",function(i){return o.filterDatatable(i)})("ngModelChange",function(i){return o.valueBuscador=i}),e.qZA(),e._uU(97,"\n\n          "),e.YNc(98,ne,7,3,"label",28),e._uU(99,"\n\n          "),e.TgZ(100,"ngx-datatable",29),e._uU(101,"\n            "),e.YNc(102,s,4,1,"ngx-datatable-column",30),e._uU(103,"\n            "),e._UZ(104,"ngx-datatable-column",31),e._uU(105,"\n            "),e._UZ(106,"ngx-datatable-column",32),e._uU(107,"\n            "),e._UZ(108,"ngx-datatable-column",33),e._uU(109,"\n            "),e._UZ(110,"ngx-datatable-column",34),e._uU(111,"\n            "),e._UZ(112,"ngx-datatable-column",35),e._uU(113,"\n            "),e._UZ(114,"ngx-datatable-column",36),e._uU(115,"\n            "),e.TgZ(116,"ngx-datatable-column",37),e._uU(117,"\n              "),e.YNc(118,m,1,1,"ng-template",38),e._uU(119,"\n            "),e.qZA(),e._uU(120,"\n            "),e.TgZ(121,"ngx-datatable-column",39),e._uU(122,"\n              "),e.YNc(123,c,1,1,"ng-template",38),e._uU(124,"\n            "),e.qZA(),e._uU(125,"\n            "),e.TgZ(126,"ngx-datatable-column",40),e._uU(127,"\n              "),e.YNc(128,f,2,3,"ng-template",38),e._uU(129,"\n            "),e.qZA(),e._uU(130,"\n            "),e.TgZ(131,"ngx-datatable-column",41),e._uU(132,"\n              "),e.YNc(133,h,2,4,"ng-template",38),e._uU(134,"\n            "),e.qZA(),e._uU(135,"\n\n            "),e.TgZ(136,"ngx-datatable-column",42),e._uU(137,"\n              "),e.YNc(138,U,2,4,"ng-template",38),e._uU(139,"\n            "),e.qZA(),e._uU(140,"\n            "),e.TgZ(141,"ngx-datatable-column",43),e._uU(142,"\n              "),e.YNc(143,x,2,4,"ng-template",38),e._uU(144,"\n            "),e.qZA(),e._uU(145,"\n            "),e.TgZ(146,"ngx-datatable-column",44),e._uU(147,"\n              "),e.YNc(148,w,2,3,"ng-template",38),e._uU(149,"\n            "),e.qZA(),e._uU(150,"\n\n            "),e.TgZ(151,"ngx-datatable-column",45),e._uU(152,"\n              "),e.YNc(153,k,6,3,"ng-template",38),e._uU(154,"\n            "),e.qZA(),e._uU(155,"\n            "),e._UZ(156,"ngx-datatable-column",46),e._uU(157,"\n            "),e._uU(158,"\n          "),e.qZA(),e._uU(159,"\n        "),e.qZA(),e._uU(160,"\n\n        "),e._uU(161,"\n\n      "),e.qZA(),e._uU(162,"\n    "),e.qZA(),e._uU(163,"\n  "),e.qZA(),e._uU(164,"\n"),e.qZA(),e._uU(165,"\n")),2&t&&(e.xp6(35),e.Q6J("formGroup",o.form),e.xp6(31),e.Q6J("disabled",0===o.nProveedor),e.xp6(9),e.Q6J("ngIf",0===o.bNacional),e.xp6(15),e.Q6J("ngIf",0===o.bNacional),e.xp6(6),e.Q6J("ngModel",o.valueBuscador),e.xp6(2),e.Q6J("ngForOf",o.estatus),e.xp6(2),e.Q6J("rows",o.data)("loadingIndicator",o.loadingIndicator)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("scrollbarH",!0)("sorts",e.qbA(35,I,e.DdM(30,S),e.DdM(31,H),e.DdM(32,j),e.DdM(33,Q),e.DdM(34,E))),e.xp6(2),e.Q6J("ngIf",0===o.bNacional),e.xp6(2),e.Q6J("width",120),e.xp6(2),e.Q6J("width",300),e.xp6(2),e.Q6J("width",180),e.xp6(2),e.Q6J("width",300),e.xp6(2),e.Q6J("width",300),e.xp6(2),e.Q6J("width",110),e.xp6(2),e.Q6J("width",120),e.xp6(5),e.Q6J("width",130),e.xp6(5),e.Q6J("width",100),e.xp6(5),e.Q6J("width",130),e.xp6(5),e.Q6J("width",120),e.xp6(5),e.Q6J("width",120),e.xp6(5),e.Q6J("width",150),e.xp6(5),e.Q6J("width",150))},directives:[D.yS,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,p.O5,u.wV,u.qQ,u.On,p.sg,u.Wl,M.nE,M.UC,M.vq,u.EJ,u.YN,u.Kr],pipes:[p.H9,p.JJ],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}"]}),r})()}];let se=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,D.Bz.forChild(V),R.m,C.zh,M.xD.forRoot({messages:{emptyMessage:"No hay datos disponibles",totalMessage:"total",selectedMessage:"selected"}})]]}),r})()},2111:(G,$,b)=>{"use strict";b.d($,{N:()=>M});var p=b(2340),D=b(4893),R=b(520);let M=(()=>{class T{constructor(e){this.http=e,this.urlArticulos="catalogos/articulos",this.baseUrl=p.N.api}obtenerArticulos(e,Z){return this.http.get(this.baseUrl+this.urlArticulos+"/"+e+"/"+Z)}guardarArticulo(e){return this.http.post(this.baseUrl+this.urlArticulos,e)}cancelarArticulo(e){return this.http.delete(this.baseUrl+this.urlArticulos+"/"+e)}}return T.\u0275fac=function(e){return new(e||T)(D.LFG(R.eN))},T.\u0275prov=D.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},1764:function(G){G.exports=function(){"use strict";var b=6e4,p=36e5,D="millisecond",R="second",M="minute",T="hour",u="day",e="week",Z="month",F="quarter",v="year",C="date",q="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,te=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,oe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},W=function(_,l,s){var m=String(_);return!m||m.length>=l?_:""+Array(l+1-m.length).join(s)+_},X={s:W,z:function(_){var l=-_.utcOffset(),s=Math.abs(l),m=Math.floor(s/60),c=s%60;return(l<=0?"+":"-")+W(m,2,"0")+":"+W(c,2,"0")},m:function _(l,s){if(l.date()<s.date())return-_(s,l);var m=12*(s.year()-l.year())+(s.month()-l.month()),c=l.clone().add(m,Z),f=s-c<0,h=l.clone().add(m+(f?-1:1),Z);return+(-(m+(s-c)/(f?c-h:h-c))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:Z,y:v,w:e,d:u,D:C,h:T,m:M,s:R,ms:D,Q:F}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return void 0===_}},B="en",J={};J[B]=oe;var ee=function(_){return _ instanceof K},z=function _(l,s,m){var c;if(!l)return B;if("string"==typeof l){var f=l.toLowerCase();J[f]&&(c=f),s&&(J[f]=s,c=f);var h=l.split("-");if(!c&&h.length>1)return _(h[0])}else{var U=l.name;J[U]=l,c=U}return!m&&c&&(B=c),c||!m&&B},y=function(_,l){if(ee(_))return _.clone();var s="object"==typeof l?l:{};return s.date=_,s.args=arguments,new K(s)},A=X;A.l=z,A.i=ee,A.w=function(_,l){return y(_,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var K=function(){function _(s){this.$L=z(s.locale,null,!0),this.parse(s)}var l=_.prototype;return l.parse=function(s){this.$d=function(m){var c=m.date,f=m.utc;if(null===c)return new Date(NaN);if(A.u(c))return new Date;if(c instanceof Date)return new Date(c);if("string"==typeof c&&!/Z$/i.test(c)){var h=c.match(N);if(h){var U=h[2]-1||0,x=(h[7]||"0").substring(0,3);return f?new Date(Date.UTC(h[1],U,h[3]||1,h[4]||0,h[5]||0,h[6]||0,x)):new Date(h[1],U,h[3]||1,h[4]||0,h[5]||0,h[6]||0,x)}}return new Date(c)}(s),this.$x=s.x||{},this.init()},l.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},l.$utils=function(){return A},l.isValid=function(){return this.$d.toString()!==q},l.isSame=function(s,m){var c=y(s);return this.startOf(m)<=c&&c<=this.endOf(m)},l.isAfter=function(s,m){return y(s)<this.startOf(m)},l.isBefore=function(s,m){return this.endOf(m)<y(s)},l.$g=function(s,m,c){return A.u(s)?this[m]:this.set(c,s)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(s,m){var c=this,f=!!A.u(m)||m,h=A.p(s),U=function(Q,E){var I=A.w(c.$u?Date.UTC(c.$y,E,Q):new Date(c.$y,E,Q),c);return f?I:I.endOf(u)},x=function(Q,E){return A.w(c.toDate()[Q].apply(c.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(E)),c)},w=this.$W,O=this.$M,k=this.$D,S="set"+(this.$u?"UTC":"");switch(h){case v:return f?U(1,0):U(31,11);case Z:return f?U(1,O):U(0,O+1);case e:var H=this.$locale().weekStart||0,j=(w<H?w+7:w)-H;return U(f?k-j:k+(6-j),O);case u:case C:return x(S+"Hours",0);case T:return x(S+"Minutes",1);case M:return x(S+"Seconds",2);case R:return x(S+"Milliseconds",3);default:return this.clone()}},l.endOf=function(s){return this.startOf(s,!1)},l.$set=function(s,m){var c,f=A.p(s),h="set"+(this.$u?"UTC":""),U=(c={},c[u]=h+"Date",c[C]=h+"Date",c[Z]=h+"Month",c[v]=h+"FullYear",c[T]=h+"Hours",c[M]=h+"Minutes",c[R]=h+"Seconds",c[D]=h+"Milliseconds",c)[f],x=f===u?this.$D+(m-this.$W):m;if(f===Z||f===v){var w=this.clone().set(C,1);w.$d[U](x),w.init(),this.$d=w.set(C,Math.min(this.$D,w.daysInMonth())).$d}else U&&this.$d[U](x);return this.init(),this},l.set=function(s,m){return this.clone().$set(s,m)},l.get=function(s){return this[A.p(s)]()},l.add=function(s,m){var c,f=this;s=Number(s);var h=A.p(m),U=function(O){var k=y(f);return A.w(k.date(k.date()+Math.round(O*s)),f)};if(h===Z)return this.set(Z,this.$M+s);if(h===v)return this.set(v,this.$y+s);if(h===u)return U(1);if(h===e)return U(7);var x=(c={},c[M]=b,c[T]=p,c[R]=1e3,c)[h]||1,w=this.$d.getTime()+s*x;return A.w(w,this)},l.subtract=function(s,m){return this.add(-1*s,m)},l.format=function(s){var m=this,c=this.$locale();if(!this.isValid())return c.invalidDate||q;var f=s||"YYYY-MM-DDTHH:mm:ssZ",h=A.z(this),U=this.$H,x=this.$m,w=this.$M,O=c.weekdays,k=c.months,S=function(E,I,re,V){return E&&(E[I]||E(m,f))||re[I].slice(0,V)},H=function(E){return A.s(U%12||12,E,"0")},j=c.meridiem||function(E,I,re){var V=E<12?"AM":"PM";return re?V.toLowerCase():V},Q={YY:String(this.$y).slice(-2),YYYY:this.$y,M:w+1,MM:A.s(w+1,2,"0"),MMM:S(c.monthsShort,w,k,3),MMMM:S(k,w),D:this.$D,DD:A.s(this.$D,2,"0"),d:String(this.$W),dd:S(c.weekdaysMin,this.$W,O,2),ddd:S(c.weekdaysShort,this.$W,O,3),dddd:O[this.$W],H:String(U),HH:A.s(U,2,"0"),h:H(1),hh:H(2),a:j(U,x,!0),A:j(U,x,!1),m:String(x),mm:A.s(x,2,"0"),s:String(this.$s),ss:A.s(this.$s,2,"0"),SSS:A.s(this.$ms,3,"0"),Z:h};return f.replace(te,function(E,I){return I||Q[E]||h.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(s,m,c){var f,h=A.p(m),U=y(s),x=(U.utcOffset()-this.utcOffset())*b,w=this-U,O=A.m(this,U);return O=(f={},f[v]=O/12,f[Z]=O,f[F]=O/3,f[e]=(w-x)/6048e5,f[u]=(w-x)/864e5,f[T]=w/p,f[M]=w/b,f[R]=w/1e3,f)[h]||w,c?O:A.a(O)},l.daysInMonth=function(){return this.endOf(Z).$D},l.$locale=function(){return J[this.$L]},l.locale=function(s,m){if(!s)return this.$L;var c=this.clone(),f=z(s,m,!0);return f&&(c.$L=f),c},l.clone=function(){return A.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},_}(),ne=K.prototype;return y.prototype=ne,[["$ms",D],["$s",R],["$m",M],["$H",T],["$W",u],["$M",Z],["$y",v],["$D",C]].forEach(function(_){ne[_[1]]=function(l){return this.$g(l,_[0],_[1])}}),y.extend=function(_,l){return _.$i||(_(l,K,y),_.$i=!0),y},y.locale=z,y.isDayjs=ee,y.unix=function(_){return y(1e3*_)},y.en=J[B],y.Ls=J,y.p={},y}()},5861:(G,$,b)=>{"use strict";function p(R,M,T,u,e,Z,F){try{var v=R[Z](F),C=v.value}catch(q){return void T(q)}v.done?M(C):Promise.resolve(C).then(u,e)}function D(R){return function(){var M=this,T=arguments;return new Promise(function(u,e){var Z=R.apply(M,T);function F(C){p(Z,u,e,F,v,"next",C)}function v(C){p(Z,u,e,F,v,"throw",C)}F(void 0)})}}b.d($,{Z:()=>D})}}]);