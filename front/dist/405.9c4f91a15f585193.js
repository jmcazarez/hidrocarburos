(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[405],{2217:(J,O,m)=>{"use strict";m.d(O,{z:()=>_});var u=m(4893),C=m(257),b=m(2382),y=m(6166),g=m(9808);function s(p,T){if(1&p&&u._UZ(0,"ngx-datatable-column",8),2&p){const v=T.$implicit;u.Q6J("name",v.cNombre)("prop",v.cPropiedad)}}let _=(()=>{class p{constructor(v,e){this.activeModal=v,this.modalService=e,this.data=[],this.dataTemp=[],this.props=[],this.valueBuscador=""}ngOnInit(){}ngAfterViewChecked(){window.dispatchEvent(new Event("resize"))}close(v=this){v.activeModal.close({})}filterDatatable(v){if(this.data=this.dataTemp,""===v.target.value)this.data=this.dataTemp;else{const e=v.target.value.toLowerCase(),U=this.data.filter(Z=>-1!==Z[Object.keys(Z)[0]].toString().toLowerCase().indexOf(e)||!e||-1!==Z[Object.keys(Z)[1]].toLowerCase().indexOf(e)||!e);this.data=U}}onClick(v){"click"==v.type&&(this.selectedRow&&this.selectedRow[Object.keys(this.selectedRow)[0]]==v.row[Object.keys(v.row)[0]]?this.activeModal.close({id:this.selectedRow[Object.keys(this.selectedRow)[0]],cDescripcion:this.selectedRow[Object.keys(this.selectedRow)[1]]}):this.selectedRow=v.row)}}return p.\u0275fac=function(v){return new(v||p)(u.Y36(C.Kz),u.Y36(C.FF))},p.\u0275cmp=u.Xpm({type:p,selectors:[["app-busqueda-modal"]],inputs:{titulo:"titulo",data:"data",dataTemp:"dataTemp",props:"props"},decls:10,vars:12,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["type","text","matInput","","placeholder","Buscar ...",3,"ngModel","keyup","ngModelChange"],[1,"material","shadow-none",3,"rows","loadingIndicator","columnMode","headerHeight","footerHeight","rowHeight","reorderable","limit","scrollbarH","activate"],[3,"name","prop",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"name","prop"]],template:function(v,e){1&v&&(u.TgZ(0,"div",0)(1,"h5",1),u._uU(2),u.qZA()(),u.TgZ(3,"div",2)(4,"input",3),u.NdJ("keyup",function(Z){return e.filterDatatable(Z)})("ngModelChange",function(Z){return e.valueBuscador=Z}),u.qZA(),u.TgZ(5,"ngx-datatable",4),u.NdJ("activate",function(Z){return e.onClick(Z)}),u.YNc(6,s,1,2,"ngx-datatable-column",5),u.qZA()(),u.TgZ(7,"div",6)(8,"button",7),u.NdJ("click",function(){return e.close()}),u._uU(9," Cerrar "),u.qZA()()),2&v&&(u.xp6(2),u.Oqu(e.titulo),u.xp6(2),u.Q6J("ngModel",e.valueBuscador),u.xp6(1),u.Q6J("rows",e.data)("loadingIndicator",e.loadingIndicator)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("reorderable",e.reorderable)("limit",10)("scrollbarH",!0),u.xp6(1),u.Q6J("ngForOf",e.props))},directives:[b.Fj,b.JJ,b.On,y.nE,g.sg,y.UC],styles:[""]}),p})()},9405:(J,O,m)=>{"use strict";m.r(O),m.d(O,{InventoryMovementsModule:()=>r});var u=m(9808),C=m(9560),b=m(5886),y=m(5835),g=m(5861),s=m(2382),_=m(1764),p=m(5226),T=m.n(p),v=m(2217),e=m(4893),U=m(257),Z=m(803),V=m(6166);let P=(()=>{class o{constructor(n,t,i){this.activeModal=n,this.modalService=t,this.service=i,this.data=[],this.dataTemp=[],this.valueBuscador=""}ngOnInit(){this.dataTemp=[],this.data=[],this.service.obtenerMovimientoDeAlmacen(0).subscribe(n=>{this.data=[...n.data],console.log(this.data)},n=>{})}close(n=this){n.activeModal.close({})}filterDatatable(n){if(this.data=this.data,""===n.target.value)this.data=this.dataTemp;else{const t=n.target.value.toLowerCase(),i=this.data.filter(a=>!(-1===a.nMovimientoAlmacen.toString().toLowerCase().indexOf(t)&&t&&-1===a.cDescripcionMovimiento.toLowerCase().indexOf(t)&&t&&-1===a.dFechaMovimiento.toLowerCase().indexOf(t)&&t&&-1===a.cDescripcionCorta.toLowerCase().indexOf(t)&&t));this.data=i}}onClick(n){"click"==n.type&&(this.selectedRow&&this.selectedRow.nMovimientoAlmacen==n.row.nMovimientoAlmacen?this.activeModal.close({id:this.selectedRow.nMovimientoAlmacen}):this.selectedRow=n.row)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(U.Kz),e.Y36(U.FF),e.Y36(Z.A))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-busqueda-inventory-movements"]],decls:13,vars:11,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["type","text","matInput","","placeholder","Buscar de movimiento de almacen",3,"ngModel","keyup","ngModelChange"],[1,"material","shadow-none",3,"rows","loadingIndicator","columnMode","headerHeight","footerHeight","rowHeight","reorderable","limit","scrollbarH","activate"],["name","Id. movimiento","prop","nMovimientoAlmacen",3,"width"],["name","Tipo de movimiento","prop","cDescripcionMovimiento"],["name","Fecha de movimiento","prop","dFechaMovimiento"],["name","Producto","prop","cDescripcionCorta"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Busqueda de movimiento de almacen"),e.qZA()(),e.TgZ(3,"div",2)(4,"input",3),e.NdJ("keyup",function(a){return t.filterDatatable(a)})("ngModelChange",function(a){return t.valueBuscador=a}),e.qZA(),e.TgZ(5,"ngx-datatable",4),e.NdJ("activate",function(a){return t.onClick(a)}),e._UZ(6,"ngx-datatable-column",5)(7,"ngx-datatable-column",6)(8,"ngx-datatable-column",7)(9,"ngx-datatable-column",8),e.qZA()(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){return t.close()}),e._uU(12," Cerrar "),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngModel",t.valueBuscador),e.xp6(1),e.Q6J("rows",t.data)("loadingIndicator",t.loadingIndicator)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("reorderable",t.reorderable)("limit",10)("scrollbarH",!0),e.xp6(1),e.Q6J("width",80))},directives:[s.Fj,s.JJ,s.On,V.nE,V.UC],styles:[""]}),o})();var F=m(1969),L=m(2111),S=m(7881);function w(o,l){if(1&o&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&o){const n=l.$implicit;e.Q6J("ngValue",n),e.xp6(1),e.hij(" ",n.cDescripcion,"\n                    ")}}function B(o,l){1&o&&(e.TgZ(0,"label",13),e._uU(1,"Almacen origen"),e.qZA())}const q=function(o){return{"has-error":o}};function A(o,l){if(1&o){const n=e.EpF();e.TgZ(0,"div",14),e._uU(1,"\n                  "),e.TgZ(2,"div",15),e._uU(3,"\n                    "),e._UZ(4,"input",36),e._uU(5,"\n                    "),e.TgZ(6,"span",17),e._uU(7,"\n                      "),e.TgZ(8,"i",18),e.NdJ("click",function(){return e.CHM(n),e.oxw().openModalAlmacenesOrigen()}),e.qZA(),e._uU(9,"\n                    "),e.qZA(),e._uU(10,"\n                  "),e.qZA(),e._uU(11,"\n                "),e.qZA()}if(2&o){const n=e.oxw();let t;e.xp6(4),e.Q6J("ngClass",e.VKq(1,q,null==(t=n.form.get("nAlmacenOrigen"))?null:t.hasError("required")))}}const f=function(){return{prefix:"",thousands:",",decimal:".",precision:2}},x=function(){return{prefix:"$",thousands:",",decimal:".",precision:2}},d=[{path:"",component:(()=>{class o{constructor(n,t,i,a,c,h,M,D){this.util=n,this.formBuilder=t,this.inventario=i,this.serviceArticulo=a,this.modalService=c,this.serviceAlmacen=h,this.serviceInventario=M,this.datePipe=D,this.maxDate=new Date,this.tiposDeMovimientos=[],this.bTraspaso=!1}ngOnInit(){var n=this;return(0,g.Z)(function*(){var t;n.form=new s.cw({nMovimientoAlmacen:new s.NI({value:"",disabled:!0},[]),nArticulo:new s.NI("",s.kI.required),nTipoMovimiento:new s.NI("",s.kI.required),cArticulo:new s.NI({value:"",disabled:!0},s.kI.required),nAlmacenOrigen:new s.NI(""),cAlmacenOrigen:new s.NI({value:"",disabled:!0}),nAlmacenDestino:new s.NI("",s.kI.required),cAlmacenDestino:new s.NI({value:"",disabled:!0}),nCantidadMovimiento:new s.NI(0,s.kI.required),dFechaMovimiento:new s.NI(n.datePipe.transform(new Date,"yyyy-MM-dd"),[s.kI.required]),nCosto:new s.NI(0,s.kI.required),nTotal:new s.NI({value:0,disabled:!0},s.kI.required),cObservaciones:new s.NI("")});let i=yield n.serviceInventario.obtenerTiposDeMovimientos(0).toPromise();n.tiposDeMovimientos=i.data?i.data:[],null===(t=n.form.get("nTipoMovimiento"))||void 0===t||t.valueChanges.subscribe(a=>{var c,h,M,D;0==a.bTraspaso?(n.bTraspaso=!1,null===(c=n.form.get("nAlmacenOrigen"))||void 0===c||c.clearValidators(),null===(h=n.form.get("nAlmacenOrigen"))||void 0===h||h.updateValueAndValidity()):(n.bTraspaso=!0,null===(M=n.form.get("nAlmacenOrigen"))||void 0===M||M.setValidators([s.kI.required]),null===(D=n.form.get("nAlmacenOrigen"))||void 0===D||D.updateValueAndValidity())})})()}get nMovimientoAlmacen(){var n,t,i;return(null===(n=this.form.get("nMovimientoAlmacen"))||void 0===n?void 0:n.value)&&""!=(null===(t=this.form.get("nMovimientoAlmacen"))||void 0===t?void 0:t.value)?null===(i=this.form.get("nMovimientoAlmacen"))||void 0===i?void 0:i.value:0}get nArticulo(){var n,t;return null!==(t=null===(n=this.form.get("nArticulo"))||void 0===n?void 0:n.value)&&void 0!==t?t:0}get nAlmacenOrigen(){var n,t;return null!==(t=null===(n=this.form.get("nAlmacenOrigen"))||void 0===n?void 0:n.value)&&void 0!==t?t:0}get nAlmacenDestino(){var n,t;return null!==(t=null===(n=this.form.get("nAlmacenDestino"))||void 0===n?void 0:n.value)&&void 0!==t?t:0}get nCantidadMovimiento(){var n,t;return null!==(t=null===(n=this.form.get("nCantidadMovimiento"))||void 0===n?void 0:n.value)&&void 0!==t?t:0}get nCosto(){var n,t;return null!==(t=null===(n=this.form.get("nCosto"))||void 0===n?void 0:n.value)&&void 0!==t?t:0}get nTotal(){var n,t;return null!==(t=null===(n=this.form.get("nTotal"))||void 0===n?void 0:n.value)&&void 0!==t?t:0}get nTipoMovimiento(){var n,t;return null!==(t=null===(n=this.form.get("nTipoMovimiento"))||void 0===n?void 0:n.value)&&void 0!==t?t:{}}get dFechaMovimiento(){var n;return null===(n=this.form.get("dFechaMovimiento"))||void 0===n?void 0:n.value}get cObservaciones(){var n,t;return null!==(t=null===(n=this.form.get("cObservaciones"))||void 0===n?void 0:n.value)&&void 0!==t?t:""}openModalArticulos(){var n=this;return(0,g.Z)(function*(){const t=n.modalService.open(v.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});t.componentInstance.titulo="B\xfasqueda de art\xedculos",t.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nArticulo"},{cNombre:"Art\xedculo",cPropiedad:"cDescripcion"}];const a=(yield n.serviceArticulo.obtenerArticulos(0,-1).toPromise()).data.map(c=>({nArticulo:c.nArticulo,cDescripcion:c.cDescripcionLarga}));t.componentInstance.data=a,t.componentInstance.dataTemp=a,t.closed.subscribe(c=>{c&&c.id&&(n.asignarArticulo(c),t.close())})})()}openMovimiento(){this.modalService.open(P,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario"}).closed.subscribe(t=>{t&&(console.log(t.id),this.form.controls.nMovimientoAlmacen.setValue(t.id),0!=t.id&&this.mostrarDatos())})}openModalAlmacenesOrigen(){var n=this;return(0,g.Z)(function*(){const t=n.modalService.open(v.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});t.componentInstance.titulo="B\xfasqueda de almacenes",t.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nAlmacen"},{cNombre:"Almac\xe9n",cPropiedad:"cDescripcion"}];const a=(yield n.serviceAlmacen.obtenerAlmacenes(0).toPromise()).data.map(c=>({nAlmacen:c.nAlmacen,cDescripcion:c.cDescripcion}));t.componentInstance.data=a,t.componentInstance.dataTemp=a,t.closed.subscribe(c=>{console.log("value:",c),c&&c.id&&(n.asignarAlmacenOrigen(c),t.close())})})()}openModalAlmacenesDestino(){var n=this;return(0,g.Z)(function*(){const t=n.modalService.open(v.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});t.componentInstance.titulo="B\xfasqueda de almacenes",t.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nAlmacen"},{cNombre:"Almac\xe9n",cPropiedad:"cDescripcion"}];const a=(yield n.serviceAlmacen.obtenerAlmacenes(0).toPromise()).data.map(c=>({nAlmacen:c.nAlmacen,cDescripcion:c.cDescripcion}));t.componentInstance.data=a,t.componentInstance.dataTemp=a,t.closed.subscribe(c=>{console.log("value:",c),c&&c.id&&(n.asignarAlmacenDestino(c),t.close())})})()}asignarArticulo(n){this.form.controls.cArticulo.setValue(n.cDescripcion),this.form.controls.nArticulo.setValue(n.id)}asignarAlmacenOrigen(n){this.form.controls.cAlmacenOrigen.setValue(n.cDescripcion),this.form.controls.nAlmacenOrigen.setValue(n.id)}asignarAlmacenDestino(n){this.form.controls.cAlmacenDestino.setValue(n.cDescripcion),this.form.controls.nAlmacenDestino.setValue(n.id)}total(){console.log("entro"),this.form.controls.nTotal.setValue(this.nCantidadMovimiento*this.nCosto)}guardar(){var n=this;return(0,g.Z)(function*(){let t;if(n.nAlmacenDestino===n.nAlmacenOrigen)return void T().fire("Error","No es posible realizar un traspaso a un mismo almac\xe9n.","error");t=0==n.nAlmacenOrigen?n.nAlmacenDestino:n.nAlmacenOrigen;const i={nTipoMovimiento:n.nTipoMovimiento.nTipoMovimiento,nAlmacenRegistro:t,nAlmacenMovimiento:n.nAlmacenDestino,dFechaMovimiento:new Date(n.dFechaMovimiento).toISOString().split("T")[0],cReferencia:n.cObservaciones,detalle:[{nTipoMovimiento:n.nTipoMovimiento.nTipoMovimiento,nRenglon:1,nArticulo:n.nArticulo,nCantidadMovimiento:n.nCantidadMovimiento,nCosto:n.nCosto,nPrecio:n.nCosto}]};yield n.serviceInventario.guardarMovimientoAlmacen(i).subscribe(function(){var a=(0,g.Z)(function*(c){""!==c.error?T().fire("Error",c.error.error,"error"):(n.limpiar(),n.util.dialogSuccess("Movimiento de inventario guardado correctamente."))});return function(c){return a.apply(this,arguments)}}(),a=>{n.util.dialogError(a.error.error.original.sqlMessage?"Error al guardar el movimiento de inventario."+a.error.error.original.sqlMessage:"Error al guardar el movimiento de inventario.")})})()}mostrarDatos(){console.log(this.nMovimientoAlmacen),console.log(this.tiposDeMovimientos),this.serviceInventario.obtenerMovimientoDeAlmacen(this.nMovimientoAlmacen).subscribe(n=>{if(n){const t=n.data[0];console.log(t);let i=this.tiposDeMovimientos.filter(a=>a.nTipoMovimiento==t.nTipoMovimiento);i.length&&(this.form.controls.nTipoMovimiento.setValue(i[0]),this.form.controls.nArticulo.setValue(t.nArticulo),this.form.controls.cArticulo.setValue(t.cDescripcionCorta),this.form.controls.nCantidadMovimiento.setValue(t.nCantidadMovimiento),this.form.controls.dFechaMovimiento.setValue(_(new Date(t.dFechaMovimiento).toISOString().split("T")[0]).format("YYYY-MM-DD")),this.form.controls.nAlmacenOrigen.setValue(t.nAlmacenRegistro),this.form.controls.cAlmacenOrigen.setValue(t.cDescripcionAlmacenRegistro),this.form.controls.cAlmacenDestino.setValue(t.cDescripcionAlmacen),this.form.controls.nAlmacenDestino.setValue(t.nAlmacen),this.form.controls.nCosto.setValue(t.nCostoUnitario),this.form.controls.cObservaciones.setValue(t.cReferencia))}},n=>{})}limpiar(){this.form.controls.nMovimientoAlmacen.setValue(""),this.form.controls.nArticulo.setValue(""),this.form.controls.nTipoMovimiento.setValue(""),this.form.controls.cArticulo.setValue(""),this.form.controls.nAlmacenOrigen.setValue(""),this.form.controls.cAlmacenOrigen.setValue(""),this.form.controls.cAlmacenDestino.setValue(""),this.form.controls.nAlmacenDestino.setValue(""),this.form.controls.nCantidadMovimiento.setValue(0),this.form.controls.dFechaMovimiento.setValue(this.datePipe.transform(new Date,"yyyy-MM-dd")),this.form.controls.nCosto.setValue(0),this.form.controls.cObservaciones.setValue(""),this.bTraspaso=!1}cancelar(){}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(F.F),e.Y36(s.qu),e.Y36(Z.A),e.Y36(L.N),e.Y36(U.FF),e.Y36(S.O),e.Y36(Z.A),e.Y36(u.uU))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-inventory-movements"]],features:[e._Bn([u.uU])],decls:166,vars:24,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["name","form",3,"formGroup"],[1,"row","mt-4"],[1,"col-sm-5"],[1,"form-label","col-sm-5","col-form-label","text-end"],[1,"col-sm-7"],[1,"input-group","mb-1"],["type","text","formControlName","nMovimientoAlmacen",1,"form-control","form-control-sm","border-end-0",3,"disabled"],[1,"input-group-text","border-start-0","bg-white"],[1,"feather","icon-search",3,"click"],[1,"col-sm-7","mb-1"],["formControlName","nTipoMovimiento",1,"form-control","form-control-sm",2,"z-index","1000"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-label col-sm-5 col-form-label text-end",4,"ngIf"],["class","col-sm-7",4,"ngIf"],["type","text","formControlName","cAlmacenDestino","onfocus","this.select()",1,"form-control","form-control-sm","border-end-0",3,"ngClass"],["type","text","formControlName","cArticulo","onfocus","this.select()",1,"form-control","form-control-sm","border-end-0",3,"ngClass"],["type","text","formControlName","nCantidadMovimiento","currencyMask","","onfocus","this.select()","maxlength","20",1,"form-control","form-control-sm",3,"options","min","ngModelChange","change"],["type","text","formControlName","nCosto","currencyMask","","onfocus","this.select()","maxlength","20",1,"form-control","form-control-sm",3,"options","ngModelChange","change"],["type","text","formControlName","nTotal","currencyMask","","maxlength","20",1,"form-control","form-control-sm",3,"options","disabled"],["type","text","formControlName","cObservaciones","onfocus","this.select()","maxlength","200",1,"form-control","form-control-sm"],[1,"col-sm-2"],["type","date","id","dFechaRecepcion","onfocus","this.select()","formControlName","dFechaMovimiento",1,"form-control","form-control-sm","justify-content-center",3,"max"],[1,"d-flex","justify-content-end","my-4"],["type","button",1,"btn","btn-warning","mx-2",3,"click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"],[3,"ngValue"],["type","text","formControlName","cAlmacenOrigen","onfocus","this.select()",1,"form-control","form-control-sm","border-end-0",3,"ngClass"]],template:function(n,t){if(1&n&&(e._uU(0,"\n"),e.TgZ(1,"nav",0),e._uU(2,"\n  "),e.TgZ(3,"ol",1),e._uU(4,"\n    "),e.TgZ(5,"li",2)(6,"a",3),e._uU(7,"Inventarios"),e.qZA()(),e._uU(8,"\n    "),e.TgZ(9,"li",4),e._uU(10,"Movimientos de Inventarios"),e.qZA(),e._uU(11,"\n  "),e.qZA(),e._uU(12,"\n"),e.qZA(),e._uU(13,"\n\n"),e._uU(14,"\n"),e._uU(15,"\n\n"),e._uU(16,"\n"),e.TgZ(17,"div",5),e._uU(18,"\n  "),e.TgZ(19,"div",6),e._uU(20,"\n    "),e.TgZ(21,"div",7),e._uU(22,"\n      "),e.TgZ(23,"div",8),e._uU(24,"\n        "),e.TgZ(25,"h6",9),e._uU(26,"Movimientos de Inventarios"),e.qZA(),e._uU(27,"\n        "),e.TgZ(28,"form",10),e._uU(29,"\n\n          "),e.TgZ(30,"div",11),e._uU(31,"\n            "),e.TgZ(32,"div",12),e._uU(33,"\n              "),e.TgZ(34,"div",5),e._uU(35,"\n\n                "),e.TgZ(36,"label",13),e._uU(37,"Folio"),e.qZA(),e._uU(38,"\n                "),e.TgZ(39,"div",14),e._uU(40,"\n                  "),e.TgZ(41,"div",15),e._uU(42,"\n                    "),e._UZ(43,"input",16),e._uU(44,"\n                    "),e.TgZ(45,"span",17),e._uU(46,"\n                      "),e.TgZ(47,"i",18),e.NdJ("click",function(){return t.openMovimiento()}),e.qZA(),e._uU(48,"\n                    "),e.qZA(),e._uU(49,"\n                  "),e.qZA(),e._uU(50,"\n                "),e.qZA(),e._uU(51,"\n\n\n                "),e.TgZ(52,"label",13),e._uU(53,"Tipo de Movimiento"),e.qZA(),e._uU(54,"\n                "),e.TgZ(55,"div",19),e._uU(56,"\n                  "),e.TgZ(57,"select",20),e._uU(58,"\n                    "),e.YNc(59,w,2,2,"option",21),e._uU(60,"\n                  "),e.qZA(),e._uU(61,"\n                "),e.qZA(),e._uU(62,"\n\n                "),e.YNc(63,B,2,0,"label",22),e._uU(64,"\n                "),e.YNc(65,A,12,3,"div",23),e._uU(66,"\n                "),e.TgZ(67,"label",13),e._uU(68,"Almacen destino"),e.qZA(),e._uU(69,"\n                "),e.TgZ(70,"div",14),e._uU(71,"\n                  "),e.TgZ(72,"div",15),e._uU(73,"\n                    "),e._UZ(74,"input",24),e._uU(75,"\n                    "),e.TgZ(76,"span",17),e._uU(77,"\n                      "),e.TgZ(78,"i",18),e.NdJ("click",function(){return t.openModalAlmacenesDestino()}),e.qZA(),e._uU(79,"\n                    "),e.qZA(),e._uU(80,"\n                  "),e.qZA(),e._uU(81,"\n                "),e.qZA(),e._uU(82,"\n                "),e.TgZ(83,"label",13),e._uU(84,"Producto"),e.qZA(),e._uU(85,"\n                "),e.TgZ(86,"div",14),e._uU(87,"\n                  "),e.TgZ(88,"div",15),e._uU(89,"\n                    "),e._UZ(90,"input",25),e._uU(91,"\n                    "),e.TgZ(92,"span",17),e._uU(93,"\n                      "),e.TgZ(94,"i",18),e.NdJ("click",function(){return t.openModalArticulos()}),e.qZA(),e._uU(95,"\n                    "),e.qZA(),e._uU(96,"\n                  "),e.qZA(),e._uU(97,"\n                "),e.qZA(),e._uU(98,"\n\n                "),e.TgZ(99,"label",13),e._uU(100,"Cantidad"),e.qZA(),e._uU(101,"\n                "),e.TgZ(102,"div",14),e._uU(103,"\n                  "),e.TgZ(104,"input",26),e.NdJ("ngModelChange",function(){return t.total()})("change",function(){return t.total()}),e.qZA(),e._uU(105,"\n                "),e.qZA(),e._uU(106,"\n\n\n                "),e.TgZ(107,"label",13),e._uU(108,"Costo"),e.qZA(),e._uU(109,"\n                "),e.TgZ(110,"div",14),e._uU(111,"\n                  "),e.TgZ(112,"input",27),e.NdJ("ngModelChange",function(){return t.total()})("change",function(){return t.total()}),e.qZA(),e._uU(113,"\n                "),e.qZA(),e._uU(114,"\n\n                "),e.TgZ(115,"label",13),e._uU(116,"Total"),e.qZA(),e._uU(117,"\n                "),e.TgZ(118,"div",14),e._uU(119,"\n                  "),e._UZ(120,"input",28),e._uU(121,"\n                "),e.qZA(),e._uU(122,"\n\n\n                "),e.TgZ(123,"label",13),e._uU(124,"Observaciones"),e.qZA(),e._uU(125,"\n                "),e.TgZ(126,"div",14),e._uU(127,"\n                  "),e._UZ(128,"input",29),e._uU(129,"\n                "),e.qZA(),e._uU(130,"\n\n              "),e.qZA(),e._uU(131,"\n            "),e.qZA(),e._uU(132,"\n\n            "),e._UZ(133,"div",30),e._uU(134,"\n\n            "),e.TgZ(135,"div",12),e._uU(136,"\n\n              "),e.TgZ(137,"div",11),e._uU(138,"\n                "),e.TgZ(139,"label",13),e._uU(140,"Fecha"),e.qZA(),e._uU(141,"\n                "),e.TgZ(142,"div",14),e._uU(143,"\n                  "),e._UZ(144,"input",31),e.ALo(145,"date"),e._uU(146,"\n                "),e.qZA(),e._uU(147,"\n              "),e.qZA(),e._uU(148,"\n            "),e.qZA(),e._uU(149,"\n          "),e.qZA(),e._uU(150,"\n\n        "),e.qZA(),e._uU(151,"\n        "),e.TgZ(152,"div",32),e._uU(153,"\n          "),e.TgZ(154,"button",33),e.NdJ("click",function(){return t.limpiar()}),e._uU(155,"Limpiar"),e.qZA(),e._uU(156,"\n          "),e._uU(157,"\n          "),e.TgZ(158,"button",34),e.NdJ("click",function(){return t.guardar()}),e._uU(159,"Guardar"),e.qZA(),e._uU(160,"\n        "),e.qZA(),e._uU(161,"\n      "),e.qZA(),e._uU(162,"\n    "),e.qZA(),e._uU(163,"\n  "),e.qZA(),e._uU(164,"\n"),e.qZA(),e._uU(165,"\n")),2&n){let i,a;e.xp6(28),e.Q6J("formGroup",t.form),e.xp6(15),e.Q6J("disabled",!0),e.xp6(16),e.Q6J("ngForOf",t.tiposDeMovimientos),e.xp6(4),e.Q6J("ngIf",1==t.bTraspaso),e.xp6(2),e.Q6J("ngIf",t.bTraspaso),e.xp6(9),e.Q6J("ngClass",e.VKq(17,q,null==(i=t.form.get("nAlmacenDestino"))?null:i.hasError("required"))),e.xp6(16),e.Q6J("ngClass",e.VKq(19,q,null==(a=t.form.get("nArticulo"))?null:a.hasError("required"))),e.xp6(14),e.Q6J("options",e.DdM(21,f))("min",.01),e.xp6(8),e.Q6J("options",e.DdM(22,f)),e.xp6(8),e.Q6J("options",e.DdM(23,x))("disabled",!0),e.xp6(24),e.s9C("max",e.xi3(145,14,t.maxDate,"yyyy-MM-dd")),e.xp6(14),e.Q6J("disabled",t.form.invalid||t.nMovimientoAlmacen>0)}},directives:[C.yS,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.EJ,u.sg,s.YN,s.Kr,u.O5,u.mk,y.g1,s.nD],pipes:[u.uU],styles:[""]}),o})()}];let r=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez,C.Bz.forChild(d),b.m,y.zh,V.xD]]}),o})()},2111:(J,O,m)=>{"use strict";m.d(O,{N:()=>y});var u=m(2340),C=m(4893),b=m(520);let y=(()=>{class g{constructor(_){this.http=_,this.urlArticulos="catalogos/articulos",this.baseUrl=u.N.api}obtenerArticulos(_,p){return this.http.get(this.baseUrl+this.urlArticulos+"/"+_+"/"+p)}guardarArticulo(_){return this.http.post(this.baseUrl+this.urlArticulos,_)}cancelarArticulo(_){return this.http.delete(this.baseUrl+this.urlArticulos+"/"+_)}}return g.\u0275fac=function(_){return new(_||g)(C.LFG(b.eN))},g.\u0275prov=C.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},1764:function(J){J.exports=function(){"use strict";var m=6e4,u=36e5,C="millisecond",b="second",y="minute",g="hour",s="day",_="week",p="month",T="quarter",v="year",e="date",U="Invalid Date",Z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,V=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},F=function(d,r,o){var l=String(d);return!l||l.length>=r?d:""+Array(r+1-l.length).join(o)+d},L={s:F,z:function(d){var r=-d.utcOffset(),o=Math.abs(r),l=Math.floor(o/60),n=o%60;return(r<=0?"+":"-")+F(l,2,"0")+":"+F(n,2,"0")},m:function d(r,o){if(r.date()<o.date())return-d(o,r);var l=12*(o.year()-r.year())+(o.month()-r.month()),n=r.clone().add(l,p),t=o-n<0,i=r.clone().add(l+(t?-1:1),p);return+(-(l+(o-n)/(t?n-i:i-n))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:p,y:v,w:_,d:s,D:e,h:g,m:y,s:b,ms:C,Q:T}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return void 0===d}},S="en",w={};w[S]=P;var B=function(d){return d instanceof x},q=function d(r,o,l){var n;if(!r)return S;if("string"==typeof r){var t=r.toLowerCase();w[t]&&(n=t),o&&(w[t]=o,n=t);var i=r.split("-");if(!n&&i.length>1)return d(i[0])}else{var a=r.name;w[a]=r,n=a}return!l&&n&&(S=n),n||!l&&S},A=function(d,r){if(B(d))return d.clone();var o="object"==typeof r?r:{};return o.date=d,o.args=arguments,new x(o)},f=L;f.l=q,f.i=B,f.w=function(d,r){return A(d,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var x=function(){function d(o){this.$L=q(o.locale,null,!0),this.parse(o)}var r=d.prototype;return r.parse=function(o){this.$d=function(l){var n=l.date,t=l.utc;if(null===n)return new Date(NaN);if(f.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var i=n.match(Z);if(i){var a=i[2]-1||0,c=(i[7]||"0").substring(0,3);return t?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,c)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,c)}}return new Date(n)}(o),this.$x=o.x||{},this.init()},r.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},r.$utils=function(){return f},r.isValid=function(){return this.$d.toString()!==U},r.isSame=function(o,l){var n=A(o);return this.startOf(l)<=n&&n<=this.endOf(l)},r.isAfter=function(o,l){return A(o)<this.startOf(l)},r.isBefore=function(o,l){return this.endOf(l)<A(o)},r.$g=function(o,l,n){return f.u(o)?this[l]:this.set(n,o)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(o,l){var n=this,t=!!f.u(l)||l,i=f.p(o),a=function(k,I){var N=f.w(n.$u?Date.UTC(n.$y,I,k):new Date(n.$y,I,k),n);return t?N:N.endOf(s)},c=function(k,I){return f.w(n.toDate()[k].apply(n.toDate("s"),(t?[0,0,0,0]:[23,59,59,999]).slice(I)),n)},h=this.$W,M=this.$M,D=this.$D,$="set"+(this.$u?"UTC":"");switch(i){case v:return t?a(1,0):a(31,11);case p:return t?a(1,M):a(0,M+1);case _:var E=this.$locale().weekStart||0,R=(h<E?h+7:h)-E;return a(t?D-R:D+(6-R),M);case s:case e:return c($+"Hours",0);case g:return c($+"Minutes",1);case y:return c($+"Seconds",2);case b:return c($+"Milliseconds",3);default:return this.clone()}},r.endOf=function(o){return this.startOf(o,!1)},r.$set=function(o,l){var n,t=f.p(o),i="set"+(this.$u?"UTC":""),a=(n={},n[s]=i+"Date",n[e]=i+"Date",n[p]=i+"Month",n[v]=i+"FullYear",n[g]=i+"Hours",n[y]=i+"Minutes",n[b]=i+"Seconds",n[C]=i+"Milliseconds",n)[t],c=t===s?this.$D+(l-this.$W):l;if(t===p||t===v){var h=this.clone().set(e,1);h.$d[a](c),h.init(),this.$d=h.set(e,Math.min(this.$D,h.daysInMonth())).$d}else a&&this.$d[a](c);return this.init(),this},r.set=function(o,l){return this.clone().$set(o,l)},r.get=function(o){return this[f.p(o)]()},r.add=function(o,l){var n,t=this;o=Number(o);var i=f.p(l),a=function(M){var D=A(t);return f.w(D.date(D.date()+Math.round(M*o)),t)};if(i===p)return this.set(p,this.$M+o);if(i===v)return this.set(v,this.$y+o);if(i===s)return a(1);if(i===_)return a(7);var c=(n={},n[y]=m,n[g]=u,n[b]=1e3,n)[i]||1,h=this.$d.getTime()+o*c;return f.w(h,this)},r.subtract=function(o,l){return this.add(-1*o,l)},r.format=function(o){var l=this,n=this.$locale();if(!this.isValid())return n.invalidDate||U;var t=o||"YYYY-MM-DDTHH:mm:ssZ",i=f.z(this),a=this.$H,c=this.$m,h=this.$M,M=n.weekdays,D=n.months,$=function(I,N,Q,Y){return I&&(I[N]||I(l,t))||Q[N].slice(0,Y)},E=function(I){return f.s(a%12||12,I,"0")},R=n.meridiem||function(I,N,Q){var Y=I<12?"AM":"PM";return Q?Y.toLowerCase():Y},k={YY:String(this.$y).slice(-2),YYYY:this.$y,M:h+1,MM:f.s(h+1,2,"0"),MMM:$(n.monthsShort,h,D,3),MMMM:$(D,h),D:this.$D,DD:f.s(this.$D,2,"0"),d:String(this.$W),dd:$(n.weekdaysMin,this.$W,M,2),ddd:$(n.weekdaysShort,this.$W,M,3),dddd:M[this.$W],H:String(a),HH:f.s(a,2,"0"),h:E(1),hh:E(2),a:R(a,c,!0),A:R(a,c,!1),m:String(c),mm:f.s(c,2,"0"),s:String(this.$s),ss:f.s(this.$s,2,"0"),SSS:f.s(this.$ms,3,"0"),Z:i};return t.replace(V,function(I,N){return N||k[I]||i.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(o,l,n){var t,i=f.p(l),a=A(o),c=(a.utcOffset()-this.utcOffset())*m,h=this-a,M=f.m(this,a);return M=(t={},t[v]=M/12,t[p]=M,t[T]=M/3,t[_]=(h-c)/6048e5,t[s]=(h-c)/864e5,t[g]=h/u,t[y]=h/m,t[b]=h/1e3,t)[i]||h,n?M:f.a(M)},r.daysInMonth=function(){return this.endOf(p).$D},r.$locale=function(){return w[this.$L]},r.locale=function(o,l){if(!o)return this.$L;var n=this.clone(),t=q(o,l,!0);return t&&(n.$L=t),n},r.clone=function(){return f.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},d}(),H=x.prototype;return A.prototype=H,[["$ms",C],["$s",b],["$m",y],["$H",g],["$W",s],["$M",p],["$y",v],["$D",e]].forEach(function(d){H[d[1]]=function(r){return this.$g(r,d[0],d[1])}}),A.extend=function(d,r){return d.$i||(d(r,x,A),d.$i=!0),A},A.locale=q,A.isDayjs=B,A.unix=function(d){return A(1e3*d)},A.en=w[S],A.Ls=w,A.p={},A}()},5861:(J,O,m)=>{"use strict";function u(b,y,g,s,_,p,T){try{var v=b[p](T),e=v.value}catch(U){return void g(U)}v.done?y(e):Promise.resolve(e).then(s,_)}function C(b){return function(){var y=this,g=arguments;return new Promise(function(s,_){var p=b.apply(y,g);function T(e){u(p,s,_,T,v,"next",e)}function v(e){u(p,s,_,T,v,"throw",e)}T(void 0)})}}m.d(O,{Z:()=>C})}}]);