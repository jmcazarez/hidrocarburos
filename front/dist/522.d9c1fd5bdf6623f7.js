"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[522],{7522:(X,q,u)=>{u.r(q),u.d(q,{ProductDeliveryTicketModule:()=>W});var g=u(9808),A=u(9560),D=u(5886),m=u(5861),r=u(2382),h=u(1764),_=u(2217),n=u(4893),N=u(1075),F=u(1969),T=u(257),I=u(9238),k=u(5382),O=u(480),x=u(2111),J=u(2340),R=u(520);let L=(()=>{class i{constructor(e){this.http=e,this.urlFormasPago="catalogos/formas_pago",this.baseUrl=J.N.api}obtenerFormasPago(){return this.http.get(this.baseUrl+this.urlFormasPago)}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(R.eN))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var S=u(8411),z=u(9066),w=u(2313);let M=(()=>{class i{constructor(e,o){this.activeModal=e,this.sanitizer=o,this.cBase64PdfSanitizado=""}ngOnInit(){var e;try{console.log(this.cBase64Pdf),this.cBase64PdfSanitizado=this.sanitizer.bypassSecurityTrustResourceUrl(null!==(e=this.cBase64Pdf)&&void 0!==e?e:"")}catch(o){console.log(o)}}cerrar(e=this){e.activeModal.close()}manejarEventosTeclado(e){"Escape"===e.key&&(e.preventDefault(),this.activeModal.close())}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(T.Kz),n.Y36(w.H7))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-dialog-visualizar-pdf"]],hostBindings:function(e,o){1&e&&n.NdJ("keydown",function(l){return o.manejarEventosTeclado(l)},!1,n.Jf7)},inputs:{cTitulo:"cTitulo",cBase64Pdf:"cBase64Pdf"},decls:11,vars:2,consts:[[1,"modal-header"],[3,"click"],[1,"modal-body"],[1,"row"],[1,"col"],[1,"contenido",3,"src"],[1,"modal-footer","d-flex","justify-content-start"]],template:function(e,o){if(1&e&&(n.TgZ(0,"div",0)(1,"span"),n._uU(2),n.qZA(),n.TgZ(3,"button",1),n.NdJ("click",function(){return o.cerrar()}),n.qZA()(),n.TgZ(4,"div",2)(5,"div",3)(6,"div",4),n._UZ(7,"iframe",5),n.qZA()()(),n.TgZ(8,"div",6)(9,"span"),n._uU(10,"<ESC> Salir"),n.qZA()()),2&e){let a;n.xp6(2),n.Oqu(null!==(a=o.cTitulo)&&void 0!==a?a:""),n.xp6(5),n.Q6J("src",o.cBase64PdfSanitizado,n.uOi)}},styles:[".contenido[_ngcontent-%COMP%]{width:100%;height:70vh;display:block}"]}),i})(),Y=(()=>{class i{constructor(e){this.modalService=e}visualizarPdf(e,o,a,l,t,s){let p=this.modalService.open(M,{centered:!0,backdrop:"static",size:"md",modalDialogClass:"dialog-formulario"});p.componentInstance.cBase64Pdf=e,p.componentInstance.cTitulo=o,p.closed.subscribe(f=>{a&&t&&t(s)})}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(T.FF))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Q=u(6529),b=u(5835);function B(i,d){if(1&i&&(n.TgZ(0,"tr"),n._uU(1,"\n                "),n.TgZ(2,"td"),n._uU(3),n.qZA(),n._uU(4,"\n                "),n.TgZ(5,"td"),n._uU(6),n.qZA(),n._uU(7,"\n                "),n.TgZ(8,"td"),n._uU(9),n.qZA(),n._uU(10,"\n                "),n.TgZ(11,"td"),n._uU(12),n.qZA(),n._uU(13,"\n                "),n.TgZ(14,"td"),n._uU(15),n.qZA(),n._uU(16,"\n                "),n.TgZ(17,"td"),n._uU(18),n.qZA(),n._uU(19,"\n                "),n.TgZ(20,"td"),n._uU(21),n.qZA(),n._uU(22,"\n                "),n.TgZ(23,"td"),n._uU(24),n.qZA(),n._uU(25,"\n                "),n.TgZ(26,"td"),n._uU(27),n.qZA(),n._uU(28,"\n                "),n.TgZ(29,"td",42),n._uU(30),n.ALo(31,"number"),n.qZA(),n._uU(32,"\n                "),n.TgZ(33,"td",42),n._uU(34),n.ALo(35,"number"),n.qZA(),n._uU(36,"\n                "),n.TgZ(37,"td",42),n._uU(38),n.ALo(39,"currency"),n.qZA(),n._uU(40,"\n                "),n.TgZ(41,"td",42),n._uU(42),n.ALo(43,"currency"),n.qZA(),n._uU(44,"\n                "),n.TgZ(45,"td",42),n._uU(46),n.ALo(47,"currency"),n.qZA(),n._uU(48,"\n                "),n.TgZ(49,"td",42),n._uU(50),n.ALo(51,"currency"),n.qZA(),n._uU(52,"\n                "),n.TgZ(53,"td"),n._uU(54),n.qZA(),n._uU(55,"\n              "),n.qZA()),2&i){const e=d.$implicit;n.xp6(3),n.Oqu(e.nVenta),n.xp6(3),n.Oqu(e.cFechaVenta),n.xp6(3),n.Oqu(e.cOrigen),n.xp6(3),n.Oqu(e.cDestino),n.xp6(3),n.Oqu(e.cVendedor),n.xp6(3),n.Oqu(e.cChofer),n.xp6(3),n.Oqu(e.cEquipo),n.xp6(3),n.Oqu(e.cPlaca),n.xp6(3),n.Oqu(e.cArticulo),n.xp6(3),n.Oqu(n.xi3(31,16,e.nCantidadEnviada,"1.2-2")),n.xp6(4),n.Oqu(n.xi3(35,19,e.nCantidadRecibida,"1.2-2")),n.xp6(4),n.Oqu(n.lcZ(39,22,e.nCostoLitro)),n.xp6(4),n.Oqu(n.lcZ(43,24,e.nTotal)),n.xp6(4),n.Oqu(n.lcZ(47,26,e.nAnticipo)),n.xp6(4),n.Oqu(n.lcZ(51,28,e.nTotal-e.nAnticipo)),n.xp6(4),n.Oqu(e.cFormaPago)}}const c=function(i){return{"has-error":i}},K=function(){return{prefix:"",thousands:",",decimal:".",precision:4}};let G=(()=>{class i{constructor(e,o,a,l,t,s,p,f,U,Z,v){this.service=e,this.util=o,this.modalService=a,this.patterns=l,this.serviceEmpresa=t,this.serviceChofer=s,this.serviceArticulo=p,this.serviceFormasPago=f,this.serviceEmpleados=U,this.serviceClientes=Z,this.pdfService=v,this.ventas=[],this.maxDate=new Date,this.nTotalEnviada=0,this.nTotalRecibida=0,this.nTotalGlobal=0}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.form=new r.cw({nVenta:new r.NI({value:"",disabled:!0},[]),dFechaVenta:new r.NI(h().format("YYYY-MM-DD"),[r.kI.required]),cOrigen:new r.NI({value:"",disabled:!0},r.kI.required),nOrigen:new r.NI("",r.kI.required),nDestino:new r.NI("",r.kI.required),cDestino:new r.NI({value:"",disabled:!0},r.kI.required),nVendedor:new r.NI("",r.kI.required),cVendedor:new r.NI({value:"",disabled:!0},r.kI.required),cEquipo:new r.NI("",[r.kI.required]),cPlaca:new r.NI("",[r.kI.required]),cChofer:new r.NI({value:"",disabled:!0},r.kI.required),nChofer:new r.NI("",r.kI.required),nArticulo:new r.NI("",r.kI.required),cArticulo:new r.NI({value:"",disabled:!0},r.kI.required),nFormaPago:new r.NI(""),cFormaPago:new r.NI({value:"",disabled:!0}),nCantidadEnviada:new r.NI("",[r.kI.required]),nCantidadRecibida:new r.NI("",[r.kI.required]),nCostoLitro:new r.NI("",[r.kI.required]),nTotal:new r.NI({value:"",disabled:!0},r.kI.required),nAnticipo:new r.NI("",[]),cObservaciones:new r.NI("",[]),cEncargado:new r.NI("",[r.kI.required])}),e.obtener()})()}get nVenta(){var e,o,a;return(null===(e=this.form.get("nVenta"))||void 0===e?void 0:e.value)&&""!=(null===(o=this.form.get("nVenta"))||void 0===o?void 0:o.value)?null===(a=this.form.get("nVenta"))||void 0===a?void 0:a.value:0}get dFechaVenta(){var e;return null===(e=this.form.get("dFechaVenta"))||void 0===e?void 0:e.value}get nOrigen(){var e,o;return null!==(o=null===(e=this.form.get("nOrigen"))||void 0===e?void 0:e.value)&&void 0!==o?o:0}get nDestino(){var e,o;return null!==(o=null===(e=this.form.get("nDestino"))||void 0===e?void 0:e.value)&&void 0!==o?o:0}get nVendedor(){var e,o;return null!==(o=null===(e=this.form.get("nVendedor"))||void 0===e?void 0:e.value)&&void 0!==o?o:0}get nChofer(){var e;return null===(e=this.form.get("nChofer"))||void 0===e?void 0:e.value}get cEquipo(){var e,o;return null!==(o=null===(e=this.form.get("cEquipo"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}get cPlaca(){var e,o;return null!==(o=null===(e=this.form.get("cPlaca"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}get nArticulo(){var e,o;return null!==(o=null===(e=this.form.get("nArticulo"))||void 0===e?void 0:e.value)&&void 0!==o?o:0}get nCantidadEnviada(){var e,o;return null!==(o=null===(e=this.form.get("nCantidadEnviada"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}get nCantidadRecibida(){var e,o;return null!==(o=null===(e=this.form.get("nCantidadRecibida"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}get nCostoLitro(){var e,o;return null!==(o=null===(e=this.form.get("nCostoLitro"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}get nTotal(){var e,o;return null!==(o=null===(e=this.form.get("nTotal"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}get nAnticipo(){var e,o;return null!==(o=null===(e=this.form.get("nAnticipo"))||void 0===e?void 0:e.value)&&void 0!==o?o:0}get nFormaPago(){var e,o;return null!==(o=null===(e=this.form.get("nFormaPago"))||void 0===e?void 0:e.value)&&void 0!==o?o:-1}get cEncargado(){var e,o;return null!==(o=null===(e=this.form.get("cEncargado"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}get cObservaciones(){var e,o;return null!==(o=null===(e=this.form.get("cObservaciones"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}get cFolioExterno(){var e,o;return null!==(o=null===(e=this.form.get("cFolioExterno"))||void 0===e?void 0:e.value)&&void 0!==o?o:""}calcularTotal(){var e;const o=this.nCantidadEnviada*this.nCostoLitro;return null===(e=this.form.get("nTotal"))||void 0===e||e.setValue(o),o}obtener(){var e=this;return(0,m.Z)(function*(){e.service.obtenerVentas(0).subscribe(o=>{e.ventas=o.data,e.ventas.sort((a,l)=>a.nVenta>l.nVenta?-1:1),e.ventas=e.ventas.slice(0,10),e.obtenerTotales()},o=>{e.util.dialogError("Ocurri\xf3 un error al obtener las ventas.")})})()}guardar(){var e=this;return(0,m.Z)(function*(){e.util.dialogConfirm("\xbfEst\xe1 seguro que desea guardar los datos?").then(o=>{if(o.isConfirmed){if(h(e.dFechaVenta)>h())return void e.util.dialogWarning("La fecha de venta no debe ser mayor a la fecha actual.");if(console.log("anticipo:",e.nAnticipo),console.log("forma:",e.nFormaPago),e.nAnticipo>0&&e.nFormaPago<0)return void e.util.dialogWarning("Debe proporcionar una forma de pago.");if((""==e.nAnticipo.toString()||0==e.nAnticipo)&&""!=e.nFormaPago.toString()&&e.nFormaPago>=0)return void e.util.dialogWarning("Debe proporcionar un anticipo.");const t={nVenta:e.nVenta,cFolioExterno:"",dFechaVenta:e.dFechaVenta,nOrigen:e.nOrigen,nDestino:e.nDestino,nVendedor:e.nVendedor,nChofer:e.nChofer,cEquipo:e.cEquipo,cPlaca:e.cPlaca,nArticulo:e.nArticulo,nCantidadEnviada:e.nCantidadEnviada,nCantidadRecibida:e.nCantidadRecibida,nCostoLitro:e.nCostoLitro,nAnticipo:e.nAnticipo,nFormaPago:e.nFormaPago,cEncargado:e.cEncargado,cObservaciones:e.cObservaciones,nTotal:e.calcularTotal()};e.service.guardarVenta(t).subscribe(function(){var s=(0,m.Z)(function*(p){""!==p.error?e.util.dialogError(p.error.error.type):(e.limpiar(),e.util.dialogSuccess("Venta guardada correctamente."),e.obtener())});return function(p){return s.apply(this,arguments)}}(),s=>{e.util.dialogError(s.error.error?s.error.error:"Error al guardar la venta.")})}})})()}limpiarCampo(e){console.log("value:",e.value),""===e.value&&e.setValue(null)}openModalEmpresas(e){var o=this;return(0,m.Z)(function*(){const a=o.modalService.open(_.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});a.componentInstance.titulo="B\xfasqueda de empresas",a.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nEmpresa"},{cNombre:"Empresa",cPropiedad:"cNombreEmpresa"}];const t=(yield o.serviceEmpresa.obtenerEmpresas(0).toPromise()).data.map(s=>({nEmpresa:s.nEmpresa,cNombreEmpresa:s.cNombreEmpresa}));a.componentInstance.data=t,a.componentInstance.dataTemp=t,a.closed.subscribe(s=>{console.log("value:",s),s&&s.id&&(1===e?o.asignarOrigen(s):o.asignarDestino(s),a.close())})})()}asignarOrigen(e){this.form.controls.cOrigen.setValue(e.cDescripcion),this.form.controls.nOrigen.setValue(e.id)}asignarDestino(e){this.form.controls.cDestino.setValue(e.cDescripcion),this.form.controls.nDestino.setValue(e.id)}openModalChoferes(){var e=this;return(0,m.Z)(function*(){const o=e.modalService.open(_.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de choferes",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nChofer"},{cNombre:"Chofer",cPropiedad:"cDescripcion"}];const l=(yield e.serviceChofer.obtenerChoferes(0,-1).toPromise()).data.map(t=>({nChofer:t.nChofer,cDescripcion:t.cNombreChofer}));o.componentInstance.data=l,o.componentInstance.dataTemp=l,o.closed.subscribe(t=>{console.log("value:",t),t&&t.id&&(e.asignarChoferes(t),o.close())})})()}asignarChoferes(e){this.form.controls.cChofer.setValue(e.cDescripcion),this.form.controls.nChofer.setValue(e.id)}openModalArticulos(){var e=this;return(0,m.Z)(function*(){const o=e.modalService.open(_.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de art\xedculos",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nArticulo"},{cNombre:"Art\xedculo",cPropiedad:"cDescripcion"}];const l=(yield e.serviceArticulo.obtenerArticulos(0,-1).toPromise()).data.map(t=>({nArticulo:t.nArticulo,cDescripcion:t.cDescripcionLarga}));o.componentInstance.data=l,o.componentInstance.dataTemp=l,o.closed.subscribe(t=>{console.log("value:",t),t&&t.id&&(e.asignarArticulo(t),o.close())})})()}asignarArticulo(e){this.form.controls.cArticulo.setValue(e.cDescripcion),this.form.controls.nArticulo.setValue(e.id)}openModalVendedores(){var e=this;return(0,m.Z)(function*(){const o=e.modalService.open(_.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de vendedores",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nEmpleado"},{cNombre:"Vendedor",cPropiedad:"cDescripcion"}];const a=yield e.serviceEmpleados.obtenerEmpleados(0).toPromise();console.log(a);const l=a.data.map(t=>({nEmpleado:t.nEmpleado,cDescripcion:t.cNombreEmpleado}));o.componentInstance.data=l,o.componentInstance.dataTemp=l,o.closed.subscribe(t=>{console.log("value:",t),t&&t.id&&(e.asignarEmpleado(t),o.close())})})()}asignarEmpleado(e){this.form.controls.cVendedor.setValue(e.cDescripcion),this.form.controls.nVendedor.setValue(e.id)}openModalClientes(){var e=this;return(0,m.Z)(function*(){const o=e.modalService.open(_.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de clientes",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nCliente"},{cNombre:"Cliente",cPropiedad:"cDescripcion"}];const l=(yield e.serviceClientes.obtenerClientes(0).toPromise()).data.map(t=>({nCliente:t.nCliente,cDescripcion:t.cNombreCliente}));o.componentInstance.data=l,o.componentInstance.dataTemp=l,o.closed.subscribe(t=>{console.log("value:",t),t&&t.id&&(e.asignarCliente(t),o.close())})})()}asignarCliente(e){this.form.controls.cDestino.setValue(e.cDescripcion),this.form.controls.nDestino.setValue(e.id)}openModalFormasPago(){var e=this;return(0,m.Z)(function*(){const o=e.modalService.open(_.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de formas de pago",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nFormaPago"},{cNombre:"Forma de pago",cPropiedad:"cDescripcion"}];const l=(yield e.serviceFormasPago.obtenerFormasPago().toPromise()).data.map(t=>({nFormaPago:t.nFormaPago,cDescripcion:t.cDescripcion}));o.componentInstance.data=l,o.componentInstance.dataTemp=l,o.closed.subscribe(t=>{console.log("value:",t),t&&t.id>=0&&(e.asignarFormaPago(t),o.close())})})()}asignarFormaPago(e){this.form.controls.cFormaPago.setValue(e.cDescripcion),this.form.controls.nFormaPago.setValue(e.id)}limpiar(){this.form.controls.nVenta.setValue(""),this.form.controls.dFechaVenta.setValue(""),this.form.controls.nOrigen.setValue(""),this.form.controls.cOrigen.setValue(""),this.form.controls.nDestino.setValue(""),this.form.controls.cDestino.setValue(""),this.form.controls.nVendedor.setValue(""),this.form.controls.cVendedor.setValue(""),this.form.controls.cEncargado.setValue(""),this.form.controls.nChofer.setValue(""),this.form.controls.cChofer.setValue(""),this.form.controls.cEquipo.setValue(""),this.form.controls.cPlaca.setValue(""),this.form.controls.nArticulo.setValue(""),this.form.controls.cArticulo.setValue(""),this.form.controls.cObservaciones.setValue(""),this.form.controls.nCantidadEnviada.setValue(""),this.form.controls.nCantidadRecibida.setValue(""),this.form.controls.nCostoLitro.setValue(""),this.form.controls.nTotal.setValue(""),this.form.controls.nAnticipo.setValue(""),this.form.controls.nFormaPago.setValue(""),this.form.controls.cFormaPago.setValue("")}imprimir(){var e=this;return(0,m.Z)(function*(){yield e.service.obtenerTicketVenta().subscribe(function(){var o=(0,m.Z)(function*(a){console.log(a.data.pdf),e.pdfService.visualizarPdf(a.data.pdf,"Cotizaci\xf3n",!0,"venta-input-articulo",null,null)});return function(a){return o.apply(this,arguments)}}(),o=>{e.util.dialogError(o.error.error?o.error.error:"Error al generar ticket de venta.")})})()}obtenerTotales(){this.nTotalEnviada=this.ventas.reduce((e,o)=>e+Number(o.nCantidadEnviada),0),this.nTotalRecibida=this.ventas.reduce((e,o)=>e+Number(o.nCantidadRecibida),0),this.nTotalGlobal=this.ventas.reduce((e,o)=>e+Number(o.nTotal),0)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(N.v),n.Y36(F.F),n.Y36(T.FF),n.Y36(I.e),n.Y36(k.P),n.Y36(O.b),n.Y36(x.N),n.Y36(L),n.Y36(S.J),n.Y36(z.$),n.Y36(Y))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-product-delivery-ticket"]],decls:394,vars:64,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-6"],[1,"row","mb-3"],[1,"form-label","col-sm-3","col-form-label","text-end"],[1,"col-sm-9"],["type","text","placeholder","","formControlName","nVenta",1,"form-control","form-control-sm"],["type","date","placeholder","","formControlName","dFechaVenta",1,"form-control","form-control-sm",3,"max","ngClass"],[1,"input-group","mb-1"],["type","text","formControlName","cOrigen",1,"form-control","form-control-sm",3,"ngClass"],[1,"input-group-text","border-start-0","bg-white"],[1,"feather","icon-search",3,"click"],["type","text","formControlName","cVendedor",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","cChofer",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","cEquipo",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","","formControlName","cPlaca",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","cDestino",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","","formControlName","cEncargado",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mt-4"],["type","text","formControlName","cArticulo",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","","formControlName","nCantidadEnviada","appDecimales4","","onfocus","this.select()",1,"form-control","form-control-sm","text-end",3,"ngClass","blur"],["type","text","placeholder","","formControlName","nCantidadRecibida","appDecimales4","","onfocus","this.select()",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","text","placeholder","","formControlName","nCostoLitro","appDecimales4","","onfocus","this.select()",1,"form-control","form-control-sm","text-end",3,"ngClass","blur"],["type","text","placeholder","","formControlName","nTotal","currencyMask","",1,"form-control","form-control-sm",3,"options"],["type","text","placeholder","","formControlName","nAnticipo","appDecimales4","","onfocus","this.select()",1,"form-control","form-control-sm","text-end",3,"ngClass"],["type","text","formControlName","cFormaPago",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","cObservaciones",1,"form-control","form-control-sm",3,"rows","maxLength"],[1,"d-flex","justify-content-end","my-4"],["type","button",1,"btn","btn-warning","mx-2",3,"click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"],[1,"table-responsive","my-5"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"text-end"]],template:function(e,o){if(1&e&&(n._uU(0,"\n"),n.TgZ(1,"nav",0),n._uU(2,"\n  "),n.TgZ(3,"ol",1),n._uU(4,"\n    "),n.TgZ(5,"li",2)(6,"a",3),n._uU(7,"Venta"),n.qZA()(),n._uU(8,"\n    "),n.TgZ(9,"li",4),n._uU(10,"Ticket de Entrega de Producto"),n.qZA(),n._uU(11,"\n  "),n.qZA(),n._uU(12,"\n"),n.qZA(),n._uU(13,"\n\n"),n._uU(14,"\n"),n.TgZ(15,"div",5),n._uU(16,"\n  "),n.TgZ(17,"div",6),n._uU(18,"\n    "),n.TgZ(19,"div",7),n._uU(20,"\n      "),n.TgZ(21,"div",8),n._uU(22,"\n        "),n.TgZ(23,"h6",9),n._uU(24,"Ticket de Entrega de Producto"),n.qZA(),n._uU(25,"\n        "),n.TgZ(26,"form",10),n._uU(27,"\n\n          "),n.TgZ(28,"div",5),n._uU(29,"\n            "),n.TgZ(30,"div",11),n._uU(31,"\n              "),n.TgZ(32,"div",12),n._uU(33,"\n                "),n.TgZ(34,"label",13),n._uU(35,"Folio"),n.qZA(),n._uU(36,"\n                "),n.TgZ(37,"div",14),n._uU(38,"\n                  "),n._UZ(39,"input",15),n._uU(40,"\n                "),n.qZA(),n._uU(41,"\n              "),n.qZA(),n._uU(42,"\n            "),n.qZA(),n._uU(43,"\n\n            "),n._uU(44,"\n\n            "),n.TgZ(45,"div",11),n._uU(46,"\n              "),n.TgZ(47,"div",12),n._uU(48,"\n                "),n.TgZ(49,"label",13),n._uU(50,"Fecha"),n.qZA(),n._uU(51,"\n                "),n.TgZ(52,"div",14),n._uU(53,"\n                  "),n._UZ(54,"input",16),n.ALo(55,"date"),n._uU(56,"\n                "),n.qZA(),n._uU(57,"\n              "),n.qZA(),n._uU(58,"\n            "),n.qZA(),n._uU(59,"\n          "),n.qZA(),n._uU(60,"\n\n          "),n.TgZ(61,"div",5),n._uU(62,"\n            "),n.TgZ(63,"div",11),n._uU(64,"\n\n              "),n.TgZ(65,"div",5),n._uU(66,"\n\n                "),n.TgZ(67,"label",13),n._uU(68,"Origen"),n.qZA(),n._uU(69,"\n                "),n.TgZ(70,"div",14),n._uU(71,"\n                  "),n.TgZ(72,"div",17),n._uU(73,"\n                    "),n._UZ(74,"input",18),n._uU(75,"\n                    "),n.TgZ(76,"span",19),n._uU(77,"\n                      "),n.TgZ(78,"i",20),n.NdJ("click",function(){return o.openModalEmpresas(1)}),n.qZA(),n._uU(79,"\n                    "),n.qZA(),n._uU(80,"\n                  "),n.qZA(),n._uU(81,"\n                "),n.qZA(),n._uU(82,"\n                "),n.TgZ(83,"label",13),n._uU(84,"Vendedor"),n.qZA(),n._uU(85,"\n                "),n.TgZ(86,"div",14),n._uU(87,"\n                  "),n.TgZ(88,"div",17),n._uU(89,"\n                    "),n._UZ(90,"input",21),n._uU(91,"\n                    "),n.TgZ(92,"span",19),n._uU(93,"\n                      "),n.TgZ(94,"i",20),n.NdJ("click",function(){return o.openModalVendedores()}),n.qZA(),n._uU(95,"\n                    "),n.qZA(),n._uU(96,"\n                  "),n.qZA(),n._uU(97,"\n                "),n.qZA(),n._uU(98,"\n                "),n.TgZ(99,"label",13),n._uU(100,"Chofer"),n.qZA(),n._uU(101,"\n                "),n.TgZ(102,"div",14),n._uU(103,"\n                  "),n.TgZ(104,"div",17),n._uU(105,"\n                    "),n._UZ(106,"input",22),n._uU(107,"\n                    "),n.TgZ(108,"span",19),n._uU(109,"\n                      "),n.TgZ(110,"i",20),n.NdJ("click",function(){return o.openModalChoferes()}),n.qZA(),n._uU(111,"\n                    "),n.qZA(),n._uU(112,"\n                  "),n.qZA(),n._uU(113,"\n                "),n.qZA(),n._uU(114,"\n                "),n.TgZ(115,"label",13),n._uU(116,"Equipo"),n.qZA(),n._uU(117,"\n                "),n.TgZ(118,"div",14),n._uU(119,"\n                  "),n.TgZ(120,"div",17),n._uU(121,"\n                    "),n._UZ(122,"input",23),n._uU(123,"\n                    "),n._uU(124,"\n                  "),n.qZA(),n._uU(125,"\n                "),n.qZA(),n._uU(126,"\n\n\n                "),n.TgZ(127,"label",13),n._uU(128,"Placa"),n.qZA(),n._uU(129,"\n                "),n.TgZ(130,"div",14),n._uU(131,"\n                  "),n._UZ(132,"input",24),n._uU(133,"\n                "),n.qZA(),n._uU(134,"\n              "),n.qZA(),n._uU(135,"\n            "),n.qZA(),n._uU(136,"\n\n            "),n.TgZ(137,"div",11),n._uU(138,"\n              "),n.TgZ(139,"div",5),n._uU(140,"\n\n                "),n.TgZ(141,"label",13),n._uU(142,"Destino"),n.qZA(),n._uU(143,"\n                "),n.TgZ(144,"div",14),n._uU(145,"\n                  "),n.TgZ(146,"div",17),n._uU(147,"\n                    "),n._UZ(148,"input",25),n._uU(149,"\n                    "),n.TgZ(150,"span",19),n._uU(151,"\n                      "),n.TgZ(152,"i",20),n.NdJ("click",function(){return o.openModalClientes()}),n.qZA(),n._uU(153,"\n                    "),n.qZA(),n._uU(154,"\n                  "),n.qZA(),n._uU(155,"\n                "),n.qZA(),n._uU(156,"\n\n                "),n.TgZ(157,"label",13),n._uU(158,"Encargado"),n.qZA(),n._uU(159,"\n                "),n.TgZ(160,"div",14),n._uU(161,"\n                  "),n._UZ(162,"input",26),n._uU(163,"\n                "),n.qZA(),n._uU(164,"\n\n              "),n.qZA(),n._uU(165,"\n            "),n.qZA(),n._uU(166,"\n          "),n.qZA(),n._uU(167,"\n\n          "),n.TgZ(168,"div",27),n._uU(169,"\n            "),n.TgZ(170,"div",11),n._uU(171,"\n\n              "),n.TgZ(172,"div",5),n._uU(173,"\n\n                "),n.TgZ(174,"label",13),n._uU(175,"Producto"),n.qZA(),n._uU(176,"\n                "),n.TgZ(177,"div",14),n._uU(178,"\n                  "),n.TgZ(179,"div",17),n._uU(180,"\n                    "),n._UZ(181,"input",28),n._uU(182,"\n                    "),n.TgZ(183,"span",19),n._uU(184,"\n                      "),n.TgZ(185,"i",20),n.NdJ("click",function(){return o.openModalArticulos()}),n.qZA(),n._uU(186,"\n                    "),n.qZA(),n._uU(187,"\n                  "),n.qZA(),n._uU(188,"\n                "),n.qZA(),n._uU(189,"\n\n                "),n.TgZ(190,"label",13),n._uU(191,"Cantidad Env (lts)"),n.qZA(),n._uU(192,"\n                "),n.TgZ(193,"div",14),n._uU(194,"\n                  "),n.TgZ(195,"input",29),n.NdJ("blur",function(){let l,t;return o.calcularTotal(),null==(l=o.form.get("nCantidadRecibida"))?null:l.setValue(null==(t=o.form.get("nCantidadEnviada"))?null:t.value)}),n.qZA(),n._uU(196,"\n                "),n.qZA(),n._uU(197,"\n\n                "),n.TgZ(198,"label",13),n._uU(199,"Cantidad Rec (lts)"),n.qZA(),n._uU(200,"\n                "),n.TgZ(201,"div",14),n._uU(202,"\n                  "),n._UZ(203,"input",30),n._uU(204,"\n                "),n.qZA(),n._uU(205,"\n\n                "),n.TgZ(206,"label",13),n._uU(207,"Costo litro"),n.qZA(),n._uU(208,"\n                "),n.TgZ(209,"div",14),n._uU(210,"\n                  "),n.TgZ(211,"input",31),n.NdJ("blur",function(){return o.calcularTotal()}),n.qZA(),n._uU(212,"\n                "),n.qZA(),n._uU(213,"\n\n                "),n.TgZ(214,"label",13),n._uU(215,"Total a pagar"),n.qZA(),n._uU(216,"\n                "),n.TgZ(217,"div",14),n._uU(218,"\n                  "),n._UZ(219,"input",32),n._uU(220,"\n                "),n.qZA(),n._uU(221,"\n\n                "),n.TgZ(222,"label",13),n._uU(223,"Anticipo"),n.qZA(),n._uU(224,"\n                "),n.TgZ(225,"div",14),n._uU(226,"\n                  "),n._UZ(227,"input",33),n._uU(228,"\n                "),n.qZA(),n._uU(229,"\n\n                "),n.TgZ(230,"label",13),n._uU(231,"Forma de pago"),n.qZA(),n._uU(232,"\n                "),n.TgZ(233,"div",14),n._uU(234,"\n                  "),n.TgZ(235,"div",17),n._uU(236,"\n                    "),n._UZ(237,"input",34),n._uU(238,"\n                    "),n.TgZ(239,"span",19),n._uU(240,"\n                      "),n.TgZ(241,"i",20),n.NdJ("click",function(){return o.openModalFormasPago()}),n.qZA(),n._uU(242,"\n                    "),n.qZA(),n._uU(243,"\n                  "),n.qZA(),n._uU(244,"\n                "),n.qZA(),n._uU(245,"\n\n              "),n.qZA(),n._uU(246,"\n            "),n.qZA(),n._uU(247,"\n\n            "),n.TgZ(248,"div",11),n._uU(249,"\n              "),n.TgZ(250,"div",5),n._uU(251,"\n                "),n.TgZ(252,"label",13),n._uU(253,"Observaciones"),n.qZA(),n._uU(254,"\n                "),n.TgZ(255,"div",14),n._uU(256,"\n                  "),n.TgZ(257,"textarea",35),n._uU(258,"\n                  "),n.qZA(),n._uU(259,"\n                "),n.qZA(),n._uU(260,"\n\n                "),n.TgZ(261,"div",36),n._uU(262,"\n                  "),n.TgZ(263,"button",37),n.NdJ("click",function(){return o.limpiar()}),n._uU(264,"Limpiar"),n.qZA(),n._uU(265,"\n                  "),n._uU(266,"\n                  "),n._uU(267,"\n                  "),n.TgZ(268,"button",38),n.NdJ("click",function(){return o.guardar()}),n._uU(269,"Guardar"),n.qZA(),n._uU(270,"\n                "),n.qZA(),n._uU(271,"\n\n              "),n.qZA(),n._uU(272,"\n            "),n.qZA(),n._uU(273,"\n          "),n.qZA(),n._uU(274,"\n\n        "),n.qZA(),n._uU(275,"\n\n\n        "),n.TgZ(276,"div",39),n._uU(277,"\n          "),n.TgZ(278,"table",40),n._uU(279,"\n            "),n.TgZ(280,"thead"),n._uU(281,"\n              "),n.TgZ(282,"tr"),n._uU(283,"\n                "),n.TgZ(284,"th"),n._uU(285,"Folio"),n.qZA(),n._uU(286,"\n                "),n.TgZ(287,"th"),n._uU(288,"Fecha"),n.qZA(),n._uU(289,"\n                "),n.TgZ(290,"th"),n._uU(291,"Origen"),n.qZA(),n._uU(292,"\n                "),n.TgZ(293,"th"),n._uU(294,"Destino"),n.qZA(),n._uU(295,"\n                "),n.TgZ(296,"th"),n._uU(297,"Vendedor"),n.qZA(),n._uU(298,"\n                "),n.TgZ(299,"th"),n._uU(300,"Chofer"),n.qZA(),n._uU(301,"\n                "),n.TgZ(302,"th"),n._uU(303,"Equipo"),n.qZA(),n._uU(304,"\n                "),n.TgZ(305,"th"),n._uU(306,"Placa"),n.qZA(),n._uU(307,"\n                "),n.TgZ(308,"th"),n._uU(309,"Producto"),n.qZA(),n._uU(310,"\n                "),n.TgZ(311,"th"),n._uU(312,"Cant. enviada"),n.qZA(),n._uU(313,"\n                "),n.TgZ(314,"th"),n._uU(315,"Cant. recibida"),n.qZA(),n._uU(316,"\n                "),n.TgZ(317,"th"),n._uU(318,"Costo litro"),n.qZA(),n._uU(319,"\n                "),n.TgZ(320,"th"),n._uU(321,"Valor"),n.qZA(),n._uU(322,"\n                "),n.TgZ(323,"th"),n._uU(324,"Anticipo"),n.qZA(),n._uU(325,"\n                "),n.TgZ(326,"th"),n._uU(327,"Saldo"),n.qZA(),n._uU(328,"\n                "),n.TgZ(329,"th"),n._uU(330,"Forma de pago"),n.qZA(),n._uU(331,"\n              "),n.qZA(),n._uU(332,"\n            "),n.qZA(),n._uU(333,"\n            "),n.TgZ(334,"tbody"),n._uU(335,"\n              "),n.YNc(336,B,56,30,"tr",41),n._uU(337,"\n\n            "),n.qZA(),n._uU(338,"\n            "),n.TgZ(339,"tfoot"),n._uU(340,"\n              "),n.TgZ(341,"tr"),n._uU(342,"\n                "),n._UZ(343,"td"),n._uU(344,"\n                "),n._UZ(345,"td"),n._uU(346,"\n                "),n._UZ(347,"td"),n._uU(348,"\n                "),n._UZ(349,"td"),n._uU(350,"\n                "),n._UZ(351,"td"),n._uU(352,"\n                "),n._UZ(353,"td"),n._uU(354,"\n                "),n._UZ(355,"td"),n._uU(356,"\n                "),n._UZ(357,"td"),n._uU(358,"\n                "),n.TgZ(359,"td")(360,"b"),n._uU(361,"TOTALES :"),n.qZA()(),n._uU(362,"\n                "),n.TgZ(363,"td",42)(364,"b"),n._uU(365),n.ALo(366,"number"),n.qZA()(),n._uU(367,"\n                "),n.TgZ(368,"td",42)(369,"b"),n._uU(370),n.ALo(371,"number"),n.qZA()(),n._uU(372,"\n                "),n._UZ(373,"td",42),n._uU(374,"\n                "),n.TgZ(375,"td",42)(376,"b"),n._uU(377),n.ALo(378,"currency"),n.qZA()(),n._uU(379,"\n                "),n._UZ(380,"td",42),n._uU(381,"\n                "),n._UZ(382,"td",42),n._uU(383,"\n                "),n._UZ(384,"td"),n._uU(385,"\n              "),n.qZA(),n._uU(386,"\n            "),n.qZA(),n._uU(387,"\n          "),n.qZA(),n._uU(388,"\n        "),n.qZA(),n._uU(389,"\n\n       \n      "),n.qZA(),n._uU(390,"\n    "),n.qZA(),n._uU(391,"\n  "),n.qZA(),n._uU(392,"\n"),n.qZA(),n._uU(393,"\n")),2&e){let a,l,t,s,p,f,U,Z,v,C,P,V,y,E;n.xp6(26),n.Q6J("formGroup",o.form),n.xp6(28),n.s9C("max",n.xi3(55,24,o.maxDate,"yyyy-MM-dd")),n.Q6J("ngClass",n.VKq(35,c,null==(a=o.form.get("dFechaVenta"))?null:a.hasError("required"))),n.xp6(20),n.Q6J("ngClass",n.VKq(37,c,null==(l=o.form.get("nOrigen"))?null:l.hasError("required"))),n.xp6(16),n.Q6J("ngClass",n.VKq(39,c,null==(t=o.form.get("nVendedor"))?null:t.hasError("required"))),n.xp6(16),n.Q6J("ngClass",n.VKq(41,c,null==(s=o.form.get("nChofer"))?null:s.hasError("required"))),n.xp6(16),n.Q6J("ngClass",n.VKq(43,c,null==(p=o.form.get("cEquipo"))?null:p.hasError("required"))),n.xp6(10),n.Q6J("ngClass",n.VKq(45,c,null==(f=o.form.get("cPlaca"))?null:f.hasError("required"))),n.xp6(16),n.Q6J("ngClass",n.VKq(47,c,null==(U=o.form.get("nDestino"))?null:U.hasError("required"))),n.xp6(14),n.Q6J("ngClass",n.VKq(49,c,null==(Z=o.form.get("cEncargado"))?null:Z.hasError("required"))),n.xp6(19),n.Q6J("ngClass",n.VKq(51,c,null==(v=o.form.get("nArticulo"))?null:v.hasError("required"))),n.xp6(14),n.Q6J("ngClass",n.VKq(53,c,null==(C=o.form.get("nCantidadEnviada"))?null:C.hasError("required"))),n.xp6(8),n.Q6J("ngClass",n.VKq(55,c,null==(P=o.form.get("nCantidadRecibida"))?null:P.hasError("required"))),n.xp6(8),n.Q6J("ngClass",n.VKq(57,c,null==(V=o.form.get("nCostoLitro"))?null:V.hasError("required"))),n.xp6(8),n.Q6J("options",n.DdM(59,K)),n.xp6(8),n.Q6J("ngClass",n.VKq(60,c,null==(y=o.form.get("nAnticipo"))?null:y.hasError("required"))),n.xp6(10),n.Q6J("ngClass",n.VKq(62,c,null==(E=o.form.get("nFormaPago"))?null:E.hasError("required"))),n.xp6(20),n.Q6J("rows",5)("maxLength",1e3),n.xp6(11),n.Q6J("disabled",o.form.invalid),n.xp6(68),n.Q6J("ngForOf",o.ventas),n.xp6(29),n.Oqu(n.xi3(366,27,o.nTotalEnviada,"1.2-2")),n.xp6(5),n.Oqu(n.xi3(371,30,o.nTotalRecibida,"1.2-2")),n.xp6(7),n.Oqu(n.lcZ(378,33,o.nTotalGlobal))}},directives:[A.yS,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,g.mk,Q.w,b.g1,g.sg],pipes:[g.uU,g.JJ,g.H9],styles:[".table_wrapper[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}"]}),i})();var j=u(6282);const H=[{path:"",component:G}];let W=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[g.ez,A.Bz.forChild(H),D.m,b.zh,j.o]]}),i})()}}]);