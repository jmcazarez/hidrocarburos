"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[645],{645:(Ne,H,g)=>{g.r(H),g.d(H,{NationalsModule:()=>Ve});var A=g(9808),M=g(9560),J=g(5886),b=g(5861),e=g(4893),N=g(257),w=g(9378),i=g(2382),U=g(6166);const W=function(){return{prop:"dFechaCompra",dir:"desc"}},X=function(n){return[n]};let ee=(()=>{class n{constructor(t,o,r){this.activeModal=t,this.modalService=o,this.service=r,this.data=[],this.dataTemp=[],this.valueBuscador=""}ngOnInit(){console.log("ngOnInit"),this.service.obtenerCompras(0).subscribe(t=>{this.data=t.data,console.log(this.data),this.dataTemp=[...this.data]},t=>{})}ngAfterViewChecked(){window.dispatchEvent(new Event("resize"))}close(t=this){t.activeModal.close({})}filterDatatable(t){if(this.data=this.data,this.data=this.dataTemp,""===t.target.value)this.data=this.dataTemp;else{const o=t.target.value.toLowerCase(),r=this.data.filter(s=>!(-1===s.nCompra.toString().toLowerCase().indexOf(o)&&o&&-1===s.cEmpresa.toLowerCase().indexOf(o)&&o&&-1===s.cTipoCompraLarga.toLowerCase().indexOf(o)&&o&&-1===s.cArticulo.toLowerCase().indexOf(o)&&o));this.data=r}}onClick(t){"click"==t.type&&(this.selectedRow&&this.selectedRow.nCompra==t.row.nCompra?this.activeModal.close({id:this.selectedRow.nCompra}):this.selectedRow=t.row)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.Kz),e.Y36(N.FF),e.Y36(w.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-busqueda-compra"]],decls:14,vars:14,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["type","text","matInput","","placeholder","Buscar compra ...",3,"ngModel","keyup","ngModelChange"],[1,"material","shadow-none",3,"rows","loadingIndicator","columnMode","headerHeight","footerHeight","rowHeight","reorderable","limit","scrollbarH","sorts","activate"],["name","Folio","prop","nCompra"],["name","Tipo","prop","cTipoCompraLarga"],["name","Empresa","prop","cEmpresa"],["name","Producto","prop","cArticulo"],["name","Fecha","prop","cFechaCompra"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"B\xfasqueda de compra"),e.qZA()(),e.TgZ(3,"div",2)(4,"input",3),e.NdJ("keyup",function(s){return o.filterDatatable(s)})("ngModelChange",function(s){return o.valueBuscador=s}),e.qZA(),e.TgZ(5,"ngx-datatable",4),e.NdJ("activate",function(s){return o.onClick(s)}),e._UZ(6,"ngx-datatable-column",5)(7,"ngx-datatable-column",6)(8,"ngx-datatable-column",7)(9,"ngx-datatable-column",8)(10,"ngx-datatable-column",9),e.qZA()(),e.TgZ(11,"div",10)(12,"button",11),e.NdJ("click",function(){return o.close()}),e._uU(13," Cerrar "),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngModel",o.valueBuscador),e.xp6(1),e.Q6J("rows",o.data)("loadingIndicator",o.loadingIndicator)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("reorderable",o.reorderable)("limit",10)("scrollbarH",!0)("sorts",e.VKq(12,X,e.DdM(11,W))))},directives:[i.Fj,i.JJ,i.On,U.nE,U.UC],styles:[""]}),n})();var V=g(2217),$=g(6529);let te=(()=>{class n{constructor(t,o,r){this.activeModal=t,this.modalService=o,this.service=r,this.data=[],this.dataTemp=[],this.valueBuscador=""}ngOnInit(){console.log("ngOnInit"),this.service.obtenerFlete(0).subscribe(t=>{this.data=t.data,this.dataTemp=[...this.data]},t=>{})}ngAfterViewChecked(){window.dispatchEvent(new Event("resize"))}close(t=this){t.activeModal.close({})}filterDatatable(t){if(this.data=this.data,""===t.target.value)this.data=this.dataTemp;else{const o=t.target.value.toLowerCase(),r=this.data.filter(s=>-1!==s.cOrigen.toString().toLowerCase().indexOf(o)||!o||-1!==s.cDestino.toLowerCase().indexOf(o)||!o);this.data=r}}onClick(t){"click"==t.type&&(this.selectedRow&&this.selectedRow.nRuta==t.row.nRuta?this.activeModal.close({id:this.selectedRow.nRuta}):this.selectedRow=t.row)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.Kz),e.Y36(N.FF),e.Y36(w.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-busqueda-flete"]],decls:13,vars:10,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["type","text","matInput","","placeholder","Buscar compra ...",3,"ngModel","keyup","ngModelChange"],[1,"material","shadow-none",3,"rows","loadingIndicator","columnMode","headerHeight","footerHeight","rowHeight","reorderable","limit","scrollbarH","activate"],["name","Origen","prop","cOrigen"],["name","Destino","prop","cDestino"],["name","Kilometraje","prop","nKilometraje"],["name","Precio $","appDecimales4","","maxlength","15","prop","nPrecio"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"B\xfasqueda de flete"),e.qZA()(),e.TgZ(3,"div",2)(4,"input",3),e.NdJ("keyup",function(s){return o.filterDatatable(s)})("ngModelChange",function(s){return o.valueBuscador=s}),e.qZA(),e.TgZ(5,"ngx-datatable",4),e.NdJ("activate",function(s){return o.onClick(s)}),e._UZ(6,"ngx-datatable-column",5)(7,"ngx-datatable-column",6)(8,"ngx-datatable-column",7)(9,"ngx-datatable-column",8),e.qZA()(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){return o.close()}),e._uU(12," Cerrar "),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngModel",o.valueBuscador),e.xp6(1),e.Q6J("rows",o.data)("loadingIndicator",o.loadingIndicator)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("reorderable",o.reorderable)("limit",10)("scrollbarH",!0))},directives:[i.Fj,i.JJ,i.On,U.nE,U.UC,$.w],styles:[""]}),n})();var E=g(1764),oe=g(1969),re=g(9238),ae=g(5382),se=g(7881),ne=g(3723),ie=g(5845),le=g(480),ce=g(2111);const B=new e.OlP("ngx-mask config"),K=new e.OlP("new ngx-mask config"),Q=new e.OlP("initial ngx-mask config"),ue={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new e.vpe,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}};let j=(()=>{class n{constructor(t){this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(o,r,s,l)=>{var c,h;let C=[],a="";if(Array.isArray(s)){const T=new RegExp(s.map(v=>"[\\^$.|?*+()".indexOf(v)>=0?`\\${v}`:v).join("|"));C=o.split(T),a=null!==(h=null===(c=o.match(T))||void 0===c?void 0:c[0])&&void 0!==h?h:""}else C=o.split(s),a=s;const u=C.length>1?`${a}${C[1]}`:"";let f=C[0];const k=this.separatorLimit.replace(/\s/g,"");k&&+k&&(f="-"===f[0]?`-${f.slice(1,f.length).slice(0,k.length)}`:f.slice(0,k.length));const x=/(\d+)(\d{3})/;for(;r&&x.test(f);)f=f.replace(x,"$1"+r+"$2");return void 0===l?f+u:0===l?f:f+u.substr(0,l+1)},this.percentage=o=>Number(o)>=0&&Number(o)<=100,this.getPrecision=o=>{const r=o.split(".");return r.length>1?Number(r[r.length-1]):1/0},this.checkAndRemoveSuffix=o=>{var r,s,l;for(let c=(null===(r=this.suffix)||void 0===r?void 0:r.length)-1;c>=0;c--){const h=this.suffix.substr(c,null===(s=this.suffix)||void 0===s?void 0:s.length);if(o.includes(h)&&(c-1<0||!o.includes(this.suffix.substr(c-1,null===(l=this.suffix)||void 0===l?void 0:l.length))))return o.replace(h,"")}return o},this.checkInputPrecision=(o,r,s)=>{if(r<1/0){if(Array.isArray(s)){const h=s.find(C=>C!==this.thousandSeparator);s=h||s[0]}const l=new RegExp(this._charToRegExpExpression(s)+`\\d{${r}}.*$`),c=o.match(l);c&&c[0].length-1>r&&(o=o.substring(0,o.length-(c[0].length-1-r))),0===r&&this._compareOrIncludes(o[o.length-1],s,this.thousandSeparator)&&(o=o.substring(0,o.length-1))}return o},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(t,o){const[r,s]=o;return this.customPattern=s,this.applyMask(t,r)}applyMask(t,o,r=0,s=!1,l=!1,c=(()=>{})){var h,C;if(!o||"string"!=typeof t)return"";let a=0,u="",f=!1,k=!1,x=1,T=!1;t.slice(0,this.prefix.length)===this.prefix&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&(null==t?void 0:t.length)>0&&(t=this.checkAndRemoveSuffix(t));const v=t.toString().split("");"IP"===o&&(this.ipError=v.filter(_=>"."===_).length<3&&v.length<7,o="099.099.099.099");const S=[];for(let _=0;_<t.length;_++)(null===(h=t[_])||void 0===h?void 0:h.match("\\d"))&&S.push(t[_]);if("CPF_CNPJ"===o&&(this.cpfCnpjError=11!==S.length&&14!==S.length,o=S.length>11?"00.000.000/0000-00":"000.000.000-00"),o.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){t=this._stripToDecimal(t);const _=this.getPrecision(o);t=this.checkInputPrecision(t,_,this.decimalMarker)}t.indexOf(".")>0&&!this.percentage(t.substring(0,t.indexOf(".")))&&(t=`${t.substring(0,t.indexOf(".")-1)}${t.substring(t.indexOf("."),t.length)}`),u=this.percentage(t)?t:t.substring(0,t.length-1)}else if(o.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t=t.length>1&&"0"===t[0]&&!this._compareOrIncludes(t[1],this.decimalMarker,this.thousandSeparator)&&!l?t.slice(1,t.length):t,l&&(t=this._compareOrIncludes(t[t.length-1],this.decimalMarker,this.thousandSeparator)?t.slice(0,t.length-1):t);const _=this._charToRegExpExpression(this.thousandSeparator);let p='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(_,"");if(Array.isArray(this.decimalMarker))for(const Z of this.decimalMarker)p=p.replace(this._charToRegExpExpression(Z),"");else p=p.replace(this._charToRegExpExpression(this.decimalMarker),"");const y=new RegExp("["+p+"]");(t.match(y)||1===t.length&&this._compareOrIncludes(t,this.decimalMarker,this.thousandSeparator))&&(t=t.substring(0,t.length-1));const P=this.getPrecision(o),L=(t=this.checkInputPrecision(t,P,this.decimalMarker)).replace(new RegExp(_,"g"),"");u=this._formatWithSeparators(L,this.thousandSeparator,this.decimalMarker,P);const O=u.indexOf(",")-t.indexOf(","),F=u.length-t.length;if(F>0&&","!==u[r]){k=!0;let Z=0;do{this._shift.add(r+Z),Z++}while(Z<F)}else 0!==O&&r>0&&!(u.indexOf(",")>=r&&r>3)||!(u.indexOf(".")>=r&&r>3)&&F<=0?(this._shift.clear(),k=!0,x=F,this._shift.add(r+=F)):this._shift.clear()}else for(let _=0,p=v[0];_<v.length&&a!==o.length;_++,p=v[_])if(this._checkSymbolMask(p,o[a])&&"?"===o[a+1])u+=p,a+=2;else if("*"===o[a+1]&&f&&this._checkSymbolMask(p,o[a+2]))u+=p,a+=3,f=!1;else if(this._checkSymbolMask(p,o[a])&&"*"===o[a+1])u+=p,f=!0;else if("?"===o[a+1]&&this._checkSymbolMask(p,o[a+2]))u+=p,a+=3;else if(this._checkSymbolMask(p,o[a])){if("H"===o[a]&&Number(p)>2){a+=1,this._shiftStep(o,a,v.length),_--,this.leadZeroDateTime&&(u+="0");continue}if("h"===o[a]&&"2"===u&&Number(p)>3){a+=1,_--;continue}if("m"===o[a]&&Number(p)>5){a+=1,this._shiftStep(o,a,v.length),_--,this.leadZeroDateTime&&(u+="0");continue}if("s"===o[a]&&Number(p)>5){a+=1,this._shiftStep(o,a,v.length),_--,this.leadZeroDateTime&&(u+="0");continue}const y=31;if("d"===o[a]&&(Number(p)>3&&this.leadZeroDateTime||Number(t.slice(a,a+2))>y||"/"===t[a+1])){a+=1,this._shiftStep(o,a,v.length),_--,this.leadZeroDateTime&&(u+="0");continue}if("M"===o[a]){const L=0===a&&(Number(p)>2||Number(t.slice(a,a+2))>12||"/"===t[a+1]),O=t.slice(a-3,a-1).includes("/")&&("/"===t[a-2]&&Number(t.slice(a-1,a+1))>12&&"/"!==t[a]||"/"===t[a]||"/"===t[a-3]&&Number(t.slice(a-2,a))>12&&"/"!==t[a-1]||"/"===t[a-1]),F=Number(t.slice(a-3,a-1))<=y&&!t.slice(a-3,a-1).includes("/")&&"/"===t[a-1]&&(Number(t.slice(a,a+2))>12||"/"===t[a+1]),Z=Number(t.slice(a-3,a-1))>y&&!t.slice(a-3,a-1).includes("/")&&!t.slice(a-2,a).includes("/")&&Number(t.slice(a-2,a))>12,ye=Number(t.slice(a-3,a-1))<=y&&!t.slice(a-3,a-1).includes("/")&&"/"!==t[a-1]&&Number(t.slice(a-1,a+1))>12;if(Number(p)>1&&this.leadZeroDateTime||L||O||F||Z||ye){a+=1,this._shiftStep(o,a,v.length),_--,this.leadZeroDateTime&&(u+="0");continue}}u+=p,a++}else" "===p&&" "===o[a]?(u+=p,a++):-1!==this.maskSpecialCharacters.indexOf(o[a])?(u+=o[a],a++,this._shiftStep(o,a,v.length),_--):this.maskSpecialCharacters.indexOf(p)>-1&&this.maskAvailablePatterns[o[a]]&&(null===(C=this.maskAvailablePatterns[o[a]])||void 0===C?void 0:C.optional)?(!!v[a]&&"099.099.099.099"!==o&&"000.000.000-00"!==o&&"00.000.000/0000-00"!==o&&!o.match(/^9+\.0+$/)&&(u+=v[a]),a++,_--):"*"===this.maskExpression[a+1]&&this._findSpecialChar(this.maskExpression[a+2])&&this._findSpecialChar(p)===this.maskExpression[a+2]&&f||"?"===this.maskExpression[a+1]&&this._findSpecialChar(this.maskExpression[a+2])&&this._findSpecialChar(p)===this.maskExpression[a+2]&&f?(a+=3,u+=p):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(p)<0&&p!==this.placeHolderCharacter&&(T=!0);u.length+1===o.length&&-1!==this.maskSpecialCharacters.indexOf(o[o.length-1])&&(u+=o[o.length-1]);let I=r+1;for(;this._shift.has(I);)x++,I++;let q=s&&!o.startsWith("separator")?a:this._shift.has(r)?x:0;T&&q--,c(q,k),x<0&&this._shift.clear();let R=!1;l&&(R=v.every(_=>this.maskSpecialCharacters.includes(_)));let D=`${this.prefix}${R?"":u}${this.suffix}`;return 0===u.length&&(D=`${this.prefix}${u}`),D}_findSpecialChar(t){return this.maskSpecialCharacters.find(o=>o===t)}_checkSymbolMask(t,o){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[o]&&this.maskAvailablePatterns[o].pattern&&this.maskAvailablePatterns[o].pattern.test(t)}_stripToDecimal(t){return t.split("").filter((o,r)=>o.match("^-?\\d")||o.match("\\s")||"."===o||","===o||"-"===o&&0===r&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(t){return t&&(" "===t?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t,o,r){const s=/[*?]/g.test(t.slice(0,o))?r:o;this._shift.add(s+this.prefix.length||0)}_compareOrIncludes(t,o,r){return Array.isArray(o)?o.filter(s=>s!==r).includes(t):t===o}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function he(n,m){return Object.assign(Object.assign({},n),m instanceof Function?m():m)}let me=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:K,useValue:t},{provide:Q,useValue:ue},{provide:B,useFactory:he,deps:[Q,K]},j]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};G.KeyboardEvent||(G.KeyboardEvent=function(n,m){});var Y=g(5835);const d=function(n){return{"has-error":n}};function pe(n,m){if(1&n&&(e.ynx(0),e._uU(1,"\n                    "),e.TgZ(2,"label",14),e._uU(3,"TMF Ticket #"),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"div",15),e._uU(6,"\n                      "),e._UZ(7,"input",47),e._uU(8,"\n                    "),e.qZA(),e._uU(9,"\n                  "),e.BQk()),2&n){const t=e.oxw();let o;e.xp6(7),e.Q6J("ngClass",e.VKq(1,d,null==(o=t.form.get("cTicket"))?null:o.hasError("required")))}}function de(n,m){if(1&n&&(e.ynx(0),e._uU(1,"\n                  "),e.TgZ(2,"label",14),e._uU(3,"N\xfamero de patona"),e.qZA(),e._uU(4,"\n                  "),e.TgZ(5,"div",48),e._uU(6,"\n                    "),e._UZ(7,"input",49),e._uU(8,"\n                  "),e.qZA(),e._uU(9,"\n                  "),e.TgZ(10,"label",50),e._uU(11,"Sellos"),e.qZA(),e._uU(12,"\n                  "),e.TgZ(13,"div",48),e._uU(14,"\n                    "),e._UZ(15,"input",51),e._uU(16,"\n                  "),e.qZA(),e._uU(17,"\n                  "),e.BQk()),2&n){const t=e.oxw();let o,r;e.xp6(7),e.Q6J("ngClass",e.VKq(2,d,null==(o=t.form.get("cNumeroPatona"))?null:o.hasError("required"))),e.xp6(8),e.Q6J("ngClass",e.VKq(4,d,null==(r=t.form.get("cSellos"))?null:r.hasError("required")))}}function fe(n,m){1&n&&(e.ynx(0),e._uU(1,"\n                    "),e.TgZ(2,"label",14),e._uU(3,"Fuller 1"),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"div",48),e._uU(6,"\n                      "),e._UZ(7,"input",52),e._uU(8,"\n                    "),e.qZA(),e._uU(9,"\n                    "),e.TgZ(10,"label",50),e._uU(11,"Sellos 1"),e.qZA(),e._uU(12,"\n                    "),e.TgZ(13,"div",48),e._uU(14,"\n                      "),e._UZ(15,"input",53),e._uU(16,"\n                    "),e.qZA(),e._uU(17,"\n\n                     "),e.TgZ(18,"label",14),e._uU(19,"Fuller 2"),e.qZA(),e._uU(20,"\n                    "),e.TgZ(21,"div",48),e._uU(22,"\n                      "),e._UZ(23,"input",54),e._uU(24,"\n                    "),e.qZA(),e._uU(25,"\n                    "),e.TgZ(26,"label",50),e._uU(27,"Sellos 2"),e.qZA(),e._uU(28,"\n                    "),e.TgZ(29,"div",48),e._uU(30,"\n                      "),e._UZ(31,"input",55),e._uU(32,"\n                    "),e.qZA(),e._uU(33,"\n                  "),e.BQk())}const _e=function(){return{prefix:"",thousands:",",decimal:".",precision:4}};function ge(n,m){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n                    "),e.TgZ(2,"label",14),e._uU(3,"Vol\xfamen en galones"),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"div",15),e._uU(6,"\n                      "),e.TgZ(7,"input",56),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(8,"\n                    "),e.qZA(),e._uU(9,"\n\n                    "),e.TgZ(10,"label",14),e._uU(11,"Vol\xfamen en litros"),e.qZA(),e._uU(12,"\n                    "),e.TgZ(13,"div",15),e._uU(14,"\n                      "),e.TgZ(15,"input",57),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(16,"\n                    "),e.qZA(),e._uU(17,"\n\n                  "),e.BQk()}if(2&n){const t=e.oxw();let o,r;e.xp6(7),e.Q6J("ngClass",e.VKq(3,d,null==(o=t.form.get("nGalonesCompra"))?null:o.hasError("required"))),e.xp6(8),e.Q6J("options",e.DdM(5,_e))("ngClass",e.VKq(6,d,null==(r=t.form.get("nLitrosCompra"))?null:r.hasError("required")))}}function Ce(n,m){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n\n                    "),e.TgZ(2,"label",14),e._uU(3,"Vol\xfamen en litros"),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"div",15),e._uU(6,"\n                      "),e.TgZ(7,"input",58),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(8,"\n                    "),e.qZA(),e._uU(9,"\n\n                  "),e.BQk()}if(2&n){const t=e.oxw();let o;e.xp6(7),e.Q6J("ngClass",e.VKq(1,d,null==(o=t.form.get("nLitrosCompra"))?null:o.hasError("required")))}}const z=function(){return{prefix:"$",thousands:",",decimal:".",precision:4}};function ve(n,m){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n\n                    "),e.TgZ(2,"label",14),e._uU(3,"Costo en pesos"),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"div",15),e._uU(6,"\n                      "),e.TgZ(7,"input",59),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(8,"\n                    "),e.qZA(),e._uU(9,"\n\n                    "),e.TgZ(10,"label",14),e._uU(11,"Costo por litro en pesos"),e.qZA(),e._uU(12,"\n                    "),e.TgZ(13,"div",15),e._uU(14,"\n                      "),e._UZ(15,"input",60),e._uU(16,"\n                    "),e.qZA(),e._uU(17,"\n\n                  "),e.BQk()}if(2&n){const t=e.oxw();let o,r;e.xp6(7),e.Q6J("options",e.DdM(3,z))("ngClass",e.VKq(4,d,null==(o=t.form.get("nCostoTotal"))?null:o.hasError("required"))),e.xp6(8),e.Q6J("ngClass",e.VKq(6,d,null==(r=t.form.get("nCostoLitro"))?null:r.hasError("required")))}}function ke(n,m){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n                "),e.TgZ(2,"h5")(3,"span",13),e._uU(4,"Captura de costos por gal\xf3n (USD)"),e.qZA()(),e._uU(5,"\n\n                "),e.TgZ(6,"div",11),e._uU(7,"\n\n                  "),e.TgZ(8,"label",37),e._uU(9,"D\xf3lar bancario"),e.qZA(),e._uU(10,"\n                  "),e.TgZ(11,"div",38),e._uU(12,"\n                    "),e.TgZ(13,"input",61),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(14,"\n                  "),e.qZA(),e._uU(15,"\n\n                  "),e.TgZ(16,"label",37),e._uU(17,"Costo por gal\xf3n en d\xf3lares"),e.qZA(),e._uU(18,"\n                  "),e.TgZ(19,"div",38),e._uU(20,"\n                    "),e.TgZ(21,"input",62),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(22,"\n                  "),e.qZA(),e._uU(23,"\n\n                  "),e.TgZ(24,"label",37),e._uU(25,"Costo total en d\xf3lares"),e.qZA(),e._uU(26,"\n                  "),e.TgZ(27,"div",38),e._uU(28,"\n                    "),e._UZ(29,"input",63),e._uU(30,"\n                  "),e.qZA(),e._uU(31,"\n\n                  "),e.TgZ(32,"label",37),e._uU(33,"Costo por litro en pesos"),e.qZA(),e._uU(34,"\n                  "),e.TgZ(35,"div",38),e._uU(36,"\n                    "),e._UZ(37,"input",64),e._uU(38,"\n                  "),e.qZA(),e._uU(39,"\n\n                  "),e.TgZ(40,"label",37),e._uU(41,"Costo total en pesos"),e.qZA(),e._uU(42,"\n                  "),e.TgZ(43,"div",38),e._uU(44,"\n                    "),e._UZ(45,"input",65),e._uU(46,"\n                  "),e.qZA(),e._uU(47,"\n\n                "),e.qZA(),e._uU(48,"\n\n              "),e.BQk()}if(2&n){const t=e.oxw();let o,r,s,l;e.xp6(13),e.Q6J("ngClass",e.VKq(4,d,null==(o=t.form.get("nTipoCambio"))?null:o.hasError("required"))),e.xp6(8),e.Q6J("ngClass",e.VKq(6,d,null==(r=t.form.get("nCostoGalon"))?null:r.hasError("required"))),e.xp6(8),e.Q6J("ngClass",e.VKq(8,d,null==(s=t.form.get("nCostoFinalDolares"))?null:s.hasError("required"))),e.xp6(16),e.Q6J("ngClass",e.VKq(10,d,null==(l=t.form.get("nCostoTotal"))?null:l.hasError("required")))}}function be(n,m){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n\n                    "),e.TgZ(2,"label",37),e._uU(3,"Tipo cambio USD en Culiac\xe1n"),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"div",38),e._uU(6,"\n                      "),e.TgZ(7,"input",66),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(8,"\n                    "),e.qZA(),e._uU(9,"\n\n                    "),e.TgZ(10,"label",37),e._uU(11,"Monto costo cruce USD"),e.qZA(),e._uU(12,"\n                    "),e.TgZ(13,"div",38),e._uU(14,"\n                      "),e.TgZ(15,"input",67),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(16,"\n                    "),e.qZA(),e._uU(17,"\n\n                  "),e.BQk()}if(2&n){const t=e.oxw();let o,r;e.xp6(7),e.Q6J("ngClass",e.VKq(2,d,null==(o=t.form.get("nTipoCambioLocal"))?null:o.hasError("required"))),e.xp6(8),e.Q6J("ngClass",e.VKq(4,d,null==(r=t.form.get("nCostoCruce"))?null:r.hasError("required")))}}function xe(n,m){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n\n                    "),e.TgZ(2,"label",37),e._uU(3,"Costo log\xedstico USD"),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"div",38),e._uU(6,"\n                      "),e.TgZ(7,"input",68),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(8,"\n                    "),e.qZA(),e._uU(9,"\n\n         "),e._uU(10,"\n\n                  "),e.BQk()}if(2&n){const t=e.oxw();let o;e.xp6(7),e.Q6J("ngClass",e.VKq(1,d,null==(o=t.form.get("nCostoCruce"))?null:o.hasError("required")))}}function Te(n,m){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n                    "),e.TgZ(2,"h5")(3,"span",13),e._uU(4,"Origen-Destino"),e.qZA()(),e._uU(5,"\n\n                    "),e.TgZ(6,"label",37),e._uU(7,"Ruta"),e.qZA(),e._uU(8,"\n                    "),e.TgZ(9,"div",38),e._uU(10,"\n                      "),e.TgZ(11,"div",16),e._uU(12,"\n                        "),e._UZ(13,"input",69),e._uU(14,"\n                        "),e.TgZ(15,"span",18),e._uU(16,"\n                          "),e.TgZ(17,"i",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().openModalFlete()}),e.qZA(),e._uU(18,"\n                        "),e.qZA(),e._uU(19,"\n                      "),e.qZA(),e._uU(20,"\n                    "),e.qZA(),e._uU(21,"\n                    "),e.TgZ(22,"label",37),e._uU(23,"Costo Flete"),e.qZA(),e._uU(24,"\n                    "),e.TgZ(25,"div",38),e._uU(26,"\n                      "),e.TgZ(27,"input",70),e.NdJ("blur",function(){return e.CHM(t),e.oxw().calcularTotales()}),e.qZA(),e._uU(28,"\n                    "),e.qZA(),e._uU(29,"\n  \n\n                  "),e.BQk()}if(2&n){const t=e.oxw();let o,r;e.xp6(13),e.Q6J("ngClass",e.VKq(2,d,null==(o=t.form.get("nRuta"))?null:o.hasError("required"))),e.xp6(14),e.Q6J("ngClass",e.VKq(4,d,null==(r=t.form.get("nCostoFlete"))?null:r.hasError("required")))}}let Se=(()=>{class n{constructor(t,o,r,s,l,c,h,C,a,u,f,k){this.service=t,this.util=o,this.modalService=r,this.patterns=s,this.serviceEmpresa=l,this.serviceAlmacen=c,this.serviceProveedor=h,this.serviceFletara=C,this.serviceChofer=a,this.serviceArticulo=u,this.maskService=f,this.cp=k,this.maxDate=new Date,this.costoLitroFactura=.2,this.nValorGalon=3.7854,this.nValorCostoCruce=3800,this.nValorCostoLogistico=100,this.nValorCostoFlete=0}ngOnInit(){var t=this;return(0,b.Z)(function*(){t.form=new i.cw({nCompra:new i.NI({value:"",disabled:!0},[]),cTipoCompra:new i.NI("",i.kI.required),dFechaCompra:new i.NI("",[i.kI.required]),cEmpresa:new i.NI({value:"",disabled:!0},i.kI.required),nEmpresa:new i.NI("",i.kI.required),nAlmacen:new i.NI(""),cAlmacen:new i.NI({value:"",disabled:!0},i.kI.required),nProveedor:new i.NI("",i.kI.required),cProveedor:new i.NI({value:"",disabled:!0},i.kI.required),dFechaFactura:new i.NI("",[]),cTicket:new i.NI("",[]),cFactura:new i.NI("",[]),nFletera:new i.NI("",i.kI.required),cFletera:new i.NI({value:"",disabled:!0},i.kI.required),nChofer:new i.NI("",i.kI.required),cChofer:new i.NI({value:"",disabled:!0},i.kI.required),cNumeroTrailer:new i.NI("",i.kI.required),nArticulo:new i.NI("",i.kI.required),cArticulo:new i.NI({value:"",disabled:!0},i.kI.required),cFuller1:new i.NI("",[]),cFuller2:new i.NI("",[]),cSellos1:new i.NI("",[]),cSellos2:new i.NI("",[]),nLitrosCompra:new i.NI("",i.kI.required),nTipoCambio:new i.NI("",i.kI.required),nCostoTotal:new i.NI("",[i.kI.required]),nCostoCruce:new i.NI(t.nValorCostoCruce,i.kI.required),nCostoFactura:new i.NI({value:""},[]),nCostoFlete:new i.NI("",[]),nGalonesCompra:new i.NI("",[]),nCostoGalon:new i.NI("",[]),nCostoFinalLitro:new i.NI({value:"",disabled:!0},[]),nCostoFinalDolares:new i.NI({value:"",disabled:!0},[]),nCostoLitro:new i.NI({value:0,disabled:!0},[]),nCostoLogistico:new i.NI("",[]),nCostoFinalCompra:new i.NI({value:"",disabled:!0},[]),cNumeroPatona:new i.NI("",[]),cSellos:new i.NI("",[]),nKilometrosRecorridos:new i.NI("",[]),nTipoCambioLocal:new i.NI("",[]),nRuta:new i.NI("",[]),cRuta:new i.NI({value:"",disabled:!0},[])}),t.asignarValoresIniciales(),t.calcularTotales()})()}asignarValoresIniciales(){var t=this;return(0,b.Z)(function*(){var o,r,s;null===(o=t.form.get("nCostoCruce"))||void 0===o||o.setValue(t.nValorCostoCruce),null===(r=t.form.get("nCostoFlete"))||void 0===r||r.setValue(t.nValorCostoFlete),null===(s=t.form.get("nCostoLogistico"))||void 0===s||s.setValue(t.nValorCostoLogistico);const c=(yield t.serviceAlmacen.obtenerAlmacenes(0).toPromise()).data.map(h=>({nAlmacen:h.nAlmacen,cDescripcion:h.cDescripcion}));for(const h of c)if("CEDI CULIACAN"===h.cDescripcion)return void t.asignarAlmacen(h)})()}get nCompra(){var t,o,r;return(null===(t=this.form.get("nCompra"))||void 0===t?void 0:t.value)&&""!=(null===(o=this.form.get("nCompra"))||void 0===o?void 0:o.value)?null===(r=this.form.get("nCompra"))||void 0===r?void 0:r.value:0}get cTipoCompra(){var t,o;return null!==(o=null===(t=this.form.get("cTipoCompra"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get nEmpresa(){var t,o;return null!==(o=null===(t=this.form.get("nEmpresa"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get nAlmacen(){var t,o;return null!==(o=null===(t=this.form.get("nAlmacen"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get nProveedor(){var t,o;return null!==(o=null===(t=this.form.get("nProveedor"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get dFechaFactura(){var t;return null===(t=this.form.get("dFechaFactura"))||void 0===t?void 0:t.value}get dFechaCompra(){var t;return null===(t=this.form.get("dFechaCompra"))||void 0===t?void 0:t.value}get cFactura(){var t,o;return null!==(o=null===(t=this.form.get("cFactura"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get nFletera(){var t,o;return null!==(o=null===(t=this.form.get("nFletera"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get nChofer(){var t,o;return null!==(o=null===(t=this.form.get("nChofer"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get cNumeroTrailer(){var t,o;return null!==(o=null===(t=this.form.get("cNumeroTrailer"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get nArticulo(){var t,o;return null!==(o=null===(t=this.form.get("nArticulo"))||void 0===t?void 0:t.value)&&void 0!==o?o:0}get cFuller1(){var t,o;return null!==(o=null===(t=this.form.get("cFuller1"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get cFuller2(){var t,o;return null!==(o=null===(t=this.form.get("cFuller2"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get cSellos1(){var t,o;return null!==(o=null===(t=this.form.get("cSellos1"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get cSellos2(){var t,o;return null!==(o=null===(t=this.form.get("cSellos2"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get nLitrosCompra(){var t,o;return""!==(null===(t=this.form.get("nLitrosCompra"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nLitrosCompra"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nTipoCambio(){var t,o;return""!==(null===(t=this.form.get("nTipoCambio"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nTipoCambio"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nCostoTotal(){var t,o;return""!==(null===(t=this.form.get("nCostoTotal"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nCostoTotal"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nCostoFactura(){var t,o;return""!==(null===(t=this.form.get("nCostoFactura"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nCostoFactura"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nCostoFlete(){var t,o;return""!==(null===(t=this.form.get("nCostoFlete"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nCostoFlete"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nCostoCruce(){var t,o;return""!==(null===(t=this.form.get("nCostoCruce"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nCostoCruce"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nGalonesCompra(){var t,o;return""!==(null===(t=this.form.get("nGalonesCompra"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nGalonesCompra"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nCostoGalon(){var t,o;return""!==(null===(t=this.form.get("nCostoGalon"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nCostoGalon"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get cTicket(){var t,o;return""!==(null===(t=this.form.get("cTicket"))||void 0===t?void 0:t.value)?null===(o=this.form.get("cTicket"))||void 0===o?void 0:o.value:""}get nCostoLitro(){var t,o;return""!==(null===(t=this.form.get("nCostoLitro"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nCostoLitro"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nCostoLogistico(){var t,o;return""!==(null===(t=this.form.get("nCostoLogistico"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nCostoLogistico"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nPrecioKMFlete(){var t,o;return""!==(null===(t=this.form.get("nPrecioKMFlete"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nPrecioKMFlete"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nKilometrosRecorridos(){var t,o;return""!==(null===(t=this.form.get("nKilometrosRecorridos"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nKilometrosRecorridos"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nCostoLitroMX(){var t,o;return""!==(null===(t=this.form.get("nCostoLitroMX"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nCostoLitroMX"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get nTipoCambioLocal(){var t,o;return""!==(null===(t=this.form.get("nTipoCambioLocal"))||void 0===t?void 0:t.value)?parseFloat(null===(o=this.form.get("nTipoCambioLocal"))||void 0===o?void 0:o.value.toString().replaceAll(",","")):0}get cNumeroPatona(){var t,o;return null!==(o=null===(t=this.form.get("cNumeroPatona"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get cSellos(){var t,o;return null!==(o=null===(t=this.form.get("cSellos"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get cRuta(){var t,o;return null!==(o=null===(t=this.form.get("cRuta"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get nRuta(){var t,o;return null!==(o=null===(t=this.form.get("nRuta"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}cambiarTipoCompra(){var t;const o=this.cTipoCompra;this.limpiar(),null===(t=this.form.get("cTipoCompra"))||void 0===t||t.setValue(o),this.habilitarCampos()}habilitarCampos(){"I"!==this.cTipoCompra?(this.form.controls.nGalonesCompra.setValue(""),this.form.controls.nGalonesCompra.setValidators(null),this.form.controls.nGalonesCompra.updateValueAndValidity(),this.form.controls.nCostoGalon.setValue(""),this.form.controls.nCostoGalon.setValidators(null),this.form.controls.nCostoGalon.updateValueAndValidity(),this.form.controls.nCostoFinalDolares.setValue(""),this.form.controls.nCostoFinalDolares.setValidators(null),this.form.controls.nCostoFinalDolares.updateValueAndValidity(),this.form.controls.nCostoCruce.setValue(""),this.form.controls.nCostoCruce.setValidators(null),this.form.controls.nCostoCruce.updateValueAndValidity(),this.form.controls.nCostoFactura.setValue(""),this.form.controls.nCostoFactura.setValidators(null),this.form.controls.nCostoFactura.updateValueAndValidity(),this.form.controls.nLitrosCompra.setValue(""),this.form.controls.nLitrosCompra.enable(),this.form.controls.nLitrosCompra.updateValueAndValidity(),this.form.controls.cTicket.setValue(""),this.form.controls.cTicket.setValidators(null),this.form.controls.cTicket.updateValueAndValidity(),this.form.controls.nCostoLitro.setValue(""),this.form.controls.nCostoTotal.setValue(""),this.form.controls.nCostoTotal.enable(),this.form.controls.nTipoCambio.setValue(0),this.form.controls.nRuta.setValue(""),this.form.controls.cRuta.setValue(""),this.form.controls.cRuta.setValidators(null),this.form.controls.nCostoFactura.setValue(0),this.form.controls.nCostoFactura.enable()):(this.form.controls.nGalonesCompra.setValue(""),this.form.controls.nGalonesCompra.setValidators(i.kI.required),this.form.controls.nGalonesCompra.updateValueAndValidity(),this.form.controls.nCostoGalon.setValue(""),this.form.controls.nCostoGalon.setValidators(i.kI.required),this.form.controls.nCostoGalon.updateValueAndValidity(),this.form.controls.nCostoFinalDolares.setValue(""),this.form.controls.nCostoFinalDolares.setValidators(i.kI.required),this.form.controls.nCostoFinalDolares.updateValueAndValidity(),this.form.controls.nCostoCruce.setValue(""),this.form.controls.nCostoCruce.setValidators(i.kI.required),this.form.controls.nCostoCruce.updateValueAndValidity(),this.form.controls.nCostoFactura.setValue(""),this.form.controls.nCostoFactura.setValidators(i.kI.required),this.form.controls.nCostoFactura.updateValueAndValidity(),this.form.controls.nLitrosCompra.setValue(""),this.form.controls.nLitrosCompra.disable(),this.form.controls.nLitrosCompra.updateValueAndValidity(),this.form.controls.cTicket.setValue(""),this.form.controls.cTicket.setValidators(i.kI.required),this.form.controls.cTicket.updateValueAndValidity(),this.form.controls.nCostoLitro.setValue(""),this.form.controls.nCostoTotal.setValue(""),this.form.controls.nCostoTotal.disable(),this.form.controls.nTipoCambio.setValue(""),this.form.controls.nRuta.setValue(""),this.form.controls.cRuta.setValue(""),this.form.controls.cRuta.setValidators(i.kI.required),this.asignarValoresIniciales())}guardar(){var t=this;return(0,b.Z)(function*(){t.util.dialogConfirm("\xbfEst\xe1 seguro que desea guardar los datos?").then(o=>{let r=E(t.dFechaCompra),s=E();if(r>s)t.util.dialogWarning("La fecha de compra no debe ser mayor a la fecha actual.");else if(t.dFechaFactura&&E(t.dFechaFactura)>s)t.util.dialogWarning("La fecha de factura no debe ser mayor a la fecha actual.");else if(console.log("almacen",t.nAlmacen),t.nAlmacen<=0)t.util.dialogWarning("Ocurri\xf3 un error al enviar el almacen.");else if(o.isConfirmed){const l={nCompra:t.nCompra,cTipoCompra:t.cTipoCompra,nEmpresa:t.nEmpresa,nAlmacen:t.nAlmacen,nProveedor:t.nProveedor,dFechaFactura:t.dFechaFactura?new Date(t.dFechaFactura).toISOString().split("T")[0]:null,cFactura:t.cFactura?t.cFactura:null,nFletera:t.nFletera,nChofer:t.nChofer,cNumeroTrailer:t.cNumeroTrailer,nArticulo:t.nArticulo,cFuller1:t.cFuller1,cFuller2:t.cFuller2,cSellos1:t.cSellos1,cSellos2:t.cSellos2,nLitrosCompra:t.nLitrosCompra.toString().replaceAll(",",""),nTipoCambio:t.nTipoCambio.toString().replaceAll(",",""),nCostoTotal:t.nCostoTotal.toString().replaceAll(",",""),nCostoCruce:"I"===t.cTipoCompra?t.nCostoCruce:null,nCostoFactura:t.nCostoFactura.toString().replaceAll(",",""),dFechaCompra:new Date(t.dFechaCompra).toISOString().split("T")[0],nCostoFlete:t.nCostoFlete.toString().replaceAll(",",""),cTicket:"I"===t.cTipoCompra?t.cTicket:null,nGalonesCompra:"I"===t.cTipoCompra?t.nGalonesCompra.toString().replaceAll(",",""):null,nCostoGalon:"I"===t.cTipoCompra?t.nCostoGalon.toString().replaceAll(",",""):null,nCostoLitro:t.nCostoLitro.toString().replaceAll(",",""),nCostoLogistico:"I"===t.cTipoCompra?t.nCostoLogistico.toString().replaceAll(",",""):null,cNumeroPatona:t.cNumeroPatona,cSellos:t.cSellos,nKilometrosRecorridos:t.nKilometrosRecorridos.toString().replaceAll(",",""),nTipoCambioLocal:t.nTipoCambioLocal.toString().replaceAll(",",""),nRuta:t.nRuta};t.service.guardarCompra(l).subscribe(function(){var c=(0,b.Z)(function*(h){""!==h.error?t.util.dialogError(h.error.error.type):(t.limpiar(),t.util.dialogSuccess("Compra guardada correctamente."))});return function(h){return c.apply(this,arguments)}}(),c=>{t.util.dialogError("Error al guardar la compra.")})}})})()}limpiarCampo(t){console.log("value:",t.value),""===t.value&&t.setValue(null)}openModal(){const t=this.modalService.open(ee,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario"});t.closed.subscribe(o=>{console.log("value:",o),o&&o.id&&(this.form.controls.nCompra.setValue(o.id),this.mostrarDatos(),t.close())})}openModalEmpresas(){var t=this;return(0,b.Z)(function*(){const o=t.modalService.open(V.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de empresas",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nEmpresa"},{cNombre:"Empresa",cPropiedad:"cNombreEmpresa"}];const s=(yield t.serviceEmpresa.obtenerEmpresas(0).toPromise()).data.map(l=>({nEmpresa:l.nEmpresa,cNombreEmpresa:l.cNombreEmpresa}));o.componentInstance.data=s,o.componentInstance.dataTemp=s,o.closed.subscribe(l=>{console.log("value:",l),l&&l.id&&(t.asignarEmpresa(l),o.close())})})()}asignarEmpresa(t){this.form.controls.cEmpresa.setValue(t.cDescripcion),this.form.controls.nEmpresa.setValue(t.id)}openModalAlmacenes(){var t=this;return(0,b.Z)(function*(){const o=t.modalService.open(V.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de almacenes",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nAlmacen"},{cNombre:"Almac\xe9n",cPropiedad:"cDescripcion"}];const s=(yield t.serviceAlmacen.obtenerAlmacenes(0).toPromise()).data.map(l=>({nAlmacen:l.nAlmacen,cDescripcion:l.cDescripcion}));o.componentInstance.data=s,o.componentInstance.dataTemp=s,o.closed.subscribe(l=>{console.log("value:",l),l&&l.id&&(t.asignarAlmacen(l),o.close())})})()}openModalFlete(){var t=this;return(0,b.Z)(function*(){const o=t.modalService.open(te,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-mediano"});o.closed.subscribe(function(){var r=(0,b.Z)(function*(s){if(s){const l=yield t.service.obtenerFlete(s.id).toPromise();l.data[0]&&(t.asignarFlete(l.data[0]),o.close())}});return function(s){return r.apply(this,arguments)}}())})()}asignarAlmacen(t){this.form.controls.cAlmacen.setValue(t.cDescripcion),this.form.controls.nAlmacen.setValue(t.id),console.log(this.nAlmacen),console.log("value:",t)}asignarFlete(t){this.form.controls.cRuta.setValue(t.cOrigen+" - "+t.cDestino),this.form.controls.nRuta.setValue(t.nRuta),this.form.controls.nCostoFlete.setValue(t.nPrecio),this.calcularTotales()}openModalProveedores(){var t=this;return(0,b.Z)(function*(){const o=t.modalService.open(V.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de proveedores",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nProveedor"},{cNombre:"Proveedor",cPropiedad:"cDescripcion"}];const r="I"!==t.cTipoCompra?1:0,l=(yield t.serviceProveedor.obtenerProveedores(0,r).toPromise()).data.map(c=>({nProveedor:c.nProveedor,cDescripcion:c.cNombreProveedor}));o.componentInstance.data=l,o.componentInstance.dataTemp=l,o.closed.subscribe(c=>{console.log("value:",c),c&&c.id&&(t.asignarProveedor(c),o.close())})})()}asignarProveedor(t){this.form.controls.cProveedor.setValue(t.cDescripcion),this.form.controls.nProveedor.setValue(t.id)}openModalFleteras(){var t=this;return(0,b.Z)(function*(){const o=t.modalService.open(V.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de fleteras",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nFletera"},{cNombre:"Fletera",cPropiedad:"cDescripcion"}];const s=(yield t.serviceFletara.obtenerFleteras(0).toPromise()).data.map(l=>({nFletera:l.nFletera,cDescripcion:l.cDescripcion}));o.componentInstance.data=s,o.componentInstance.dataTemp=s,o.closed.subscribe(l=>{console.log("value:",l),l&&l.id&&(t.asignarFleteras(l),o.close())})})()}asignarFleteras(t){this.form.controls.cFletera.setValue(t.cDescripcion),this.form.controls.nFletera.setValue(t.id)}openModalChoferes(){var t=this;return(0,b.Z)(function*(){const o=t.modalService.open(V.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de choferes",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nChofer"},{cNombre:"Chofer",cPropiedad:"cDescripcion"}];const r=t.nFletera>0?t.nFletera:0,l=(yield t.serviceChofer.obtenerChoferes(0,r).toPromise()).data.map(c=>({nChofer:c.nChofer,cDescripcion:c.cNombreChofer}));o.componentInstance.data=l,o.componentInstance.dataTemp=l,o.closed.subscribe(c=>{console.log("value:",c),c&&c.id&&(t.asignarChoferes(c),o.close())})})()}asignarChoferes(t){this.form.controls.cChofer.setValue(t.cDescripcion),this.form.controls.nChofer.setValue(t.id)}openModalArticulos(){var t=this;return(0,b.Z)(function*(){const o=t.modalService.open(V.z,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});o.componentInstance.titulo="B\xfasqueda de art\xedculos",o.componentInstance.props=[{cNombre:"Folio",cPropiedad:"nArticulo"},{cNombre:"Art\xedculo",cPropiedad:"cDescripcion"}];const r="I"!==t.cTipoCompra?1:0,l=(yield t.serviceArticulo.obtenerArticulos(0,r).toPromise()).data.map(c=>({nArticulo:c.nArticulo,cDescripcion:c.cDescripcionLarga}));o.componentInstance.data=l,o.componentInstance.dataTemp=l,o.closed.subscribe(c=>{console.log("value:",c),c&&c.id&&(t.asignarArticulo(c),o.close())})})()}asignarArticulo(t){this.form.controls.cArticulo.setValue(t.cDescripcion),this.form.controls.nArticulo.setValue(t.id)}mostrarDatos(){this.service.obtenerCompras(this.nCompra).subscribe(t=>{if(t){const o=t.data[0];console.log("compra:",o),this.form.controls.nCompra.setValue(o.nCompra),this.form.controls.cTipoCompra.setValue(o.cTipoCompra),this.form.controls.cEmpresa.setValue(o.cEmpresa),this.form.controls.nEmpresa.setValue(o.nEmpresa),this.form.controls.nAlmacen.setValue(o.nAlmacen),this.form.controls.cAlmacen.setValue(o.cAlmacen),this.form.controls.nProveedor.setValue(o.nProveedor),this.form.controls.cProveedor.setValue(o.cProveedor),this.form.controls.dFechaFactura.setValue(o.dFechaFactura?new Date(o.dFechaFactura).toISOString().split("T")[0]:""),this.form.controls.dFechaCompra.setValue(new Date(o.dFechaCompra).toISOString().split("T")[0]),this.form.controls.cFactura.setValue(o.cFactura),this.form.controls.cTicket.setValue(o.cFactura),this.form.controls.nFletera.setValue(o.nFletera),this.form.controls.cFletera.setValue(o.cFletera),this.form.controls.nChofer.setValue(o.nChofer),this.form.controls.cChofer.setValue(o.cChofer),this.form.controls.cNumeroTrailer.setValue(o.cNumeroTrailer),this.form.controls.nArticulo.setValue(o.nArticulo),this.form.controls.cArticulo.setValue(o.cArticulo),this.form.controls.cFuller1.setValue(o.cFuller1),this.form.controls.cFuller2.setValue(o.cFuller2),this.form.controls.cSellos1.setValue(o.cSellos1),this.form.controls.cSellos2.setValue(o.cSellos2),this.form.controls.nLitrosCompra.setValue(parseFloat(o.nLitrosCompra).toFixed(4)),this.form.controls.nTipoCambio.setValue(parseFloat(o.nTipoCambio).toFixed(4)),this.form.controls.nCostoFactura.setValue(parseFloat(o.nCostoFactura).toFixed(4)),this.form.controls.nCostoFlete.setValue(parseFloat(o.nCostoFlete).toFixed(4)),this.form.controls.nCostoCruce.setValue(parseFloat(o.nCostoCruce).toFixed(4)),this.form.controls.nGalonesCompra.setValue(parseFloat(o.nGalonesCompra).toFixed(4)),this.form.controls.nCostoGalon.setValue(parseFloat(o.nCostoGalon).toFixed(4)),this.form.controls.nCostoLitro.setValue(parseFloat(o.nCostoLitro).toFixed(4)),this.form.controls.nCostoLogistico.setValue(parseFloat(o.nCostoLogistico).toFixed(4)),this.form.controls.nCostoTotal.setValue(parseFloat(o.nCostoTotal).toFixed(4)),this.form.controls.cNumeroPatona.setValue(o.cNumeroPatona),this.form.controls.cSellos.setValue(o.cSellos),this.form.controls.nKilometrosRecorridos.setValue(parseFloat(o.nKilometrosRecorridos).toFixed(4)),this.form.controls.nTipoCambioLocal.setValue(parseFloat(o.nTipoCambioLocal).toFixed(4)),this.form.controls.cTipoCompra.disable(),this.form.controls.nLitrosCompra.disable(),this.form.controls.nRuta.setValue(o.nRuta),this.form.controls.cRuta.setValue(o.cRuta),console.log(o.cRuta),"I"!==o.cTipoCompra?(this.form.controls.nCostoTotal.enable(),this.form.controls.nCostoFactura.enable(),this.cambioCostoFactura()):(this.form.controls.nCostoFactura.enable(),this.form.controls.nCostoTotal.disable(),this.calcularTotales())}},t=>{})}cambioCostoFactura(){console.log("entro");let t=0;if("I"!==this.cTipoCompra){let o=Number(this.nCostoTotal.toFixed(4))+Number(this.nCostoFactura.toFixed(4));this.form.controls.nCostoFinalCompra.setValue(this.aplicarFormato(o.toFixed(4))),this.form.controls.nCostoFinalLitro.setValue(this.aplicarFormato(((this.nCostoTotal+this.nCostoFactura)/this.nLitrosCompra).toFixed(4)))}else{t=this.costoLitroFactura*this.nLitrosCompra;const o=this.nGalonesCompra*this.nValorGalon;this.form.controls.nLitrosCompra.setValue(this.aplicarFormato(o.toFixed(4))),t=this.nCostoFactura;const r=this.nCostoCruce*this.nTipoCambioLocal,s=this.nCostoLogistico*this.nTipoCambio,l=this.nCostoFlete,c=this.nCostoGalon*this.nGalonesCompra;this.form.controls.nCostoFinalDolares.setValue(this.aplicarFormato(c.toFixed(4)));const h=c*this.nTipoCambio;this.form.controls.nCostoTotal.setValue(this.aplicarFormato(h.toFixed(4))),this.form.controls.nCostoLitro.setValue(this.aplicarFormato((h/o).toFixed(4)));const a=h+t+r+l+s;let u=a/this.nLitrosCompra;this.form.controls.nCostoFinalCompra.setValue(this.aplicarFormato(a.toFixed(4))),this.form.controls.nCostoFinalLitro.setValue(this.aplicarFormato(u.toFixed(4)))}}calcularTotales(){console.log("calculando totales ...");let t=this.nCostoTotal/this.nLitrosCompra,o=0;if(t||(t=0),"I"!==this.cTipoCompra){o=.02*this.nCostoTotal;const s=this.nCostoTotal+o;let l=s/this.nLitrosCompra;this.form.controls.nCostoLitro.setValue(this.aplicarFormato(t.toFixed(4))),this.form.controls.nCostoFactura.setValue(this.aplicarFormato(o.toFixed(4))),(!l||l===1/0)&&(l=0),this.form.controls.nCostoFinalCompra.setValue(this.aplicarFormato(s.toFixed(4))),this.form.controls.nCostoFinalLitro.setValue(this.aplicarFormato(l.toFixed(4)))}else{o=this.costoLitroFactura*this.nLitrosCompra;const s=this.nGalonesCompra*this.nValorGalon;this.form.controls.nLitrosCompra.setValue(this.aplicarFormato(s.toFixed(4))),o=this.nCostoFactura;const l=this.nCostoCruce*this.nTipoCambioLocal,c=this.nCostoLogistico*this.nTipoCambio,h=this.nCostoFlete,C=this.nCostoGalon*this.nGalonesCompra;this.form.controls.nCostoFinalDolares.setValue(this.aplicarFormato(C.toFixed(4)));const a=C*this.nTipoCambio;this.form.controls.nCostoTotal.setValue(this.aplicarFormato(a.toFixed(4))),this.form.controls.nCostoLitro.setValue(this.aplicarFormato((a/s).toFixed(4)));const f=a+o+l+h+c;console.log(a),console.log(o),console.log(l),console.log(h),console.log(c);let k=f/this.nLitrosCompra;this.form.controls.nCostoFinalCompra.setValue(this.aplicarFormato(f.toFixed(4))),this.form.controls.nCostoFinalLitro.setValue(this.aplicarFormato(k.toFixed(4)))}}limpiar(){this.form.controls.nFletera.setValue(""),this.form.controls.nCompra.setValue(""),this.form.controls.cTipoCompra.setValue(""),this.form.controls.cEmpresa.setValue(""),this.form.controls.nEmpresa.setValue(""),this.form.controls.nAlmacen.setValue(""),this.form.controls.cAlmacen.setValue(""),this.form.controls.nProveedor.setValue(""),this.form.controls.cProveedor.setValue(""),this.form.controls.dFechaFactura.setValue(""),this.form.controls.dFechaCompra.setValue(""),this.form.controls.cFactura.setValue(""),this.form.controls.nFletera.setValue(""),this.form.controls.cFletera.setValue(""),this.form.controls.nChofer.setValue(""),this.form.controls.cChofer.setValue(""),this.form.controls.cNumeroTrailer.setValue(""),this.form.controls.nArticulo.setValue(""),this.form.controls.cArticulo.setValue(""),this.form.controls.cFuller1.setValue(""),this.form.controls.cFuller2.setValue(""),this.form.controls.cSellos1.setValue(""),this.form.controls.cSellos2.setValue(""),this.form.controls.nLitrosCompra.setValue(""),this.form.controls.nTipoCambio.setValue(""),this.form.controls.nCostoTotal.setValue(""),this.form.controls.nCostoFactura.setValue(""),this.form.controls.nCostoFlete.setValue(""),this.form.controls.nCostoLitro.setValue(""),this.form.controls.nCostoFinalLitro.setValue(""),this.form.controls.nCostoFinalDolares.setValue(""),this.form.controls.nCostoLogistico.setValue(""),this.form.controls.nCostoCruce.setValue(this.nValorCostoCruce),this.form.controls.nCostoFinalCompra.setValue(""),this.form.controls.nCostoFinalLitro.setValue(""),this.form.controls.cTipoCompra.enable(),this.form.controls.cNumeroPatona.setValue(""),this.form.controls.cSellos.setValue(""),this.form.controls.nKilometrosRecorridos.setValue(""),this.form.controls.nTipoCambioLocal.setValue(""),this.form.controls.nRuta.setValue(""),this.form.controls.cRuta.setValue(""),this.asignarValoresIniciales()}eliminar(){var t=this;this.util.dialogConfirm("\xbfEst\xe1 seguro que desea eliminar los datos?").then(o=>{o.isConfirmed&&this.service.eliminarCompra(this.nFletera).subscribe(function(){var r=(0,b.Z)(function*(s){t.util.dialogSuccess("Fletera eliminada correctamente."),t.limpiar()});return function(s){return r.apply(this,arguments)}}(),r=>{this.util.dialogError("Error al eliminar la fletera.")})})}aplicarFormato(t){return t&&t.length>0?this.cp.transform(t," ","symbol","1.2-4"):t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.K),e.Y36(oe.F),e.Y36(N.FF),e.Y36(re.e),e.Y36(ae.P),e.Y36(se.O),e.Y36(ne.z),e.Y36(ie.x),e.Y36(le.b),e.Y36(ce.N),e.Y36(j),e.Y36(A.H9))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-nationals"]],decls:281,vars:65,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["name","form",3,"formGroup"],[1,"row","mt-4"],[1,"col-sm-6"],[1,"badge","bg-primary"],[1,"form-label","col-sm-4","col-form-label","text-end"],[1,"col-sm-8"],[1,"input-group","mb-1"],["type","text","placeholder","","formControlName","nCompra",1,"form-control","form-control-sm","border-end-0"],[1,"input-group-text","bg-white"],[1,"feather","icon-search",3,"click"],["formControlName","cTipoCompra",1,"form-control","form-control-sm",3,"ngClass","change"],["value",""],["value","N"],["value","I"],["type","date","placeholder","","formControlName","dFechaCompra",1,"form-control","form-control-sm",3,"max","ngClass"],["type","text","formControlName","cProveedor",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","cEmpresa",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","cAlmacen",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","","formControlName","cFactura",1,"form-control","form-control-sm",3,"ngClass"],["type","date","timezone","[[timezone]]","placeholder","","formControlName","dFechaFactura",1,"form-control","form-control-sm",3,"max","ngClass"],[4,"ngIf"],["type","text","formControlName","cFletera",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","cChofer",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","","formControlName","cNumeroTrailer",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","cArticulo",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-sm-1"],[1,"col-sm-5"],[1,"form-label","col-sm-5","col-form-label","text-end"],[1,"col-sm-7"],["type","text","placeholder","","formControlName","nCostoFactura","maxlength","15","currencyMask","","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"options","ngClass","ngModelChange"],[1,"my-3"],[1,"form-label","col-sm-7","col-form-label","text-end"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nCostoFinalLitro",1,"form-control","form-control-sm","captura-derecha",3,"ngClass"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nCostoFinalCompra",1,"form-control","form-control-sm","captura-derecha",3,"ngClass"],[1,"d-flex","justify-content-center","my-4"],["type","button",1,"btn","btn-warning","mx-2",3,"click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"],["type","text","placeholder","","formControlName","cTicket",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-sm-3"],["type","text","placeholder","","formControlName","cNumeroPatona",1,"form-control","form-control-sm",3,"ngClass"],[1,"form-label","col-sm-2","col-form-label","text-end"],["type","text","placeholder","","formControlName","cSellos",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","","formControlName","cFuller1",1,"form-control","form-control-sm"],["type","text","placeholder","","formControlName","cSellos1",1,"form-control","form-control-sm"],["type","text","placeholder","","formControlName","cFuller2",1,"form-control","form-control-sm"],["type","text","placeholder","","formControlName","cSellos2",1,"form-control","form-control-sm"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nGalonesCompra","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass","blur"],["type","text","currencyMask","","maxlength","15","placeholder","","formControlName","nLitrosCompra","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"options","ngClass","blur"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nLitrosCompra","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass","blur"],["type","text","currencyMask","","maxlength","15","placeholder","","formControlName","nCostoTotal","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"options","ngClass","blur"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nCostoLitro",1,"form-control","form-control-sm","captura-derecha",3,"ngClass"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nTipoCambio","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass","blur"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nCostoGalon","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass","blur"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nCostoFinalDolares",1,"form-control","form-control-sm","captura-derecha",3,"ngClass"],["type","text","appDecimales4","","maxlength","15","placeholder","","formControlName","nCostoLitro",1,"form-control","form-control-sm","captura-derecha"],["type","text","placeholder","","formControlName","nCostoTotal","appDecimales4","","maxlength","15","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass"],["type","text","placeholder","","formControlName","nTipoCambioLocal","appDecimales4","","maxlength","15","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass","blur"],["type","text","placeholder","","formControlName","nCostoCruce","appDecimales4","","maxlength","15","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass","blur"],["type","text","placeholder","","formControlName","nCostoLogistico","appDecimales4","","maxlength","15","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass","blur"],["type","text","formControlName","cRuta",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","","formControlName","nCostoFlete","appDecimales4","","maxlength","15","onfocus","this.select()",1,"form-control","form-control-sm","captura-derecha",3,"ngClass","blur"]],template:function(t,o){if(1&t&&(e._uU(0,"\n"),e.TgZ(1,"nav",0),e._uU(2,"\n  "),e.TgZ(3,"ol",1),e._uU(4,"\n    "),e.TgZ(5,"li",2)(6,"a",3),e._uU(7,"Compras"),e.qZA()(),e._uU(8,"\n    "),e.TgZ(9,"li",4),e._uU(10,"Registro de compra "),e.qZA(),e._uU(11,"\n  "),e.qZA(),e._uU(12,"\n"),e.qZA(),e._uU(13,"\n\n"),e._uU(14,"\n"),e.TgZ(15,"div",5),e._uU(16,"\n  "),e.TgZ(17,"div",6),e._uU(18,"\n    "),e.TgZ(19,"div",7),e._uU(20,"\n      "),e.TgZ(21,"div",8),e._uU(22,"\n        "),e.TgZ(23,"h6",9),e._uU(24),e.qZA(),e._uU(25,"\n        "),e.TgZ(26,"form",10),e._uU(27,"\n            "),e.TgZ(28,"div",11),e._uU(29,"\n              "),e.TgZ(30,"div",12),e._uU(31,"\n                "),e.TgZ(32,"h5")(33,"span",13),e._uU(34,"Captura de datos generales de la gu\xeda"),e.qZA()(),e._uU(35,"\n\n                "),e.TgZ(36,"div",11),e._uU(37,"\n                  "),e.TgZ(38,"label",14),e._uU(39,"Folio"),e.qZA(),e._uU(40,"\n                  "),e.TgZ(41,"div",15),e._uU(42,"\n                    "),e.TgZ(43,"div",16),e._uU(44,"\n                    "),e._UZ(45,"input",17),e._uU(46,"\n                    "),e.TgZ(47,"span",18),e._uU(48,"\n                      "),e.TgZ(49,"i",19),e.NdJ("click",function(){return o.openModal()}),e.qZA(),e._uU(50,"\n                    "),e.qZA(),e._uU(51,"\n                  "),e.qZA(),e._uU(52,"\n                  "),e.qZA(),e._uU(53,"\n\n                  "),e.TgZ(54,"label",14),e._uU(55,"Tipo de compra"),e.qZA(),e._uU(56,"\n                  "),e.TgZ(57,"div",15),e._uU(58,"\n                    "),e.TgZ(59,"div",16),e._uU(60,"\n                      "),e.TgZ(61,"select",20),e.NdJ("change",function(){return o.cambiarTipoCompra()}),e._uU(62,"\n                        "),e.TgZ(63,"option",21),e._uU(64,"Seleccione ..."),e.qZA(),e._uU(65,"\n                        "),e.TgZ(66,"option",22),e._uU(67,"Nacional"),e.qZA(),e._uU(68,"\n                        "),e.TgZ(69,"option",23),e._uU(70,"Importada"),e.qZA(),e._uU(71,"\n                      "),e.qZA(),e._uU(72,"\n                    "),e.qZA(),e._uU(73,"\n                  "),e.qZA(),e._uU(74,"\n\n                  "),e.TgZ(75,"label",14),e._uU(76,"Fecha de compra"),e.qZA(),e._uU(77,"\n                  "),e.TgZ(78,"div",15),e._uU(79,"\n                    "),e._UZ(80,"input",24),e.ALo(81,"date"),e._uU(82,"\n                  "),e.qZA(),e._uU(83,"\n\n                  "),e.TgZ(84,"label",14),e._uU(85,"Proveedor"),e.qZA(),e._uU(86,"\n                  "),e.TgZ(87,"div",15),e._uU(88,"\n                    "),e.TgZ(89,"div",16),e._uU(90,"\n                      "),e._UZ(91,"input",25),e._uU(92,"\n                      "),e.TgZ(93,"span",18),e._uU(94,"\n                        "),e.TgZ(95,"i",19),e.NdJ("click",function(){return o.openModalProveedores()}),e.qZA(),e._uU(96,"\n                      "),e.qZA(),e._uU(97,"\n                    "),e.qZA(),e._uU(98,"\n                  "),e.qZA(),e._uU(99,"\n\n                  "),e.TgZ(100,"label",14),e._uU(101,"Comprador"),e.qZA(),e._uU(102,"\n                  "),e.TgZ(103,"div",15),e._uU(104,"\n                    "),e.TgZ(105,"div",16),e._uU(106,"\n                      "),e._UZ(107,"input",26),e._uU(108,"\n                      "),e.TgZ(109,"span",18),e._uU(110,"\n                        "),e.TgZ(111,"i",19),e.NdJ("click",function(){return o.openModalEmpresas()}),e.qZA(),e._uU(112,"\n                      "),e.qZA(),e._uU(113,"\n                    "),e.qZA(),e._uU(114,"\n                  "),e.qZA(),e._uU(115,"\n\n                  "),e.TgZ(116,"label",14),e._uU(117,"Almac\xe9n"),e.qZA(),e._uU(118,"\n                  "),e.TgZ(119,"div",15),e._uU(120,"\n                    "),e.TgZ(121,"div",16),e._uU(122,"\n                      "),e._UZ(123,"input",27),e._uU(124,"\n                      "),e.TgZ(125,"span",18),e._uU(126,"\n                        "),e.TgZ(127,"i",19),e.NdJ("click",function(){return o.openModalAlmacenes()}),e.qZA(),e._uU(128,"\n                      "),e.qZA(),e._uU(129,"\n                    "),e.qZA(),e._uU(130,"\n                  "),e.qZA(),e._uU(131,"\n\n\n\n                  "),e.TgZ(132,"label",14),e._uU(133,"No. factura"),e.qZA(),e._uU(134,"\n                  "),e.TgZ(135,"div",15),e._uU(136,"\n                    "),e._UZ(137,"input",28),e._uU(138,"\n                  "),e.qZA(),e._uU(139,"\n\n                  "),e.TgZ(140,"label",14),e._uU(141,"Fecha de factura"),e.qZA(),e._uU(142,"\n                  "),e.TgZ(143,"div",15),e._uU(144,"\n                    "),e._UZ(145,"input",29),e.ALo(146,"date"),e._uU(147,"\n                  "),e.qZA(),e._uU(148,"\n\n                  "),e.YNc(149,pe,10,3,"ng-container",30),e._uU(150,"\n\n                  "),e.TgZ(151,"label",14),e._uU(152,"Compa\xf1\xeda transportista"),e.qZA(),e._uU(153,"\n                  "),e.TgZ(154,"div",15),e._uU(155,"\n                    "),e.TgZ(156,"div",16),e._uU(157,"\n                      "),e._UZ(158,"input",31),e._uU(159,"\n                      "),e.TgZ(160,"span",18),e._uU(161,"\n                        "),e.TgZ(162,"i",19),e.NdJ("click",function(){return o.openModalFleteras()}),e.qZA(),e._uU(163,"\n                      "),e.qZA(),e._uU(164,"\n                    "),e.qZA(),e._uU(165,"\n                  "),e.qZA(),e._uU(166,"\n\n                  "),e.TgZ(167,"label",14),e._uU(168,"Nombre del chofer"),e.qZA(),e._uU(169,"\n                  "),e.TgZ(170,"div",15),e._uU(171,"\n                    "),e.TgZ(172,"div",16),e._uU(173,"\n                      "),e._UZ(174,"input",32),e._uU(175,"\n                      "),e.TgZ(176,"span",18),e._uU(177,"\n                        "),e.TgZ(178,"i",19),e.NdJ("click",function(){return o.openModalChoferes()}),e.qZA(),e._uU(179,"\n                      "),e.qZA(),e._uU(180,"\n                    "),e.qZA(),e._uU(181,"\n                  "),e.qZA(),e._uU(182,"\n\n                  "),e.TgZ(183,"label",14),e._uU(184,"N\xfamero de trailer"),e.qZA(),e._uU(185,"\n                  "),e.TgZ(186,"div",15),e._uU(187,"\n                    "),e._UZ(188,"input",33),e._uU(189,"\n                  "),e.qZA(),e._uU(190,"\n\n\n                  "),e.YNc(191,de,18,6,"ng-container",30),e._uU(192,"\n\n                  "),e.YNc(193,fe,34,0,"ng-container",30),e._uU(194,"\n\n\n\n\n                  "),e.TgZ(195,"label",14),e._uU(196,"Producto"),e.qZA(),e._uU(197,"\n                  "),e.TgZ(198,"div",15),e._uU(199,"\n                    "),e.TgZ(200,"div",16),e._uU(201,"\n                      "),e._UZ(202,"input",34),e._uU(203,"\n                      "),e.TgZ(204,"span",18),e._uU(205,"\n                        "),e.TgZ(206,"i",19),e.NdJ("click",function(){return o.openModalArticulos()}),e.qZA(),e._uU(207,"\n                      "),e.qZA(),e._uU(208,"\n                    "),e.qZA(),e._uU(209,"\n                  "),e.qZA(),e._uU(210,"\n\n                  "),e.YNc(211,ge,18,8,"ng-container",30),e._uU(212,"\n\n                  "),e.YNc(213,Ce,10,3,"ng-container",30),e._uU(214,"\n\n\n\n\n                  "),e.YNc(215,ve,18,8,"ng-container",30),e._uU(216,"\n\n\n                "),e.qZA(),e._uU(217,"\n              "),e.qZA(),e._uU(218,"\n\n              "),e._UZ(219,"div",35),e._uU(220,"\n\n              "),e.TgZ(221,"div",36),e._uU(222,"\n\n\n                "),e.YNc(223,ke,49,12,"ng-container",30),e._uU(224,"\n\n                "),e.TgZ(225,"h5")(226,"span",13),e._uU(227,"Captura de costos indirectos"),e.qZA()(),e._uU(228,"\n\n                "),e.TgZ(229,"div",11),e._uU(230,"\n\n                  "),e.TgZ(231,"label",37),e._uU(232,"Costo factura"),e.qZA(),e._uU(233,"\n                    "),e.TgZ(234,"div",38),e._uU(235,"\n                      "),e.TgZ(236,"input",39),e.NdJ("ngModelChange",function(){return o.cambioCostoFactura()}),e.qZA(),e._uU(237,"\n                    "),e.qZA(),e._uU(238,"\n\n                  "),e.YNc(239,be,18,6,"ng-container",30),e._uU(240,"\n\n                  "),e.YNc(241,xe,11,3,"ng-container",30),e._uU(242,"\n\n\n                  "),e.YNc(243,Te,30,6,"ng-container",30),e._uU(244,"\n\n                  "),e._UZ(245,"hr",40),e._uU(246,"\n\n                  "),e.TgZ(247,"label",41),e._uU(248,"Costo litro MX"),e.qZA(),e._uU(249,"\n                  "),e.TgZ(250,"div",36),e._uU(251,"\n                    "),e._UZ(252,"input",42),e._uU(253,"\n                  "),e.qZA(),e._uU(254,"\n\n                  "),e.TgZ(255,"label",41),e._uU(256,"Costo final de compra"),e.qZA(),e._uU(257,"\n                  "),e.TgZ(258,"div",36),e._uU(259,"\n                    "),e._UZ(260,"input",43),e._uU(261,"\n                  "),e.qZA(),e._uU(262,"\n\n                "),e.qZA(),e._uU(263,"\n              "),e.qZA(),e._uU(264,"\n            "),e.qZA(),e._uU(265,"\n\n          "),e.qZA(),e._uU(266,"\n          "),e.TgZ(267,"div",44),e._uU(268,"\n            "),e.TgZ(269,"button",45),e.NdJ("click",function(){return o.limpiar()}),e._uU(270,"Limpiar"),e.qZA(),e._uU(271,"\n              "),e._uU(272,"\n              "),e.TgZ(273,"button",46),e.NdJ("click",function(){return o.guardar()}),e._uU(274,"Guardar"),e.qZA(),e._uU(275,"\n          "),e.qZA(),e._uU(276,"\n      "),e.qZA(),e._uU(277,"\n    "),e.qZA(),e._uU(278,"\n  "),e.qZA(),e._uU(279,"\n"),e.qZA(),e._uU(280,"\n")),2&t){let r,s,l,c,h,C,a,u,f,k,x,T,v,S;e.xp6(24),e.hij("Formulario de Registro de Compra ","I"!==o.cTipoCompra?"Nacional":"Importada",""),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(35),e.Q6J("ngClass",e.VKq(36,d,null==(r=o.form.get("cTipoCompra"))?null:r.hasError("required"))),e.xp6(19),e.s9C("max",e.xi3(81,30,o.maxDate,"yyyy-MM-dd")),e.Q6J("ngClass",e.VKq(38,d,null==(s=o.form.get("dFechaCompra"))?null:s.hasError("required"))),e.xp6(11),e.Q6J("ngClass",e.VKq(40,d,null==(l=o.form.get("nProveedor"))?null:l.hasError("required"))),e.xp6(16),e.Q6J("ngClass",e.VKq(42,d,null==(c=o.form.get("nEmpresa"))?null:c.hasError("required"))),e.xp6(16),e.Q6J("ngClass",e.VKq(44,d,null==(h=o.form.get("nAlmacen"))?null:h.hasError("required"))),e.xp6(14),e.Q6J("ngClass",e.VKq(46,d,null==(C=o.form.get("cFactura"))?null:C.hasError("required"))),e.xp6(8),e.s9C("max",e.xi3(146,33,o.maxDate,"yyyy-MM-dd")),e.Q6J("ngClass",e.VKq(48,d,null==(a=o.form.get("dFechaFactura"))?null:a.hasError("required"))),e.xp6(4),e.Q6J("ngIf","I"===o.cTipoCompra),e.xp6(9),e.Q6J("ngClass",e.VKq(50,d,null==(u=o.form.get("nFletera"))?null:u.hasError("required"))),e.xp6(16),e.Q6J("ngClass",e.VKq(52,d,null==(f=o.form.get("nChofer"))?null:f.hasError("required"))),e.xp6(14),e.Q6J("ngClass",e.VKq(54,d,null==(k=o.form.get("cNumeroTrailer"))?null:k.hasError("required"))),e.xp6(3),e.Q6J("ngIf","I"===o.cTipoCompra),e.xp6(2),e.Q6J("ngIf","I"!==o.cTipoCompra),e.xp6(9),e.Q6J("ngClass",e.VKq(56,d,null==(x=o.form.get("nArticulo"))?null:x.hasError("required"))),e.xp6(9),e.Q6J("ngIf","I"===o.cTipoCompra),e.xp6(2),e.Q6J("ngIf","I"!==o.cTipoCompra),e.xp6(2),e.Q6J("ngIf","I"!==o.cTipoCompra),e.xp6(8),e.Q6J("ngIf","I"===o.cTipoCompra),e.xp6(13),e.Q6J("options",e.DdM(58,z))("ngClass",e.VKq(59,d,null==(T=o.form.get("nCostoFactura"))?null:T.hasError("required"))),e.xp6(3),e.Q6J("ngIf","I"===o.cTipoCompra),e.xp6(2),e.Q6J("ngIf","I"===o.cTipoCompra),e.xp6(2),e.Q6J("ngIf","I"===o.cTipoCompra),e.xp6(9),e.Q6J("ngClass",e.VKq(61,d,null==(v=o.form.get("nCostoFinalLitro"))?null:v.hasError("required"))),e.xp6(8),e.Q6J("ngClass",e.VKq(63,d,null==(S=o.form.get("nCostoFinalCompra"))?null:S.hasError("required"))),e.xp6(13),e.Q6J("disabled",o.form.invalid)}},directives:[M.yS,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.EJ,A.mk,i.YN,i.Kr,A.O5,$.w,i.nD,Y.g1],pipes:[A.uU],styles:[""]}),n})(),Fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[A.ez,J.m,U.xD.forRoot({messages:{emptyMessage:"No hay datos disponibles",totalMessage:"total",selectedMessage:"selected"}})]]}),n})();var Ze=g(6282);const Ae={validation:!1},Ue=[{path:"",component:Se}];let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[A.ez,J.m,M.Bz.forChild(Ue),Fe,Y.zh,me.forRoot(Ae),U.xD.forRoot({messages:{emptyMessage:"No hay datos disponibles",totalMessage:"total",selectedMessage:"selected"}}),Ze.o],M.Bz]}),n})()}}]);