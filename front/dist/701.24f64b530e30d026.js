"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[701],{8701:(b,h,l)=>{l.r(h),l.d(h,{StoresModule:()=>q});var _=l(9808),v=l(9560),f=l(5886),c=l(5861),i=l(2382),e=l(4893),u=l(257),g=l(7881),s=l(6166);let p=(()=>{class r{constructor(n,t,o){this.activeModal=n,this.modalService=t,this.service=o,this.data=[],this.dataTemp=[],this.valueBuscador=""}ngOnInit(){this.service.obtenerAlmacenes(0).subscribe(n=>{this.data=n.data,this.dataTemp=[...this.data]},n=>{})}ngAfterViewChecked(){window.dispatchEvent(new Event("resize"))}close(n=this){n.activeModal.close({})}filterDatatable(n){if(this.data=this.data,""===n.target.value)this.data=this.dataTemp;else{const t=n.target.value.toLowerCase(),o=this.data.filter(a=>-1!==a.nAlmacen.toString().toLowerCase().indexOf(t)||!t||-1!==a.cDescripcion.toLowerCase().indexOf(t)||!t);this.data=o}}onClick(n){"click"==n.type&&(this.selectedRow&&this.selectedRow.nAlmacen==n.row.nAlmacen?this.activeModal.close({id:this.selectedRow.nAlmacen}):this.selectedRow=n.row)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(u.FF),e.Y36(g.O))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-busqueda-almacen"]],decls:11,vars:10,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["type","text","matInput","","placeholder","Buscar almac\xe9n",3,"ngModel","keyup","ngModelChange"],[1,"material","shadow-none",3,"rows","loadingIndicator","columnMode","headerHeight","footerHeight","rowHeight","reorderable","limit","scrollbarH","activate"],["name","Folio","prop","nAlmacen"],["name","Descripci\xf3n","prop","cDescripcion"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"B\xfasqueda de almacenes"),e.qZA()(),e.TgZ(3,"div",2)(4,"input",3),e.NdJ("keyup",function(a){return t.filterDatatable(a)})("ngModelChange",function(a){return t.valueBuscador=a}),e.qZA(),e.TgZ(5,"ngx-datatable",4),e.NdJ("activate",function(a){return t.onClick(a)}),e._UZ(6,"ngx-datatable-column",5)(7,"ngx-datatable-column",6),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return t.close()}),e._uU(10," Cerrar "),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngModel",t.valueBuscador),e.xp6(1),e.Q6J("rows",t.data)("loadingIndicator",t.loadingIndicator)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("reorderable",t.reorderable)("limit",10)("scrollbarH",!0))},directives:[i.Fj,i.JJ,i.On,s.nE,s.UC],styles:[""]}),r})();var m=l(1969),Z=l(9238);function T(r,d){if(1&r){const n=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(n),e.oxw().eliminar()}),e._uU(1,"Eliminar"),e.qZA()}}const A=function(r){return{"has-error":r}},C=[{path:"",component:(()=>{class r{constructor(n,t,o,a){this.service=n,this.util=t,this.modalService=o,this.patterns=a}ngOnInit(){var n=this;return(0,c.Z)(function*(){n.form=new i.cw({nAlmacen:new i.NI({value:"",disabled:!0},[]),cDescripcion:new i.NI("",i.kI.required),cDomicilio:new i.NI("",i.kI.required)})})()}get nAlmacen(){var n,t,o;return(null===(n=this.form.get("nAlmacen"))||void 0===n?void 0:n.value)&&""!=(null===(t=this.form.get("nAlmacen"))||void 0===t?void 0:t.value)?null===(o=this.form.get("nAlmacen"))||void 0===o?void 0:o.value:0}get cDescripcion(){var n,t;return null!==(t=null===(n=this.form.get("cDescripcion"))||void 0===n?void 0:n.value)&&void 0!==t?t:""}get cDomicilio(){var n,t;return null!==(t=null===(n=this.form.get("cDomicilio"))||void 0===n?void 0:n.value)&&void 0!==t?t:""}guardar(){var n=this;return(0,c.Z)(function*(){n.util.dialogConfirm("\xbfEst\xe1 seguro que desea guardar los datos?").then(t=>{t.isConfirmed&&n.service.guardarAlmacen({nAlmacen:n.nAlmacen,cDescripcion:n.cDescripcion,cDomicilio:n.cDomicilio}).subscribe(function(){var a=(0,c.Z)(function*(U){""!==U.error?n.util.dialogError(U.error.error.type):(n.limpiar(),n.util.dialogSuccess("Almac\xe9n guardado correctamente."))});return function(U){return a.apply(this,arguments)}}(),a=>{n.util.dialogError("Error al guardar el almac\xe9n.")})})})()}openModal(){const n=this.modalService.open(p,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});n.closed.subscribe(t=>{console.log("value:",t),t&&(this.form.controls.nAlmacen.setValue(t.id),this.mostrarDatos(),n.close())})}mostrarDatos(){this.service.obtenerAlmacenes(this.nAlmacen).subscribe(n=>{if(n){const t=n.data[0];this.form.controls.nAlmacen.setValue(t.nAlmacen),this.form.controls.cDescripcion.setValue(t.cDescripcion),this.form.controls.cDomicilio.setValue(t.cDomicilio)}},n=>{})}limpiar(){this.form.controls.nAlmacen.setValue(""),this.form.controls.cDescripcion.setValue(""),this.form.controls.cDomicilio.setValue("")}eliminar(){var n=this;this.util.dialogConfirm("\xbfEst\xe1 seguro que desea eliminar los datos?").then(t=>{t.isConfirmed&&this.service.eliminarAlmacen(this.nAlmacen).subscribe(function(){var o=(0,c.Z)(function*(a){n.util.dialogSuccess("Almac\xe9n eliminado correctamente."),n.limpiar()});return function(a){return o.apply(this,arguments)}}(),o=>{this.util.dialogError("Error al eliminar el almac\xe9n.")})})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(g.O),e.Y36(m.F),e.Y36(u.FF),e.Y36(Z.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-stores"]],decls:117,vars:9,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["name","form",3,"formGroup"],[1,"my-4"],[1,"col-sm-12"],[1,"form-label","col-sm-2","col-form-label","text-end"],[1,"col-sm-8"],[1,"input-group"],["type","text","placeholder","","formControlName","nAlmacen",1,"form-control","form-control-sm"],[1,"input-group-text","border-start-0","bg-white"],[1,"feather","icon-search",3,"click"],[1,"col-sm-2"],["type","text","formControlName","cDescripcion","maxlength","100",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","cDomicilio","maxlength","100",1,"form-control","form-control-sm",3,"ngClass"],[1,"d-flex","justify-content-center","my-4"],["type","button",1,"btn","btn-warning","mx-2",3,"click"],["type","button","class","btn btn-danger mx-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"],["type","button",1,"btn","btn-danger","mx-2",3,"click"]],template:function(n,t){if(1&n&&(e._uU(0,"\n"),e.TgZ(1,"nav",0),e._uU(2,"\n  "),e.TgZ(3,"ol",1),e._uU(4,"\n    "),e.TgZ(5,"li",2)(6,"a",3),e._uU(7,"Configuraci\xf3n General"),e.qZA()(),e._uU(8,"\n    "),e.TgZ(9,"li",4),e._uU(10,"Almacenes"),e.qZA(),e._uU(11,"\n  "),e.qZA(),e._uU(12,"\n"),e.qZA(),e._uU(13,"\n\n"),e._uU(14,"\n"),e._uU(15,"\n\n"),e._uU(16,"\n"),e.TgZ(17,"div",5),e._uU(18,"\n  "),e.TgZ(19,"div",6),e._uU(20,"\n    "),e.TgZ(21,"div",7),e._uU(22,"\n      "),e.TgZ(23,"div",8),e._uU(24,"\n        "),e.TgZ(25,"h6",9),e._uU(26,"Formulario de Almacenes"),e.qZA(),e._uU(27,"\n        "),e.TgZ(28,"form",10),e._uU(29,"\n\n\n          "),e.TgZ(30,"div",11),e._uU(31,"\n            "),e.TgZ(32,"div",5),e._uU(33,"\n              "),e.TgZ(34,"div",12),e._uU(35,"\n                "),e.TgZ(36,"div",5),e._uU(37,"\n                  "),e.TgZ(38,"label",13),e._uU(39,"Folio"),e.qZA(),e._uU(40,"\n                  "),e.TgZ(41,"div",14),e._uU(42,"\n                    "),e.TgZ(43,"div",15),e._uU(44,"\n                    "),e._UZ(45,"input",16),e._uU(46,"\n                    "),e.TgZ(47,"span",17),e._uU(48,"\n                      "),e.TgZ(49,"i",18),e.NdJ("click",function(){return t.openModal()}),e.qZA(),e._uU(50,"\n                    "),e.qZA(),e._uU(51,"\n                  "),e.qZA(),e._uU(52,"\n                  "),e.qZA(),e._uU(53,"\n                  "),e._UZ(54,"div",19),e._uU(55,"\n                "),e.qZA(),e._uU(56,"\n              "),e.qZA(),e._uU(57,"\n            "),e.qZA(),e._uU(58,"\n          "),e.qZA(),e._uU(59,"\n\n          "),e.TgZ(60,"div",11),e._uU(61,"\n            "),e.TgZ(62,"div",5),e._uU(63,"\n              "),e.TgZ(64,"div",12),e._uU(65,"\n                "),e.TgZ(66,"div",5),e._uU(67,"\n                "),e.TgZ(68,"label",13),e._uU(69,"Descripci\xf3n"),e.qZA(),e._uU(70,"\n                "),e.TgZ(71,"div",14),e._uU(72,"\n                "),e._UZ(73,"input",20),e._uU(74,"\n                "),e.qZA(),e._uU(75,"\n                \n              "),e.qZA(),e._uU(76,"\n            "),e.qZA(),e._uU(77,"\n            "),e._UZ(78,"div",19),e._uU(79,"\n          "),e.qZA(),e._uU(80,"\n        "),e.qZA(),e._uU(81,"\n\n\n        "),e.TgZ(82,"div",11),e._uU(83,"\n          "),e.TgZ(84,"div",5),e._uU(85,"\n            "),e.TgZ(86,"div",12),e._uU(87,"\n              "),e.TgZ(88,"div",5),e._uU(89,"\n                "),e.TgZ(90,"label",13),e._uU(91,"Domicilio"),e.qZA(),e._uU(92,"\n                "),e.TgZ(93,"div",14),e._uU(94,"\n                "),e._UZ(95,"input",21),e._uU(96,"\n\n              "),e.qZA(),e._uU(97,"\n            "),e.qZA(),e._uU(98,"\n          "),e.qZA(),e._uU(99,"\n          "),e.qZA(),e._uU(100,"\n        "),e.qZA(),e._uU(101,"\n        \n\n\n           \n        \n\n          "),e.qZA(),e._uU(102,"\n          "),e.TgZ(103,"div",22),e._uU(104,"\n            "),e.TgZ(105,"button",23),e.NdJ("click",function(){return t.limpiar()}),e._uU(106,"Limpiar"),e.qZA(),e._uU(107,"\n              "),e.YNc(108,T,2,0,"button",24),e._uU(109,"\n              "),e.TgZ(110,"button",25),e.NdJ("click",function(){return t.guardar()}),e._uU(111,"Guardar"),e.qZA(),e._uU(112,"\n          "),e.qZA(),e._uU(113,"\n      "),e.qZA(),e._uU(114,"\n    "),e.qZA(),e._uU(115,"\n  "),e.qZA(),e._uU(116,"\n"),e.qZA()),2&n){let o,a;e.xp6(28),e.Q6J("formGroup",t.form),e.xp6(45),e.Q6J("ngClass",e.VKq(5,A,null==(o=t.form.get("cDescripcion"))?null:o.hasError("required"))),e.xp6(22),e.Q6J("ngClass",e.VKq(7,A,null==(a=t.form.get("cDomicilio"))?null:a.hasError("required"))),e.xp6(13),e.Q6J("ngIf",t.nAlmacen>0),e.xp6(2),e.Q6J("disabled",t.form.invalid)}},directives:[v.yS,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.nD,_.mk,_.O5],styles:[""]}),r})()}];let q=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez,v.Bz.forChild(C),f.m,s.xD.forRoot({messages:{emptyMessage:"No hay datos disponibles",totalMessage:"total",selectedMessage:"selected"}})]]}),r})()},5861:(b,h,l)=>{function _(f,c,i,e,u,g,s){try{var p=f[g](s),m=p.value}catch(Z){return void i(Z)}p.done?c(m):Promise.resolve(m).then(e,u)}function v(f){return function(){var c=this,i=arguments;return new Promise(function(e,u){var g=f.apply(c,i);function s(m){_(g,e,u,s,p,"next",m)}function p(m){_(g,e,u,s,p,"throw",m)}s(void 0)})}}l.d(h,{Z:()=>v})}}]);