"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[810],{6810:(b,v,i)=>{i.r(v),i.d(v,{ParcelModule:()=>q});var _=i(9808),U=i(9560),h=i(5886),s=i(5861),a=i(2382),e=i(4893),d=i(257),p=i(5845),u=i(6166);let f=(()=>{class n{constructor(t,o,r){this.activeModal=t,this.modalService=o,this.service=r,this.data=[],this.dataTemp=[],this.valueBuscador=""}ngOnInit(){this.service.obtenerFleteras(0).subscribe(t=>{this.data=t.data,this.dataTemp=[...this.data]},t=>{})}ngAfterViewChecked(){window.dispatchEvent(new Event("resize"))}close(t=this){t.activeModal.close({})}filterDatatable(t){if(this.data=this.data,""===t.target.value)this.data=this.dataTemp;else{const o=t.target.value.toLowerCase(),r=this.data.filter(l=>-1!==l.nFletera.toString().toLowerCase().indexOf(o)||!o||-1!==l.cDescripcion.toLowerCase().indexOf(o)||!o);this.data=r}}onClick(t){"click"==t.type&&(this.selectedRow&&this.selectedRow.nFletera==t.row.nFletera?this.activeModal.close({id:this.selectedRow.nFletera}):this.selectedRow=t.row)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.Kz),e.Y36(d.FF),e.Y36(p.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-busqueda-fletera"]],decls:11,vars:10,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["type","text","matInput","","placeholder","Buscar fletera",3,"ngModel","keyup","ngModelChange"],[1,"material","shadow-none",3,"rows","loadingIndicator","columnMode","headerHeight","footerHeight","rowHeight","reorderable","limit","scrollbarH","activate"],["name","Folio","prop","nFletera"],["name","Descripci\xf3n","prop","cDescripcion"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"B\xfasqueda de fleteras"),e.qZA()(),e.TgZ(3,"div",2)(4,"input",3),e.NdJ("keyup",function(l){return o.filterDatatable(l)})("ngModelChange",function(l){return o.valueBuscador=l}),e.qZA(),e.TgZ(5,"ngx-datatable",4),e.NdJ("activate",function(l){return o.onClick(l)}),e._UZ(6,"ngx-datatable-column",5)(7,"ngx-datatable-column",6),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return o.close()}),e._uU(10," Cerrar "),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngModel",o.valueBuscador),e.xp6(1),e.Q6J("rows",o.data)("loadingIndicator",o.loadingIndicator)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("reorderable",o.reorderable)("limit",10)("scrollbarH",!0))},directives:[a.Fj,a.JJ,a.On,u.nE,u.UC],styles:[""]}),n})();var m=i(1969),Z=i(9238);function C(n,c){1&n&&(e.TgZ(0,"p",30),e._uU(1,"\n                    El campo no es un tel\xe9fono v\xe1lido a 10 d\xedgitos.\n                  "),e.qZA())}function T(n,c){1&n&&(e.TgZ(0,"p",30),e._uU(1,"\n                    El campo no es un correo electr\xf3nico v\xe1lido.\n                  "),e.qZA())}function F(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().eliminar()}),e._uU(1,"Eliminar"),e.qZA()}}const y=function(n){return{"has-error":n}},A=[{path:"",component:(()=>{class n{constructor(t,o,r,l){this.service=t,this.util=o,this.modalService=r,this.patterns=l}ngOnInit(){var t=this;return(0,s.Z)(function*(){t.form=new a.cw({nFletera:new a.NI({value:"",disabled:!0},[]),cDescripcion:new a.NI("",a.kI.required),cTelefono:new a.NI("",a.kI.pattern(t.patterns.basicPhone)),cContacto:new a.NI("",[]),cCorreoElectronico:new a.NI("",a.kI.email)})})()}get nFletera(){var t,o,r;return(null===(t=this.form.get("nFletera"))||void 0===t?void 0:t.value)&&""!=(null===(o=this.form.get("nFletera"))||void 0===o?void 0:o.value)?null===(r=this.form.get("nFletera"))||void 0===r?void 0:r.value:0}get cDescripcion(){var t,o;return null!==(o=null===(t=this.form.get("cDescripcion"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get cTelefono(){var t,o;return null!==(o=null===(t=this.form.get("cTelefono"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get cContacto(){var t,o;return null!==(o=null===(t=this.form.get("cContacto"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}get cCorreoElectronico(){var t,o;return null!==(o=null===(t=this.form.get("cCorreoElectronico"))||void 0===t?void 0:t.value)&&void 0!==o?o:""}guardar(){var t=this;return(0,s.Z)(function*(){t.util.dialogConfirm("\xbfEst\xe1 seguro que desea guardar los datos?").then(o=>{o.isConfirmed&&t.service.guardarFletera({nFletera:t.nFletera,cDescripcion:t.cDescripcion,cTelefono:t.cTelefono,cContacto:t.cContacto,cCorreoElectronico:t.cCorreoElectronico}).subscribe(function(){var l=(0,s.Z)(function*(g){""!==g.error?t.util.dialogError(g.error.error.type):(t.limpiar(),t.util.dialogSuccess("Fletera guardada correctamente."))});return function(g){return l.apply(this,arguments)}}(),l=>{t.util.dialogError("Error al guardar la fletera.")})})})()}openModal(){const t=this.modalService.open(f,{centered:!0,backdrop:"static",keyboard:!1,modalDialogClass:"dialog-formulario-chico"});t.closed.subscribe(o=>{console.log("value:",o),o&&(this.form.controls.nFletera.setValue(o.id),this.mostrarDatos(),t.close())})}mostrarDatos(){this.service.obtenerFleteras(this.nFletera).subscribe(t=>{if(t){const o=t.data[0];this.form.controls.nFletera.setValue(o.nFletera),this.form.controls.cDescripcion.setValue(o.cDescripcion),this.form.controls.cTelefono.setValue(o.cTelefono),this.form.controls.cContacto.setValue(o.cContacto),this.form.controls.cCorreoElectronico.setValue(o.cCorreoElectronico)}},t=>{})}limpiar(){this.form.controls.nFletera.setValue(""),this.form.controls.cDescripcion.setValue(""),this.form.controls.cTelefono.setValue(""),this.form.controls.cContacto.setValue(""),this.form.controls.cCorreoElectronico.setValue("")}eliminar(){var t=this;this.util.dialogConfirm("\xbfEst\xe1 seguro que desea eliminar los datos?").then(o=>{o.isConfirmed&&this.service.eliminarFletera(this.nFletera).subscribe(function(){var r=(0,s.Z)(function*(l){t.util.dialogSuccess("Fletera eliminada correctamente."),t.limpiar()});return function(l){return r.apply(this,arguments)}}(),r=>{this.util.dialogError("Error al eliminar la fletera.")})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.x),e.Y36(m.F),e.Y36(d.FF),e.Y36(Z.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-parcel"]],decls:116,vars:8,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["name","form",3,"formGroup"],[1,"row","mt-4"],[1,"col-sm-12"],[1,"form-label","col-sm-2","col-form-label","text-end"],[1,"col-sm-5"],[1,"input-group"],["type","text","placeholder","","formControlName","nFletera",1,"form-control","form-control-sm"],[1,"input-group-text","border-start-0","bg-white"],[1,"feather","icon-search",3,"click"],[1,"col-sm-8"],["type","text","placeholder","","formControlName","cDescripcion","maxlength","100",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-sm-2"],["type","text","placeholder","","formControlName","cTelefono","maxlength","10",1,"form-control","form-control-sm"],["class","error p-0 mt-1 mb-1",4,"ngIf"],["type","text","placeholder","","formControlName","cContacto","maxlength","100",1,"form-control","form-control-sm"],["type","text","placeholder","","formControlName","cCorreoElectronico","maxlength","100",1,"form-control","form-control-sm"],[1,"d-flex","justify-content-center","my-4"],["type","button",1,"btn","btn-warning","mx-2",3,"click"],["type","button","class","btn btn-danger mx-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"],[1,"error","p-0","mt-1","mb-1"],["type","button",1,"btn","btn-danger","mx-2",3,"click"]],template:function(t,o){if(1&t&&(e._uU(0,"\n"),e.TgZ(1,"nav",0),e._uU(2,"\n  "),e.TgZ(3,"ol",1),e._uU(4,"\n    "),e.TgZ(5,"li",2)(6,"a",3),e._uU(7,"Configuraci\xf3n General"),e.qZA()(),e._uU(8,"\n    "),e.TgZ(9,"li",4),e._uU(10,"Transp. Fletes"),e.qZA(),e._uU(11,"\n  "),e.qZA(),e._uU(12,"\n"),e.qZA(),e._uU(13,"\n\n"),e._uU(14,"\n"),e._uU(15,"\n"),e._uU(16,"\n"),e.TgZ(17,"div",5),e._uU(18,"\n  "),e.TgZ(19,"div",6),e._uU(20,"\n    "),e.TgZ(21,"div",7),e._uU(22,"\n      "),e.TgZ(23,"div",8),e._uU(24,"\n        "),e.TgZ(25,"h6",9),e._uU(26,"Formulario de CIA (Fleteras)"),e.qZA(),e._uU(27,"\n        "),e.TgZ(28,"form",10),e._uU(29,"\n\n          "),e.TgZ(30,"div",11),e._uU(31,"\n\n           \n            "),e.TgZ(32,"div",12),e._uU(33,"\n              "),e.TgZ(34,"div",5),e._uU(35,"\n                "),e.TgZ(36,"label",13),e._uU(37,"Folio"),e.qZA(),e._uU(38,"\n                "),e.TgZ(39,"div",14),e._uU(40,"\n                  "),e.TgZ(41,"div",15),e._uU(42,"\n                    "),e._UZ(43,"input",16),e._uU(44,"\n                    "),e.TgZ(45,"span",17),e._uU(46,"\n                      "),e.TgZ(47,"i",18),e.NdJ("click",function(){return o.openModal()}),e.qZA(),e._uU(48,"\n                    "),e.qZA(),e._uU(49,"\n                  "),e.qZA(),e._uU(50,"                  \n                "),e.qZA(),e._uU(51,"\n                "),e._UZ(52,"div",14),e._uU(53,"\n                \n                "),e.TgZ(54,"label",13),e._uU(55,"Descipci\xf3n"),e.qZA(),e._uU(56,"\n                "),e.TgZ(57,"div",19),e._uU(58,"\n                  "),e._UZ(59,"input",20),e._uU(60,"\n                "),e.qZA(),e._uU(61,"\n\n                "),e._UZ(62,"div",21),e._uU(63,"\n\n                "),e.TgZ(64,"label",13),e._uU(65,"Telefono"),e.qZA(),e._uU(66,"\n                "),e.TgZ(67,"div",19),e._uU(68,"\n                  "),e._UZ(69,"input",22),e._uU(70,"\n                  "),e.YNc(71,C,2,0,"p",23),e._uU(72,"\n                "),e.qZA(),e._uU(73,"\n\n                "),e._UZ(74,"div",21),e._uU(75,"\n\n                "),e.TgZ(76,"label",13),e._uU(77,"Contacto"),e.qZA(),e._uU(78,"\n                "),e.TgZ(79,"div",19),e._uU(80,"\n                  "),e._UZ(81,"input",24),e._uU(82,"\n                "),e.qZA(),e._uU(83,"\n\n                "),e._UZ(84,"div",21),e._uU(85,"\n\n                "),e.TgZ(86,"label",13),e._uU(87,"Correo"),e.qZA(),e._uU(88,"\n                "),e.TgZ(89,"div",19),e._uU(90,"\n                  "),e._UZ(91,"input",25),e._uU(92,"\n                  "),e.YNc(93,T,2,0,"p",23),e._uU(94,"\n                "),e.qZA(),e._uU(95,"\n\n                "),e._UZ(96,"div",21),e._uU(97,"\n          \n              "),e.qZA(),e._uU(98,"\n            "),e.qZA(),e._uU(99,"\n          "),e.qZA(),e._uU(100,"\n\n        "),e.qZA(),e._uU(101,"\n        "),e.TgZ(102,"div",26),e._uU(103,"\n          "),e.TgZ(104,"button",27),e.NdJ("click",function(){return o.limpiar()}),e._uU(105,"Limpiar"),e.qZA(),e._uU(106,"\n            "),e.YNc(107,F,2,0,"button",28),e._uU(108,"\n            "),e.TgZ(109,"button",29),e.NdJ("click",function(){return o.guardar()}),e._uU(110,"Guardar"),e.qZA(),e._uU(111,"\n        "),e.qZA(),e._uU(112,"\n      "),e.qZA(),e._uU(113,"\n    "),e.qZA(),e._uU(114,"\n  "),e.qZA(),e._uU(115,"\n"),e.qZA()),2&t){let r,l,g;e.xp6(28),e.Q6J("formGroup",o.form),e.xp6(31),e.Q6J("ngClass",e.VKq(6,y,null==(r=o.form.get("cDescripcion"))?null:r.hasError("required"))),e.xp6(12),e.Q6J("ngIf",null==(l=o.form.get("cTelefono"))?null:l.hasError("pattern")),e.xp6(22),e.Q6J("ngIf",null==(g=o.form.get("cCorreoElectronico"))?null:g.hasError("email")),e.xp6(14),e.Q6J("ngIf",o.nFletera>0),e.xp6(2),e.Q6J("disabled",o.form.invalid)}},directives:[U.yS,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.nD,_.mk,_.O5],styles:[""]}),n})()}];let q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_.ez,U.Bz.forChild(A),h.m,u.xD.forRoot({messages:{emptyMessage:"No hay datos disponibles",totalMessage:"total",selectedMessage:"selected"}})]]}),n})()},5861:(b,v,i)=>{function _(h,s,a,e,d,p,u){try{var f=h[p](u),m=f.value}catch(Z){return void a(Z)}f.done?s(m):Promise.resolve(m).then(e,d)}function U(h){return function(){var s=this,a=arguments;return new Promise(function(e,d){var p=h.apply(s,a);function u(m){_(p,e,d,u,f,"next",m)}function f(m){_(p,e,d,u,f,"throw",m)}u(void 0)})}}i.d(v,{Z:()=>U})}}]);